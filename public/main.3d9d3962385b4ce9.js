"use strict";(self.webpackChunklabo_iv_simulacro=self.webpackChunklabo_iv_simulacro||[]).push([[179],{9058:(xt,Ge,H)=>{H.d(Ge,{BH:()=>Oe,G6:()=>Ft,L:()=>je,LL:()=>ie,P0:()=>kn,Pz:()=>Ke,Sg:()=>lt,ZR:()=>le,aH:()=>Se,b$:()=>xr,eu:()=>me,hl:()=>Ee,m9:()=>ii,ne:()=>Br,ru:()=>pr,tV:()=>Q,uI:()=>nt,vZ:()=>uo,xO:()=>fn,z$:()=>ft});const we=function(q){const F=[];let V=0;for(let L=0;L<q.length;L++){let U=q.charCodeAt(L);U<128?F[V++]=U:U<2048?(F[V++]=U>>6|192,F[V++]=63&U|128):55296==(64512&U)&&L+1<q.length&&56320==(64512&q.charCodeAt(L+1))?(U=65536+((1023&U)<<10)+(1023&q.charCodeAt(++L)),F[V++]=U>>18|240,F[V++]=U>>12&63|128,F[V++]=U>>6&63|128,F[V++]=63&U|128):(F[V++]=U>>12|224,F[V++]=U>>6&63|128,F[V++]=63&U|128)}return F},ye={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(q,F){if(!Array.isArray(q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const V=F?this.byteToCharMapWebSafe_:this.byteToCharMap_,L=[];for(let U=0;U<q.length;U+=3){const se=q[U],Le=U+1<q.length,rt=Le?q[U+1]:0,Rt=U+2<q.length,Dt=Rt?q[U+2]:0;let Yn=(15&rt)<<2|Dt>>6,$r=63&Dt;Rt||($r=64,Le||(Yn=64)),L.push(V[se>>2],V[(3&se)<<4|rt>>4],V[Yn],V[$r])}return L.join("")},encodeString(q,F){return this.HAS_NATIVE_SUPPORT&&!F?btoa(q):this.encodeByteArray(we(q),F)},decodeString(q,F){return this.HAS_NATIVE_SUPPORT&&!F?atob(q):function(q){const F=[];let V=0,L=0;for(;V<q.length;){const U=q[V++];if(U<128)F[L++]=String.fromCharCode(U);else if(U>191&&U<224){const se=q[V++];F[L++]=String.fromCharCode((31&U)<<6|63&se)}else if(U>239&&U<365){const Rt=((7&U)<<18|(63&q[V++])<<12|(63&q[V++])<<6|63&q[V++])-65536;F[L++]=String.fromCharCode(55296+(Rt>>10)),F[L++]=String.fromCharCode(56320+(1023&Rt))}else{const se=q[V++],Le=q[V++];F[L++]=String.fromCharCode((15&U)<<12|(63&se)<<6|63&Le)}}return F.join("")}(this.decodeStringToByteArray(q,F))},decodeStringToByteArray(q,F){this.init_();const V=F?this.charToByteMapWebSafe_:this.charToByteMap_,L=[];for(let U=0;U<q.length;){const se=V[q.charAt(U++)],rt=U<q.length?V[q.charAt(U)]:0;++U;const Dt=U<q.length?V[q.charAt(U)]:64;++U;const Mt=U<q.length?V[q.charAt(U)]:64;if(++U,null==se||null==rt||null==Dt||null==Mt)throw new be;L.push(se<<2|rt>>4),64!==Dt&&(L.push(rt<<4&240|Dt>>2),64!==Mt&&L.push(Dt<<6&192|Mt))}return L},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let q=0;q<this.ENCODED_VALS.length;q++)this.byteToCharMap_[q]=this.ENCODED_VALS.charAt(q),this.charToByteMap_[this.byteToCharMap_[q]]=q,this.byteToCharMapWebSafe_[q]=this.ENCODED_VALS_WEBSAFE.charAt(q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[q]]=q,q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(q)]=q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(q)]=q)}}};class be extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const je=function(q){return function(q){const F=we(q);return ye.encodeByteArray(F,!0)}(q).replace(/\./g,"")},Q=function(q){try{return ye.decodeString(q,!0)}catch(F){console.error("base64Decode failed: ",F)}return null},Nt=()=>{try{return function Be(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const q=process.env.__FIREBASE_DEFAULTS__;return q?JSON.parse(q):void 0})()||(()=>{if(typeof document>"u")return;let q;try{q=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const F=q&&Q(q[1]);return F&&JSON.parse(F)})()}catch(q){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${q}`)}},kn=q=>{const F=(q=>{var F,V;return null===(V=null===(F=Nt())||void 0===F?void 0:F.emulatorHosts)||void 0===V?void 0:V[q]})(q);if(!F)return;const V=F.lastIndexOf(":");if(V<=0||V+1===F.length)throw new Error(`Invalid host ${F} with no separate hostname and port!`);const L=parseInt(F.substring(V+1),10);return"["===F[0]?[F.substring(1,V-1),L]:[F.substring(0,V),L]},Se=()=>{var q;return null===(q=Nt())||void 0===q?void 0:q.config},Ke=q=>{var F;return null===(F=Nt())||void 0===F?void 0:F[`_${q}`]};class Oe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((F,V)=>{this.resolve=F,this.reject=V})}wrapCallback(F){return(V,L)=>{V?this.reject(V):this.resolve(L),"function"==typeof F&&(this.promise.catch(()=>{}),1===F.length?F(V):F(V,L))}}}function lt(q,F){if(q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const L=F||"demo-project",U=q.iat||0,se=q.sub||q.user_id;if(!se)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Le=Object.assign({iss:`https://securetoken.google.com/${L}`,aud:L,iat:U,exp:U+3600,auth_time:U,sub:se,user_id:se,firebase:{sign_in_provider:"custom",identities:{}}},q);return[je(JSON.stringify({alg:"none",type:"JWT"})),je(JSON.stringify(Le)),""].join(".")}function ft(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function nt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ft())}function pr(){const q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof q&&void 0!==q.id}function xr(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ft(){return!function Ze(){var q;const F=null===(q=Nt())||void 0===q?void 0:q.forceEnvironment;if("node"===F)return!0;if("browser"===F)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ee(){try{return"object"==typeof indexedDB}catch{return!1}}function me(){return new Promise((q,F)=>{try{let V=!0;const L="validate-browser-context-for-indexeddb-analytics-module",U=self.indexedDB.open(L);U.onsuccess=()=>{U.result.close(),V||self.indexedDB.deleteDatabase(L),q(!0)},U.onupgradeneeded=()=>{V=!1},U.onerror=()=>{var se;F((null===(se=U.error)||void 0===se?void 0:se.message)||"")}}catch(V){F(V)}})}class le extends Error{constructor(F,V,L){super(V),this.code=F,this.customData=L,this.name="FirebaseError",Object.setPrototypeOf(this,le.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ie.prototype.create)}}class ie{constructor(F,V,L){this.service=F,this.serviceName=V,this.errors=L}create(F,...V){const L=V[0]||{},U=`${this.service}/${F}`,se=this.errors[F],Le=se?function Ce(q,F){return q.replace(Je,(V,L)=>{const U=F[L];return null!=U?String(U):`<${L}?>`})}(se,L):"Error";return new le(U,`${this.serviceName}: ${Le} (${U}).`,L)}}const Je=/\{\$([^}]+)}/g;function uo(q,F){if(q===F)return!0;const V=Object.keys(q),L=Object.keys(F);for(const U of V){if(!L.includes(U))return!1;const se=q[U],Le=F[U];if(pi(se)&&pi(Le)){if(!uo(se,Le))return!1}else if(se!==Le)return!1}for(const U of L)if(!V.includes(U))return!1;return!0}function pi(q){return null!==q&&"object"==typeof q}function fn(q){const F=[];for(const[V,L]of Object.entries(q))Array.isArray(L)?L.forEach(U=>{F.push(encodeURIComponent(V)+"="+encodeURIComponent(U))}):F.push(encodeURIComponent(V)+"="+encodeURIComponent(L));return F.length?"&"+F.join("&"):""}function Br(q,F){const V=new bt(q,F);return V.subscribe.bind(V)}class bt{constructor(F,V){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=V,this.task.then(()=>{F(this)}).catch(L=>{this.error(L)})}next(F){this.forEachObserver(V=>{V.next(F)})}error(F){this.forEachObserver(V=>{V.error(F)}),this.close(F)}complete(){this.forEachObserver(F=>{F.complete()}),this.close()}subscribe(F,V,L){let U;if(void 0===F&&void 0===V&&void 0===L)throw new Error("Missing Observer.");U=function Nr(q,F){if("object"!=typeof q||null===q)return!1;for(const V of F)if(V in q&&"function"==typeof q[V])return!0;return!1}(F,["next","error","complete"])?F:{next:F,error:V,complete:L},void 0===U.next&&(U.next=xn),void 0===U.error&&(U.error=xn),void 0===U.complete&&(U.complete=xn);const se=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?U.error(this.finalError):U.complete()}catch{}}),this.observers.push(U),se}unsubscribeOne(F){void 0===this.observers||void 0===this.observers[F]||(delete this.observers[F],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(F){if(!this.finalized)for(let V=0;V<this.observers.length;V++)this.sendOne(V,F)}sendOne(F,V){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[F])try{V(this.observers[F])}catch(L){typeof console<"u"&&console.error&&console.error(L)}})}close(F){this.finalized||(this.finalized=!0,void 0!==F&&(this.finalError=F),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xn(){}function ii(q){return q&&q._delegate?q._delegate:q}},7035:(xt,Ge,H)=>{var A=H(6593),te=H(4330),Re=H(4946);const we=[{path:"bienvenido",loadChildren:()=>H.e(38).then(H.bind(H,38)).then(Q=>Q.BienvenidoModule)},{path:"",loadChildren:()=>H.e(38).then(H.bind(H,38)).then(Q=>Q.BienvenidoModule)},{path:"busqueda",loadChildren:()=>H.e(875).then(H.bind(H,7875)).then(Q=>Q.BusquedaModule)},{path:"actor",loadChildren:()=>H.e(209).then(H.bind(H,6209)).then(Q=>Q.ActorModule)},{path:"peliculas",loadChildren:()=>H.e(89).then(H.bind(H,5089)).then(Q=>Q.PeliculasModule)}];let W=(()=>{class Q{static#e=this.\u0275fac=function(Xe){return new(Xe||Q)};static#t=this.\u0275mod=Re.oAB({type:Q});static#n=this.\u0275inj=Re.cJS({imports:[te.Bz.forRoot(we),te.Bz]})}return Q})(),ye=(()=>{class Q{constructor(){this.title="labo-iv-simulacro"}static#e=this.\u0275fac=function(Xe){return new(Xe||Q)};static#t=this.\u0275cmp=Re.Xpm({type:Q,selectors:[["app-root"]],decls:9,vars:0,consts:[["rel","canonical","href","https://getbootstrap.com/docs/5.1/examples/sign-in/"],["href","https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css","rel","stylesheet","integrity","sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3","crossorigin","anonymous"],[1,"navbar","navbar-dark","bg-dark"],[1,"container","mx-auto"],["href","bienvenido",1,"navbar-brand"],["href","busqueda",1,"navbar-brand"]],template:function(Xe,Be){1&Xe&&(Re._UZ(0,"link",0)(1,"link",1),Re.TgZ(2,"nav",2)(3,"div",3)(4,"a",4),Re._uU(5,"Bienvenido"),Re.qZA(),Re.TgZ(6,"a",5),Re._uU(7,"B\xfasqueda"),Re.qZA()()(),Re._UZ(8,"router-outlet"))},dependencies:[te.lC]})}return Q})();var be=H(721),tt=H(8819);let je=(()=>{class Q{static#e=this.\u0275fac=function(Xe){return new(Xe||Q)};static#t=this.\u0275mod=Re.oAB({type:Q,bootstrap:[ye]});static#n=this.\u0275inj=Re.cJS({imports:[A.b2,W,(0,be.hX)(()=>(0,be.ZF)({projectId:"labo-iv-a8ace",appId:"1:416010594892:web:349cc79b2a138a7236a2e9",storageBucket:"labo-iv-a8ace.appspot.com",apiKey:"AIzaSyCQc-CJZI0SkCg6oG5t2FPDAaU9RehnTUI",authDomain:"labo-iv-a8ace.firebaseapp.com",messagingSenderId:"416010594892",measurementId:"G-D3MSPYW20W"})),(0,tt.Cm)(()=>(0,tt.ad)())]})}return Q})();A.q6().bootstrapModule(je).catch(Q=>console.error(Q))},5619:(xt,Ge,H)=>{H.d(Ge,{X:()=>te});var A=H(8645);class te extends A.x{constructor(we){super(),this._value=we}get value(){return this.getValue()}_subscribe(we){const W=super._subscribe(we);return!W.closed&&we.next(this._value),W}getValue(){const{hasError:we,thrownError:W,_value:ye}=this;if(we)throw W;return this._throwIfClosed(),ye}next(we){super.next(this._value=we)}}},5592:(xt,Ge,H)=>{H.d(Ge,{y:()=>tt});var A=H(305),te=H(7394),Re=H(4850),we=H(8407),W=H(2653),ye=H(4674),be=H(1441);let tt=(()=>{class ve{constructor(Be){Be&&(this._subscribe=Be)}lift(Be){const Qe=new ve;return Qe.source=this,Qe.operator=Be,Qe}subscribe(Be,Qe,en){const Ot=function X(ve){return ve&&ve instanceof A.Lv||function Q(ve){return ve&&(0,ye.m)(ve.next)&&(0,ye.m)(ve.error)&&(0,ye.m)(ve.complete)}(ve)&&(0,te.Nn)(ve)}(Be)?Be:new A.Hp(Be,Qe,en);return(0,be.x)(()=>{const{operator:Nt,source:dn}=this;Ot.add(Nt?Nt.call(Ot,dn):dn?this._subscribe(Ot):this._trySubscribe(Ot))}),Ot}_trySubscribe(Be){try{return this._subscribe(Be)}catch(Qe){Be.error(Qe)}}forEach(Be,Qe){return new(Qe=je(Qe))((en,Ot)=>{const Nt=new A.Hp({next:dn=>{try{Be(dn)}catch(kn){Ot(kn),Nt.unsubscribe()}},error:Ot,complete:en});this.subscribe(Nt)})}_subscribe(Be){var Qe;return null===(Qe=this.source)||void 0===Qe?void 0:Qe.subscribe(Be)}[Re.L](){return this}pipe(...Be){return(0,we.U)(Be)(this)}toPromise(Be){return new(Be=je(Be))((Qe,en)=>{let Ot;this.subscribe(Nt=>Ot=Nt,Nt=>en(Nt),()=>Qe(Ot))})}}return ve.create=Xe=>new ve(Xe),ve})();function je(ve){var Xe;return null!==(Xe=ve??W.config.Promise)&&void 0!==Xe?Xe:Promise}},8645:(xt,Ge,H)=>{H.d(Ge,{x:()=>be});var A=H(5592),te=H(7394);const we=(0,H(2306).d)(je=>function(){je(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var W=H(9039),ye=H(1441);let be=(()=>{class je extends A.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(X){const ve=new tt(this,this);return ve.operator=X,ve}_throwIfClosed(){if(this.closed)throw new we}next(X){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ve of this.currentObservers)ve.next(X)}})}error(X){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=X;const{observers:ve}=this;for(;ve.length;)ve.shift().error(X)}})}complete(){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:X}=this;for(;X.length;)X.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var X;return(null===(X=this.observers)||void 0===X?void 0:X.length)>0}_trySubscribe(X){return this._throwIfClosed(),super._trySubscribe(X)}_subscribe(X){return this._throwIfClosed(),this._checkFinalizedStatuses(X),this._innerSubscribe(X)}_innerSubscribe(X){const{hasError:ve,isStopped:Xe,observers:Be}=this;return ve||Xe?te.Lc:(this.currentObservers=null,Be.push(X),new te.w0(()=>{this.currentObservers=null,(0,W.P)(Be,X)}))}_checkFinalizedStatuses(X){const{hasError:ve,thrownError:Xe,isStopped:Be}=this;ve?X.error(Xe):Be&&X.complete()}asObservable(){const X=new A.y;return X.source=this,X}}return je.create=(Q,X)=>new tt(Q,X),je})();class tt extends be{constructor(Q,X){super(),this.destination=Q,this.source=X}next(Q){var X,ve;null===(ve=null===(X=this.destination)||void 0===X?void 0:X.next)||void 0===ve||ve.call(X,Q)}error(Q){var X,ve;null===(ve=null===(X=this.destination)||void 0===X?void 0:X.error)||void 0===ve||ve.call(X,Q)}complete(){var Q,X;null===(X=null===(Q=this.destination)||void 0===Q?void 0:Q.complete)||void 0===X||X.call(Q)}_subscribe(Q){var X,ve;return null!==(ve=null===(X=this.source)||void 0===X?void 0:X.subscribe(Q))&&void 0!==ve?ve:te.Lc}}},305:(xt,Ge,H)=>{H.d(Ge,{Hp:()=>en,Lv:()=>ve});var A=H(4674),te=H(7394),Re=H(2653),we=H(3894),W=H(2420);const ye=je("C",void 0,void 0);function je(Se,Ke,Oe){return{kind:Se,value:Ke,error:Oe}}var Q=H(7599),X=H(1441);class ve extends te.w0{constructor(Ke){super(),this.isStopped=!1,Ke?(this.destination=Ke,(0,te.Nn)(Ke)&&Ke.add(this)):this.destination=kn}static create(Ke,Oe,lt){return new en(Ke,Oe,lt)}next(Ke){this.isStopped?dn(function tt(Se){return je("N",Se,void 0)}(Ke),this):this._next(Ke)}error(Ke){this.isStopped?dn(function be(Se){return je("E",void 0,Se)}(Ke),this):(this.isStopped=!0,this._error(Ke))}complete(){this.isStopped?dn(ye,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ke){this.destination.next(Ke)}_error(Ke){try{this.destination.error(Ke)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Xe=Function.prototype.bind;function Be(Se,Ke){return Xe.call(Se,Ke)}class Qe{constructor(Ke){this.partialObserver=Ke}next(Ke){const{partialObserver:Oe}=this;if(Oe.next)try{Oe.next(Ke)}catch(lt){Ot(lt)}}error(Ke){const{partialObserver:Oe}=this;if(Oe.error)try{Oe.error(Ke)}catch(lt){Ot(lt)}else Ot(Ke)}complete(){const{partialObserver:Ke}=this;if(Ke.complete)try{Ke.complete()}catch(Oe){Ot(Oe)}}}class en extends ve{constructor(Ke,Oe,lt){let ft;if(super(),(0,A.m)(Ke)||!Ke)ft={next:Ke??void 0,error:Oe??void 0,complete:lt??void 0};else{let nt;this&&Re.config.useDeprecatedNextContext?(nt=Object.create(Ke),nt.unsubscribe=()=>this.unsubscribe(),ft={next:Ke.next&&Be(Ke.next,nt),error:Ke.error&&Be(Ke.error,nt),complete:Ke.complete&&Be(Ke.complete,nt)}):ft=Ke}this.destination=new Qe(ft)}}function Ot(Se){Re.config.useDeprecatedSynchronousErrorHandling?(0,X.O)(Se):(0,we.h)(Se)}function dn(Se,Ke){const{onStoppedNotification:Oe}=Re.config;Oe&&Q.z.setTimeout(()=>Oe(Se,Ke))}const kn={closed:!0,next:W.Z,error:function Nt(Se){throw Se},complete:W.Z}},7394:(xt,Ge,H)=>{H.d(Ge,{Lc:()=>ye,w0:()=>W,Nn:()=>be});var A=H(4674);const Re=(0,H(2306).d)(je=>function(X){je(this),this.message=X?`${X.length} errors occurred during unsubscription:\n${X.map((ve,Xe)=>`${Xe+1}) ${ve.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=X});var we=H(9039);class W{constructor(Q){this.initialTeardown=Q,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Q;if(!this.closed){this.closed=!0;const{_parentage:X}=this;if(X)if(this._parentage=null,Array.isArray(X))for(const Be of X)Be.remove(this);else X.remove(this);const{initialTeardown:ve}=this;if((0,A.m)(ve))try{ve()}catch(Be){Q=Be instanceof Re?Be.errors:[Be]}const{_finalizers:Xe}=this;if(Xe){this._finalizers=null;for(const Be of Xe)try{tt(Be)}catch(Qe){Q=Q??[],Qe instanceof Re?Q=[...Q,...Qe.errors]:Q.push(Qe)}}if(Q)throw new Re(Q)}}add(Q){var X;if(Q&&Q!==this)if(this.closed)tt(Q);else{if(Q instanceof W){if(Q.closed||Q._hasParent(this))return;Q._addParent(this)}(this._finalizers=null!==(X=this._finalizers)&&void 0!==X?X:[]).push(Q)}}_hasParent(Q){const{_parentage:X}=this;return X===Q||Array.isArray(X)&&X.includes(Q)}_addParent(Q){const{_parentage:X}=this;this._parentage=Array.isArray(X)?(X.push(Q),X):X?[X,Q]:Q}_removeParent(Q){const{_parentage:X}=this;X===Q?this._parentage=null:Array.isArray(X)&&(0,we.P)(X,Q)}remove(Q){const{_finalizers:X}=this;X&&(0,we.P)(X,Q),Q instanceof W&&Q._removeParent(this)}}W.EMPTY=(()=>{const je=new W;return je.closed=!0,je})();const ye=W.EMPTY;function be(je){return je instanceof W||je&&"closed"in je&&(0,A.m)(je.remove)&&(0,A.m)(je.add)&&(0,A.m)(je.unsubscribe)}function tt(je){(0,A.m)(je)?je():je.unsubscribe()}},2653:(xt,Ge,H)=>{H.d(Ge,{config:()=>A});const A={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(xt,Ge,H)=>{H.d(Ge,{E:()=>te});const te=new(H(5592).y)(W=>W.complete())},2459:(xt,Ge,H)=>{H.d(Ge,{D:()=>Ke});var A=H(4829),te=H(3093),Re=H(5137),ye=H(5592),tt=H(4971),je=H(4674),Q=H(7103);function ve(Oe,lt){if(!Oe)throw new Error("Iterable cannot be null");return new ye.y(ft=>{(0,Q.f)(ft,lt,()=>{const nt=Oe[Symbol.asyncIterator]();(0,Q.f)(ft,lt,()=>{nt.next().then(Ze=>{Ze.done?ft.complete():ft.next(Ze.value)})},0,!0)})})}var Xe=H(8382),Be=H(4026),Qe=H(4266),en=H(3664),Ot=H(5726),Nt=H(9853),dn=H(541);function Ke(Oe,lt){return lt?function Se(Oe,lt){if(null!=Oe){if((0,Xe.c)(Oe))return function we(Oe,lt){return(0,A.Xf)(Oe).pipe((0,Re.R)(lt),(0,te.Q)(lt))}(Oe,lt);if((0,Qe.z)(Oe))return function be(Oe,lt){return new ye.y(ft=>{let nt=0;return lt.schedule(function(){nt===Oe.length?ft.complete():(ft.next(Oe[nt++]),ft.closed||this.schedule())})})}(Oe,lt);if((0,Be.t)(Oe))return function W(Oe,lt){return(0,A.Xf)(Oe).pipe((0,Re.R)(lt),(0,te.Q)(lt))}(Oe,lt);if((0,Ot.D)(Oe))return ve(Oe,lt);if((0,en.T)(Oe))return function X(Oe,lt){return new ye.y(ft=>{let nt;return(0,Q.f)(ft,lt,()=>{nt=Oe[tt.h](),(0,Q.f)(ft,lt,()=>{let Ze,wt;try{({value:Ze,done:wt}=nt.next())}catch(pr){return void ft.error(pr)}wt?ft.complete():ft.next(Ze)},0,!0)}),()=>(0,je.m)(nt?.return)&&nt.return()})}(Oe,lt);if((0,dn.L)(Oe))return function kn(Oe,lt){return ve((0,dn.Q)(Oe),lt)}(Oe,lt)}throw(0,Nt.z)(Oe)}(Oe,lt):(0,A.Xf)(Oe)}},4829:(xt,Ge,H)=>{H.d(Ge,{Xf:()=>Xe});var A=H(7582),te=H(4266),Re=H(4026),we=H(5592),W=H(8382),ye=H(5726),be=H(9853),tt=H(3664),je=H(541),Q=H(4674),X=H(3894),ve=H(4850);function Xe(Se){if(Se instanceof we.y)return Se;if(null!=Se){if((0,W.c)(Se))return function Be(Se){return new we.y(Ke=>{const Oe=Se[ve.L]();if((0,Q.m)(Oe.subscribe))return Oe.subscribe(Ke);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Se);if((0,te.z)(Se))return function Qe(Se){return new we.y(Ke=>{for(let Oe=0;Oe<Se.length&&!Ke.closed;Oe++)Ke.next(Se[Oe]);Ke.complete()})}(Se);if((0,Re.t)(Se))return function en(Se){return new we.y(Ke=>{Se.then(Oe=>{Ke.closed||(Ke.next(Oe),Ke.complete())},Oe=>Ke.error(Oe)).then(null,X.h)})}(Se);if((0,ye.D)(Se))return Nt(Se);if((0,tt.T)(Se))return function Ot(Se){return new we.y(Ke=>{for(const Oe of Se)if(Ke.next(Oe),Ke.closed)return;Ke.complete()})}(Se);if((0,je.L)(Se))return function dn(Se){return Nt((0,je.Q)(Se))}(Se)}throw(0,be.z)(Se)}function Nt(Se){return new we.y(Ke=>{(function kn(Se,Ke){var Oe,lt,ft,nt;return(0,A.mG)(this,void 0,void 0,function*(){try{for(Oe=(0,A.KL)(Se);!(lt=yield Oe.next()).done;)if(Ke.next(lt.value),Ke.closed)return}catch(Ze){ft={error:Ze}}finally{try{lt&&!lt.done&&(nt=Oe.return)&&(yield nt.call(Oe))}finally{if(ft)throw ft.error}}Ke.complete()})})(Se,Ke).catch(Oe=>Ke.error(Oe))})}},2096:(xt,Ge,H)=>{H.d(Ge,{of:()=>Re});var A=H(4564),te=H(2459);function Re(...we){const W=(0,A.yG)(we);return(0,te.D)(we,W)}},8251:(xt,Ge,H)=>{H.d(Ge,{x:()=>te});var A=H(305);function te(we,W,ye,be,tt){return new Re(we,W,ye,be,tt)}class Re extends A.Lv{constructor(W,ye,be,tt,je,Q){super(W),this.onFinalize=je,this.shouldUnsubscribe=Q,this._next=ye?function(X){try{ye(X)}catch(ve){W.error(ve)}}:super._next,this._error=tt?function(X){try{tt(X)}catch(ve){W.error(ve)}finally{this.unsubscribe()}}:super._error,this._complete=be?function(){try{be()}catch(X){W.error(X)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var W;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ye}=this;super.unsubscribe(),!ye&&(null===(W=this.onFinalize)||void 0===W||W.call(this))}}}},7398:(xt,Ge,H)=>{H.d(Ge,{U:()=>Re});var A=H(9360),te=H(8251);function Re(we,W){return(0,A.e)((ye,be)=>{let tt=0;ye.subscribe((0,te.x)(be,je=>{be.next(we.call(W,je,tt++))}))})}},7537:(xt,Ge,H)=>{H.d(Ge,{J:()=>Re});var A=H(1631),te=H(2737);function Re(we=1/0){return(0,A.z)(te.y,we)}},1631:(xt,Ge,H)=>{H.d(Ge,{z:()=>tt});var A=H(7398),te=H(4829),Re=H(9360),we=H(7103),W=H(8251),be=H(4674);function tt(je,Q,X=1/0){return(0,be.m)(Q)?tt((ve,Xe)=>(0,A.U)((Be,Qe)=>Q(ve,Be,Xe,Qe))((0,te.Xf)(je(ve,Xe))),X):("number"==typeof Q&&(X=Q),(0,Re.e)((ve,Xe)=>function ye(je,Q,X,ve,Xe,Be,Qe,en){const Ot=[];let Nt=0,dn=0,kn=!1;const Se=()=>{kn&&!Ot.length&&!Nt&&Q.complete()},Ke=lt=>Nt<ve?Oe(lt):Ot.push(lt),Oe=lt=>{Be&&Q.next(lt),Nt++;let ft=!1;(0,te.Xf)(X(lt,dn++)).subscribe((0,W.x)(Q,nt=>{Xe?.(nt),Be?Ke(nt):Q.next(nt)},()=>{ft=!0},void 0,()=>{if(ft)try{for(Nt--;Ot.length&&Nt<ve;){const nt=Ot.shift();Qe?(0,we.f)(Q,Qe,()=>Oe(nt)):Oe(nt)}Se()}catch(nt){Q.error(nt)}}))};return je.subscribe((0,W.x)(Q,Ke,()=>{kn=!0,Se()})),()=>{en?.()}}(ve,Xe,je,X)))}},3093:(xt,Ge,H)=>{H.d(Ge,{Q:()=>we});var A=H(7103),te=H(9360),Re=H(8251);function we(W,ye=0){return(0,te.e)((be,tt)=>{be.subscribe((0,Re.x)(tt,je=>(0,A.f)(tt,W,()=>tt.next(je),ye),()=>(0,A.f)(tt,W,()=>tt.complete(),ye),je=>(0,A.f)(tt,W,()=>tt.error(je),ye)))})}},5137:(xt,Ge,H)=>{H.d(Ge,{R:()=>te});var A=H(9360);function te(Re,we=0){return(0,A.e)((W,ye)=>{ye.add(Re.schedule(()=>W.subscribe(ye),we))})}},4664:(xt,Ge,H)=>{H.d(Ge,{w:()=>we});var A=H(4829),te=H(9360),Re=H(8251);function we(W,ye){return(0,te.e)((be,tt)=>{let je=null,Q=0,X=!1;const ve=()=>X&&!je&&tt.complete();be.subscribe((0,Re.x)(tt,Xe=>{je?.unsubscribe();let Be=0;const Qe=Q++;(0,A.Xf)(W(Xe,Qe)).subscribe(je=(0,Re.x)(tt,en=>tt.next(ye?ye(Xe,en,Qe,Be++):en),()=>{je=null,ve()}))},()=>{X=!0,ve()}))})}},9397:(xt,Ge,H)=>{H.d(Ge,{b:()=>W});var A=H(4674),te=H(9360),Re=H(8251),we=H(2737);function W(ye,be,tt){const je=(0,A.m)(ye)||be||tt?{next:ye,error:be,complete:tt}:ye;return je?(0,te.e)((Q,X)=>{var ve;null===(ve=je.subscribe)||void 0===ve||ve.call(je);let Xe=!0;Q.subscribe((0,Re.x)(X,Be=>{var Qe;null===(Qe=je.next)||void 0===Qe||Qe.call(je,Be),X.next(Be)},()=>{var Be;Xe=!1,null===(Be=je.complete)||void 0===Be||Be.call(je),X.complete()},Be=>{var Qe;Xe=!1,null===(Qe=je.error)||void 0===Qe||Qe.call(je,Be),X.error(Be)},()=>{var Be,Qe;Xe&&(null===(Be=je.unsubscribe)||void 0===Be||Be.call(je)),null===(Qe=je.finalize)||void 0===Qe||Qe.call(je)}))}):we.y}},7599:(xt,Ge,H)=>{H.d(Ge,{z:()=>A});const A={setTimeout(te,Re,...we){const{delegate:W}=A;return W?.setTimeout?W.setTimeout(te,Re,...we):setTimeout(te,Re,...we)},clearTimeout(te){const{delegate:Re}=A;return(Re?.clearTimeout||clearTimeout)(te)},delegate:void 0}},4971:(xt,Ge,H)=>{H.d(Ge,{h:()=>te});const te=function A(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(xt,Ge,H)=>{H.d(Ge,{L:()=>A});const A="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(xt,Ge,H)=>{H.d(Ge,{_6:()=>ye,jO:()=>we,yG:()=>W});var A=H(4674);function Re(be){return be[be.length-1]}function we(be){return(0,A.m)(Re(be))?be.pop():void 0}function W(be){return function te(be){return be&&(0,A.m)(be.schedule)}(Re(be))?be.pop():void 0}function ye(be,tt){return"number"==typeof Re(be)?be.pop():tt}},9039:(xt,Ge,H)=>{function A(te,Re){if(te){const we=te.indexOf(Re);0<=we&&te.splice(we,1)}}H.d(Ge,{P:()=>A})},2306:(xt,Ge,H)=>{function A(te){const we=te(W=>{Error.call(W),W.stack=(new Error).stack});return we.prototype=Object.create(Error.prototype),we.prototype.constructor=we,we}H.d(Ge,{d:()=>A})},1441:(xt,Ge,H)=>{H.d(Ge,{O:()=>we,x:()=>Re});var A=H(2653);let te=null;function Re(W){if(A.config.useDeprecatedSynchronousErrorHandling){const ye=!te;if(ye&&(te={errorThrown:!1,error:null}),W(),ye){const{errorThrown:be,error:tt}=te;if(te=null,be)throw tt}}else W()}function we(W){A.config.useDeprecatedSynchronousErrorHandling&&te&&(te.errorThrown=!0,te.error=W)}},7103:(xt,Ge,H)=>{function A(te,Re,we,W=0,ye=!1){const be=Re.schedule(function(){we(),ye?te.add(this.schedule(null,W)):this.unsubscribe()},W);if(te.add(be),!ye)return be}H.d(Ge,{f:()=>A})},2737:(xt,Ge,H)=>{function A(te){return te}H.d(Ge,{y:()=>A})},4266:(xt,Ge,H)=>{H.d(Ge,{z:()=>A});const A=te=>te&&"number"==typeof te.length&&"function"!=typeof te},5726:(xt,Ge,H)=>{H.d(Ge,{D:()=>te});var A=H(4674);function te(Re){return Symbol.asyncIterator&&(0,A.m)(Re?.[Symbol.asyncIterator])}},4674:(xt,Ge,H)=>{function A(te){return"function"==typeof te}H.d(Ge,{m:()=>A})},8382:(xt,Ge,H)=>{H.d(Ge,{c:()=>Re});var A=H(4850),te=H(4674);function Re(we){return(0,te.m)(we[A.L])}},3664:(xt,Ge,H)=>{H.d(Ge,{T:()=>Re});var A=H(4971),te=H(4674);function Re(we){return(0,te.m)(we?.[A.h])}},4026:(xt,Ge,H)=>{H.d(Ge,{t:()=>te});var A=H(4674);function te(Re){return(0,A.m)(Re?.then)}},541:(xt,Ge,H)=>{H.d(Ge,{L:()=>we,Q:()=>Re});var A=H(7582),te=H(4674);function Re(W){return(0,A.FC)(this,arguments,function*(){const be=W.getReader();try{for(;;){const{value:tt,done:je}=yield(0,A.qq)(be.read());if(je)return yield(0,A.qq)(void 0);yield yield(0,A.qq)(tt)}}finally{be.releaseLock()}})}function we(W){return(0,te.m)(W?.getReader)}},9360:(xt,Ge,H)=>{H.d(Ge,{A:()=>te,e:()=>Re});var A=H(4674);function te(we){return(0,A.m)(we?.lift)}function Re(we){return W=>{if(te(W))return W.lift(function(ye){try{return we(ye,this)}catch(be){this.error(be)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(xt,Ge,H)=>{function A(){}H.d(Ge,{Z:()=>A})},8407:(xt,Ge,H)=>{H.d(Ge,{U:()=>Re,z:()=>te});var A=H(2737);function te(...we){return Re(we)}function Re(we){return 0===we.length?A.y:1===we.length?we[0]:function(ye){return we.reduce((be,tt)=>tt(be),ye)}}},3894:(xt,Ge,H)=>{H.d(Ge,{h:()=>Re});var A=H(2653),te=H(7599);function Re(we){te.z.setTimeout(()=>{const{onUnhandledError:W}=A.config;if(!W)throw we;W(we)})}},9853:(xt,Ge,H)=>{function A(te){return new TypeError(`You provided ${null!==te&&"object"==typeof te?"an invalid object":`'${te}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}H.d(Ge,{z:()=>A})},6814:(xt,Ge,H)=>{H.d(Ge,{Do:()=>en,EM:()=>tr,HT:()=>we,JF:()=>ai,K0:()=>ye,Mx:()=>Ut,O5:()=>Co,PM:()=>Kt,S$:()=>Xe,V_:()=>tt,Ye:()=>Ot,b0:()=>Qe,bD:()=>Ki,ez:()=>ma,q:()=>Re,sg:()=>Pi,w_:()=>W});var A=H(4946);let te=null;function Re(){return te}function we(v){te||(te=v)}class W{}const ye=new A.OlP("DocumentToken");let be=(()=>{class v{historyGo(C){throw new Error("Not implemented")}static#e=this.\u0275fac=function(M){return new(M||v)};static#t=this.\u0275prov=A.Yz7({token:v,factory:function(){return(0,A.f3M)(je)},providedIn:"platform"})}return v})();const tt=new A.OlP("Location Initialized");let je=(()=>{class v extends be{constructor(){super(),this._doc=(0,A.f3M)(ye),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Re().getBaseHref(this._doc)}onPopState(C){const M=Re().getGlobalEventTarget(this._doc,"window");return M.addEventListener("popstate",C,!1),()=>M.removeEventListener("popstate",C)}onHashChange(C){const M=Re().getGlobalEventTarget(this._doc,"window");return M.addEventListener("hashchange",C,!1),()=>M.removeEventListener("hashchange",C)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(C){this._location.pathname=C}pushState(C,M,z){this._history.pushState(C,M,z)}replaceState(C,M,z){this._history.replaceState(C,M,z)}forward(){this._history.forward()}back(){this._history.back()}historyGo(C=0){this._history.go(C)}getState(){return this._history.state}static#e=this.\u0275fac=function(M){return new(M||v)};static#t=this.\u0275prov=A.Yz7({token:v,factory:function(){return new v},providedIn:"platform"})}return v})();function Q(v,N){if(0==v.length)return N;if(0==N.length)return v;let C=0;return v.endsWith("/")&&C++,N.startsWith("/")&&C++,2==C?v+N.substring(1):1==C?v+N:v+"/"+N}function X(v){const N=v.match(/#|\?|$/),C=N&&N.index||v.length;return v.slice(0,C-("/"===v[C-1]?1:0))+v.slice(C)}function ve(v){return v&&"?"!==v[0]?"?"+v:v}let Xe=(()=>{class v{historyGo(C){throw new Error("Not implemented")}static#e=this.\u0275fac=function(M){return new(M||v)};static#t=this.\u0275prov=A.Yz7({token:v,factory:function(){return(0,A.f3M)(Qe)},providedIn:"root"})}return v})();const Be=new A.OlP("appBaseHref");let Qe=(()=>{class v extends Xe{constructor(C,M){super(),this._platformLocation=C,this._removeListenerFns=[],this._baseHref=M??this._platformLocation.getBaseHrefFromDOM()??(0,A.f3M)(ye).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(C){this._removeListenerFns.push(this._platformLocation.onPopState(C),this._platformLocation.onHashChange(C))}getBaseHref(){return this._baseHref}prepareExternalUrl(C){return Q(this._baseHref,C)}path(C=!1){const M=this._platformLocation.pathname+ve(this._platformLocation.search),z=this._platformLocation.hash;return z&&C?`${M}${z}`:M}pushState(C,M,z,_e){const ke=this.prepareExternalUrl(z+ve(_e));this._platformLocation.pushState(C,M,ke)}replaceState(C,M,z,_e){const ke=this.prepareExternalUrl(z+ve(_e));this._platformLocation.replaceState(C,M,ke)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(C=0){this._platformLocation.historyGo?.(C)}static#e=this.\u0275fac=function(M){return new(M||v)(A.LFG(be),A.LFG(Be,8))};static#t=this.\u0275prov=A.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})(),en=(()=>{class v extends Xe{constructor(C,M){super(),this._platformLocation=C,this._baseHref="",this._removeListenerFns=[],null!=M&&(this._baseHref=M)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(C){this._removeListenerFns.push(this._platformLocation.onPopState(C),this._platformLocation.onHashChange(C))}getBaseHref(){return this._baseHref}path(C=!1){let M=this._platformLocation.hash;return null==M&&(M="#"),M.length>0?M.substring(1):M}prepareExternalUrl(C){const M=Q(this._baseHref,C);return M.length>0?"#"+M:M}pushState(C,M,z,_e){let ke=this.prepareExternalUrl(z+ve(_e));0==ke.length&&(ke=this._platformLocation.pathname),this._platformLocation.pushState(C,M,ke)}replaceState(C,M,z,_e){let ke=this.prepareExternalUrl(z+ve(_e));0==ke.length&&(ke=this._platformLocation.pathname),this._platformLocation.replaceState(C,M,ke)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(C=0){this._platformLocation.historyGo?.(C)}static#e=this.\u0275fac=function(M){return new(M||v)(A.LFG(be),A.LFG(Be,8))};static#t=this.\u0275prov=A.Yz7({token:v,factory:v.\u0275fac})}return v})(),Ot=(()=>{class v{constructor(C){this._subject=new A.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=C;const M=this._locationStrategy.getBaseHref();this._basePath=function Se(v){if(new RegExp("^(https?:)?//").test(v)){const[,C]=v.split(/\/\/[^\/]+/);return C}return v}(X(kn(M))),this._locationStrategy.onPopState(z=>{this._subject.emit({url:this.path(!0),pop:!0,state:z.state,type:z.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(C=!1){return this.normalize(this._locationStrategy.path(C))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(C,M=""){return this.path()==this.normalize(C+ve(M))}normalize(C){return v.stripTrailingSlash(function dn(v,N){if(!v||!N.startsWith(v))return N;const C=N.substring(v.length);return""===C||["/",";","?","#"].includes(C[0])?C:N}(this._basePath,kn(C)))}prepareExternalUrl(C){return C&&"/"!==C[0]&&(C="/"+C),this._locationStrategy.prepareExternalUrl(C)}go(C,M="",z=null){this._locationStrategy.pushState(z,"",C,M),this._notifyUrlChangeListeners(this.prepareExternalUrl(C+ve(M)),z)}replaceState(C,M="",z=null){this._locationStrategy.replaceState(z,"",C,M),this._notifyUrlChangeListeners(this.prepareExternalUrl(C+ve(M)),z)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(C=0){this._locationStrategy.historyGo?.(C)}onUrlChange(C){return this._urlChangeListeners.push(C),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(M=>{this._notifyUrlChangeListeners(M.url,M.state)})),()=>{const M=this._urlChangeListeners.indexOf(C);this._urlChangeListeners.splice(M,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(C="",M){this._urlChangeListeners.forEach(z=>z(C,M))}subscribe(C,M,z){return this._subject.subscribe({next:C,error:M,complete:z})}static#e=this.normalizeQueryParams=ve;static#t=this.joinWithSlash=Q;static#n=this.stripTrailingSlash=X;static#r=this.\u0275fac=function(M){return new(M||v)(A.LFG(Xe))};static#i=this.\u0275prov=A.Yz7({token:v,factory:function(){return function Nt(){return new Ot((0,A.LFG)(Xe))}()},providedIn:"root"})}return v})();function kn(v){return v.replace(/\/index.html$/,"")}function Ut(v,N){N=encodeURIComponent(N);for(const C of v.split(";")){const M=C.indexOf("="),[z,_e]=-1==M?[C,""]:[C.slice(0,M),C.slice(M+1)];if(z.trim()===N)return decodeURIComponent(_e)}return null}class nn{constructor(N,C,M,z){this.$implicit=N,this.ngForOf=C,this.index=M,this.count=z}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Pi=(()=>{class v{set ngForOf(C){this._ngForOf=C,this._ngForOfDirty=!0}set ngForTrackBy(C){this._trackByFn=C}get ngForTrackBy(){return this._trackByFn}constructor(C,M,z){this._viewContainer=C,this._template=M,this._differs=z,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(C){C&&(this._template=C)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const C=this._ngForOf;!this._differ&&C&&(this._differ=this._differs.find(C).create(this.ngForTrackBy))}if(this._differ){const C=this._differ.diff(this._ngForOf);C&&this._applyChanges(C)}}_applyChanges(C){const M=this._viewContainer;C.forEachOperation((z,_e,ke)=>{if(null==z.previousIndex)M.createEmbeddedView(this._template,new nn(z.item,this._ngForOf,-1,-1),null===ke?void 0:ke);else if(null==ke)M.remove(null===_e?void 0:_e);else if(null!==_e){const gt=M.get(_e);M.move(gt,ke),Ss(gt,z)}});for(let z=0,_e=M.length;z<_e;z++){const gt=M.get(z).context;gt.index=z,gt.count=_e,gt.ngForOf=this._ngForOf}C.forEachIdentityChange(z=>{Ss(M.get(z.currentIndex),z)})}static ngTemplateContextGuard(C,M){return!0}static#e=this.\u0275fac=function(M){return new(M||v)(A.Y36(A.s_b),A.Y36(A.Rgc),A.Y36(A.ZZ4))};static#t=this.\u0275dir=A.lG2({type:v,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return v})();function Ss(v,N){v.context.$implicit=N.item}let Co=(()=>{class v{constructor(C,M){this._viewContainer=C,this._context=new In,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=M}set ngIf(C){this._context.$implicit=this._context.ngIf=C,this._updateView()}set ngIfThen(C){ho("ngIfThen",C),this._thenTemplateRef=C,this._thenViewRef=null,this._updateView()}set ngIfElse(C){ho("ngIfElse",C),this._elseTemplateRef=C,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(C,M){return!0}static#e=this.\u0275fac=function(M){return new(M||v)(A.Y36(A.s_b),A.Y36(A.Rgc))};static#t=this.\u0275dir=A.lG2({type:v,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return v})();class In{constructor(){this.$implicit=null,this.ngIf=null}}function ho(v,N){if(N&&!N.createEmbeddedView)throw new Error(`${v} must be a TemplateRef, but received '${(0,A.AaK)(N)}'.`)}let ma=(()=>{class v{static#e=this.\u0275fac=function(M){return new(M||v)};static#t=this.\u0275mod=A.oAB({type:v});static#n=this.\u0275inj=A.cJS({})}return v})();const Ki="browser",Qi="server";function Kt(v){return v===Qi}let tr=(()=>{class v{static#e=this.\u0275prov=(0,A.Yz7)({token:v,providedIn:"root",factory:()=>new kr((0,A.LFG)(ye),window)})}return v})();class kr{constructor(N,C){this.document=N,this.window=C,this.offset=()=>[0,0]}setOffset(N){this.offset=Array.isArray(N)?()=>N:N}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(N){this.supportsScrolling()&&this.window.scrollTo(N[0],N[1])}scrollToAnchor(N){if(!this.supportsScrolling())return;const C=function Bn(v,N){const C=v.getElementById(N)||v.getElementsByName(N)[0];if(C)return C;if("function"==typeof v.createTreeWalker&&v.body&&"function"==typeof v.body.attachShadow){const M=v.createTreeWalker(v.body,NodeFilter.SHOW_ELEMENT);let z=M.currentNode;for(;z;){const _e=z.shadowRoot;if(_e){const ke=_e.getElementById(N)||_e.querySelector(`[name="${N}"]`);if(ke)return ke}z=M.nextNode()}}return null}(this.document,N);C&&(this.scrollToElement(C),C.focus())}setHistoryScrollRestoration(N){this.supportsScrolling()&&(this.window.history.scrollRestoration=N)}scrollToElement(N){const C=N.getBoundingClientRect(),M=C.left+this.window.pageXOffset,z=C.top+this.window.pageYOffset,_e=this.offset();this.window.scrollTo(M-_e[0],z-_e[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class ai{}},4946:(xt,Ge,H)=>{H.d(Ge,{tb:()=>_c,AFp:()=>qm,ip1:()=>fA,hGG:()=>mw,z2F:()=>uu,Ojb:()=>gD,sBO:()=>Fg,Sil:()=>Yb,EJc:()=>qb,Xts:()=>_r,SBq:()=>Fd,lqb:()=>Vi,qLn:()=>ea,vpe:()=>ps,XFs:()=>pt,OlP:()=>Zt,zs3:()=>di,ZZ4:()=>As,aQg:()=>Oh,soG:()=>tv,YKP:()=>S0,h0i:()=>Ds,PXZ:()=>XT,R0b:()=>Vr,FiY:()=>wf,Lbi:()=>Gf,g9A:()=>Qs,Qsj:()=>Ui,FYo:()=>OI,JOm:()=>bm,tp0:()=>Df,Rgc:()=>Cg,dDg:()=>K,eoX:()=>ee,q4F:()=>ko,GfV:()=>Jm,s_b:()=>zy,ifc:()=>mn,VuI:()=>Vh,MMx:()=>Vy,Lck:()=>JC,eFA:()=>Bl,f3M:()=>gn,$WT:()=>Mi,_c5:()=>jg,qFp:()=>zl,rg0:()=>Ni,c2e:()=>pA,zSh:()=>Na,HDt:()=>gA,wAp:()=>nu,vHH:()=>et,lri:()=>Xt,rWj:()=>ne,cg1:()=>tu,kL8:()=>cg,dqk:()=>wn,Z0I:()=>Br,eJc:()=>zT,QGY:()=>Vp,F4k:()=>sc,RDi:()=>Sa,AaK:()=>Oe,Xq5:()=>yE,TTD:()=>ud,jDz:()=>Uy,xp6:()=>fp,uIk:()=>bp,Suo:()=>HT,Xpm:()=>Kl,lG2:()=>gu,Yz7:()=>fn,cJS:()=>Wt,oAB:()=>xs,Yjl:()=>Ns,Y36:()=>zu,_UZ:()=>Ts,qZA:()=>Pl,TgZ:()=>Rl,EpF:()=>Lp,n5z:()=>$v,LFG:()=>gr,$8M:()=>pm,$Z:()=>pl,NdJ:()=>sh,CRH:()=>GT,oxw:()=>Up,Q6J:()=>Xa,iGM:()=>K0,KtG:()=>bv,CHM:()=>kc,P3R:()=>Lu,YNc:()=>RE,_uU:()=>Zp,Oqu:()=>dh,hij:()=>Jp});var A=H(8645),te=H(7394),Re=H(5592),we=H(7537),W=H(4829),ye=H(6232),be=H(4564),tt=H(2459),Q=H(5619),X=H(2096),ve=H(305),Xe=H(9360);function Be(n={}){const{connector:r=(()=>new A.x),resetOnError:o=!0,resetOnComplete:a=!0,resetOnRefCountZero:c=!0}=n;return d=>{let p,y,T,R=0,O=!1,$=!1;const Z=()=>{y?.unsubscribe(),y=void 0},oe=()=>{Z(),p=T=void 0,O=$=!1},xe=()=>{const He=p;oe(),He?.unsubscribe()};return(0,Xe.e)((He,ot)=>{R++,!$&&!O&&Z();const It=T=T??r();ot.add(()=>{R--,0===R&&!$&&!O&&(y=Qe(xe,c))}),It.subscribe(ot),!p&&R>0&&(p=new ve.Hp({next:Fe=>It.next(Fe),error:Fe=>{$=!0,Z(),y=Qe(oe,o,Fe),It.error(Fe)},complete:()=>{O=!0,Z(),y=Qe(oe,a),It.complete()}}),(0,W.Xf)(He).subscribe(p))})(d)}}function Qe(n,r,...o){if(!0===r)return void n();if(!1===r)return;const a=new ve.Hp({next:()=>{a.unsubscribe(),n()}});return(0,W.Xf)(r(...o)).subscribe(a)}var en=H(4664),Ot=H(2737),Nt=H(8251);function kn(n,r){return n===r}function Se(n){for(let r in n)if(n[r]===Se)return r;throw Error("Could not find renamed property on target object.")}function Oe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Oe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const o=r.indexOf("\n");return-1===o?r:r.substring(0,o)}function lt(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const ft=Se({__forward_ref__:Se});function nt(n){return n.__forward_ref__=nt,n.toString=function(){return Oe(this())},n}function Ze(n){return wt(n)?n():n}function wt(n){return"function"==typeof n&&n.hasOwnProperty(ft)&&n.__forward_ref__===nt}function pr(n){return n&&!!n.\u0275providers}const $e="https://g.co/ng/security#xss";class et extends Error{constructor(r,o){super(function hn(n,r){return`NG0${Math.abs(n)}${r?": "+r:""}`}(r,o)),this.code=r}}function vt(n){return"string"==typeof n?n:null==n?"":String(n)}function De(n,r){throw new et(-201,!1)}function bn(n,r){null==n&&function St(n,r,o,a){throw new Error(`ASSERTION ERROR: ${n}`+(null==a?"":` [Expected=> ${o} ${a} ${r} <=Actual]`))}(r,n,null,"!=")}function fn(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Wt(n){return{providers:n.providers||[],imports:n.imports||[]}}function qt(n){return bt(n,xn)||bt(n,pn)}function Br(n){return null!==qt(n)}function bt(n,r){return n.hasOwnProperty(r)?n[r]:null}function Nr(n){return n&&(n.hasOwnProperty(ti)||n.hasOwnProperty(ni))?n[ti]:null}const xn=Se({\u0275prov:Se}),ti=Se({\u0275inj:Se}),pn=Se({ngInjectableDef:Se}),ni=Se({ngInjectorDef:Se});var pt=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(pt||{});let Ri;function Xn(n){const r=Ri;return Ri=n,r}function Qn(n,r,o){const a=qt(n);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:o&pt.Optional?null:void 0!==r?r:void De(Oe(n))}const wn=globalThis;class Zt{constructor(r,o){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=fn({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Rt={},Dt="__NG_DI_FLAG__",sn="ngTempTokenPath",Yn=/\n/gm,oi="__source";let Hr;function Gr(n){const r=Hr;return Hr=n,r}function bs(n,r=pt.Default){if(void 0===Hr)throw new et(-203,!1);return null===Hr?Qn(n,void 0,r):Hr.get(n,r&pt.Optional?null:void 0,r)}function gr(n,r=pt.Default){return(function Dr(){return Ri}()||bs)(Ze(n),r)}function gn(n,r=pt.Default){return gr(n,Ie(r))}function Ie(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function ae(n){const r=[];for(let o=0;o<n.length;o++){const a=Ze(n[o]);if(Array.isArray(a)){if(0===a.length)throw new et(900,!1);let c,d=pt.Default;for(let p=0;p<a.length;p++){const y=a[p],T=ht(y);"number"==typeof T?-1===T?c=y.token:d|=T:c=y}r.push(gr(c,d))}else r.push(gr(a))}return r}function Me(n,r){return n[Dt]=r,n.prototype[Dt]=r,n}function ht(n){return n[Dt]}function kt(n){return{toString:n}.toString()}var Nn=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Nn||{}),mn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(mn||{});const Sn={},nn=[],Pi=Se({\u0275cmp:Se}),Ss=Se({\u0275dir:Se}),Rs=Se({\u0275pipe:Se}),Co=Se({\u0275mod:Se}),In=Se({\u0275fac:Se}),ho=Se({__NG_ELEMENT_ID__:Se}),qi=Se({__NG_ENV_ID__:Se});function da(n,r,o){let a=n.length;for(;;){const c=n.indexOf(r,o);if(-1===c)return c;if(0===c||n.charCodeAt(c-1)<=32){const d=r.length;if(c+d===a||n.charCodeAt(c+d)<=32)return c}o=c+1}}function fo(n,r,o){let a=0;for(;a<o.length;){const c=o[a];if("number"==typeof c){if(0!==c)break;a++;const d=o[a++],p=o[a++],y=o[a++];n.setAttribute(r,p,y,d)}else{const d=c,p=o[++a];Wl(d)?n.setProperty(r,d,p):n.setAttribute(r,d,p),a++}}return a}function Ic(n){return 3===n||4===n||6===n}function Wl(n){return 64===n.charCodeAt(0)}function jo(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let o=-1;for(let a=0;a<r.length;a++){const c=r[a];"number"==typeof c?o=c:0===o||fu(n,o,c,null,-1===o||2===o?r[++a]:null)}}return n}function fu(n,r,o,a,c){let d=0,p=n.length;if(-1===r)p=-1;else for(;d<n.length;){const y=n[d++];if("number"==typeof y){if(y===r){p=-1;break}if(y>r){p=d-1;break}}}for(;d<n.length;){const y=n[d];if("number"==typeof y)break;if(y===o){if(null===a)return void(null!==c&&(n[d+1]=c));if(a===n[d+1])return void(n[d+2]=c)}d++,null!==a&&d++,null!==c&&d++}-1!==p&&(n.splice(p,0,r),d=p+1),n.splice(d++,0,o),null!==a&&n.splice(d++,0,a),null!==c&&n.splice(d++,0,c)}const Ps="ng-template";function jh(n,r,o){let a=0,c=!0;for(;a<n.length;){let d=n[a++];if("string"==typeof d&&c){const p=n[a++];if(o&&"class"===d&&-1!==da(p.toLowerCase(),r,0))return!0}else{if(1===d){for(;a<n.length&&"string"==typeof(d=n[a++]);)if(d.toLowerCase()===r)return!0;return!1}"number"==typeof d&&(c=!1)}}return!1}function ha(n){return 4===n.type&&n.value!==Ps}function si(n,r,o){return r===(4!==n.type||o?n.value:Ps)}function fa(n,r,o){let a=4;const c=n.attrs||[],d=function po(n){for(let r=0;r<n.length;r++)if(Ic(n[r]))return r;return n.length}(c);let p=!1;for(let y=0;y<r.length;y++){const T=r[y];if("number"!=typeof T){if(!p)if(4&a){if(a=2|1&a,""!==T&&!si(n,T,o)||""===T&&1===r.length){if(Rr(a))return!1;p=!0}}else{const R=8&a?T:r[++y];if(8&a&&null!==n.attrs){if(!jh(n.attrs,R,o)){if(Rr(a))return!1;p=!0}continue}const $=bo(8&a?"class":T,c,ha(n),o);if(-1===$){if(Rr(a))return!1;p=!0;continue}if(""!==R){let Z;Z=$>d?"":c[$+1].toLowerCase();const oe=8&a?Z:null;if(oe&&-1!==da(oe,R,0)||2&a&&R!==Z){if(Rr(a))return!1;p=!0}}}}else{if(!p&&!Rr(a)&&!Rr(T))return!1;if(p&&Rr(T))continue;p=!1,a=T|1&a}}return Rr(a)||p}function Rr(n){return 0==(1&n)}function bo(n,r,o,a){if(null===r)return-1;let c=0;if(a||!o){let d=!1;for(;c<r.length;){const p=r[c];if(p===n)return c;if(3===p||6===p)d=!0;else{if(1===p||2===p){let y=r[++c];for(;"string"==typeof y;)y=r[++c];continue}if(4===p)break;if(0===p){c+=4;continue}}c+=d?1:2}return-1}return function Ms(n,r){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const a=n[o];if("number"==typeof a)return-1;if(a===r)return o;o++}return-1}(r,n)}function mi(n,r,o=!1){for(let a=0;a<r.length;a++)if(fa(n,r[a],o))return!0;return!1}function Go(n,r){return n?":not("+r.trim()+")":r}function Ec(n){let r=n[0],o=1,a=2,c="",d=!1;for(;o<n.length;){let p=n[o];if("string"==typeof p)if(2&a){const y=n[++o];c+="["+p+(y.length>0?'="'+y+'"':"")+"]"}else 8&a?c+="."+p:4&a&&(c+=" "+p);else""!==c&&!Rr(p)&&(r+=Go(d,c),c=""),a=p,d=d||!Rr(a);o++}return""!==c&&(r+=Go(d,c)),r}function Kl(n){return kt(()=>{const r=ga(n),o={...r,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Nn.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||mn.Emulated,styles:n.styles||nn,_:null,schemas:n.schemas||null,tView:null,id:""};ma(o);const a=n.dependencies;return o.directiveDefs=Ki(a,!1),o.pipeDefs=Ki(a,!0),o.id=function go(n){let r=0;const o=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const c of o)r=Math.imul(31,r)+c.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(o),o})}function pu(n){return an(n)||er(n)}function Ql(n){return null!==n}function xs(n){return kt(()=>({type:n.type,bootstrap:n.bootstrap||nn,declarations:n.declarations||nn,imports:n.imports||nn,exports:n.exports||nn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function pa(n,r){if(null==n)return Sn;const o={};for(const a in n)if(n.hasOwnProperty(a)){let c=n[a],d=c;Array.isArray(c)&&(d=c[1],c=c[0]),o[c]=a,r&&(r[c]=d)}return o}function gu(n){return kt(()=>{const r=ga(n);return ma(r),r})}function Ns(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function an(n){return n[Pi]||null}function er(n){return n[Ss]||null}function mr(n){return n[Rs]||null}function Mi(n){const r=an(n)||er(n)||mr(n);return null!==r&&r.standalone}function Pr(n,r){const o=n[Co]||null;if(!o&&!0===r)throw new Error(`Type ${Oe(n)} does not have '\u0275mod' property.`);return o}function ga(n){const r={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:n.inputs||Sn,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||nn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:pa(n.inputs,r),outputs:pa(n.outputs)}}function ma(n){n.features?.forEach(r=>r(n))}function Ki(n,r){if(!n)return null;const o=r?mr:pu;return()=>("function"==typeof n?n():n).map(a=>o(a)).filter(Ql)}const zn=0,st=1,Kt=2,Dn=3,_i=4,zo=5,tr=6,kr=7,Bn=8,mo=9,ai=10,Lt=11,yi=12,Zl=13,vi=14,Zn=15,So=16,Qr=17,xi=18,Wo=19,_o=20,Yi=21,Zi=22,Ro=23,Os=24,tn=25,Jl=1,mu=2,yo=7,ks=9,lr=11;function yr(n){return Array.isArray(n)&&"object"==typeof n[Jl]}function $n(n){return Array.isArray(n)&&!0===n[Jl]}function yu(n){return 0!=(4&n.flags)}function ui(n){return n.componentOffset>-1}function un(n){return 1==(1&n.flags)}function Ii(n){return!!n.template}function Xl(n){return 0!=(512&n[Kt])}function Vs(n,r){return n.hasOwnProperty(In)?n[In]:null}let vr=null,Jo=!1;function Yr(n){const r=vr;return vr=n,r}const Tu={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function wu(n){if(!vo(n)||n.dirty){if(!n.producerMustRecompute(n)&&!Du(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function Us(n){n.dirty=!0,function va(n){if(void 0===n.liveConsumerNode)return;const r=Jo;Jo=!0;try{for(const o of n.liveConsumerNode)o.dirty||Us(o)}finally{Jo=r}}(n),n.consumerMarkedDirty?.(n)}function Bs(n){return n&&(n.nextProducerIndex=0),Yr(n)}function Sc(n,r){if(Yr(r),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(vo(n))for(let o=n.nextProducerIndex;o<n.producerNode.length;o++)Rc(n.producerNode[o],n.producerIndexOfThis[o]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Du(n){$s(n);for(let r=0;r<n.producerNode.length;r++){const o=n.producerNode[r],a=n.producerLastReadVersion[r];if(a!==o.version||(wu(o),a!==o.version))return!0}return!1}function zh(n){if($s(n),vo(n))for(let r=0;r<n.producerNode.length;r++)Rc(n.producerNode[r],n.producerIndexOfThis[r]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Rc(n,r){if(function Wh(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),$s(n),1===n.liveConsumerNode.length)for(let a=0;a<n.producerNode.length;a++)Rc(n.producerNode[a],n.producerIndexOfThis[a]);const o=n.liveConsumerNode.length-1;if(n.liveConsumerNode[r]=n.liveConsumerNode[o],n.liveConsumerIndexOfThis[r]=n.liveConsumerIndexOfThis[o],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,r<n.liveConsumerNode.length){const a=n.liveConsumerIndexOfThis[r],c=n.liveConsumerNode[r];$s(c),c.producerIndexOfThis[a]=r}}function vo(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function $s(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let z=null;function Ni(n){const r=Yr(null);try{return n()}finally{Yr(r)}}const Zr=()=>{},Ei=(()=>({...Tu,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:Zr}))();class Eo{constructor(r,o,a){this.previousValue=r,this.currentValue=o,this.firstChange=a}isFirstChange(){return this.firstChange}}function ud(){return qh}function qh(n){return n.type.prototype.ngOnChanges&&(n.setInput=cd),Kh}function Kh(){const n=Yh(this),r=n?.current;if(r){const o=n.previous;if(o===Sn)n.previous=r;else for(let a in r)o[a]=r[a];n.current=null,this.ngOnChanges(r)}}function cd(n,r,o,a){const c=this.declaredInputs[o],d=Yh(n)||function wv(n,r){return n[Qh]=r}(n,{previous:Sn,current:null}),p=d.current||(d.current={}),y=d.previous,T=y[c];p[c]=new Eo(T&&T.currentValue,r,y===Sn),n[a]=r}ud.ngInherit=!0;const Qh="__ngSimpleChanges__";function Yh(n){return n[Qh]||null}const To=function(n,r,o){};function Wn(n){for(;Array.isArray(n);)n=n[zn];return n}function Ti(n,r){return Wn(r[n.index])}function es(n,r){return n.data[r]}function rr(n,r){const o=r[n];return yr(o)?o:o[zn]}function ns(n,r){return null==r?null:n[r]}function Xh(n){n[Qr]=0}function xc(n){1024&n[Kt]||(n[Kt]|=1024,Dv(n,1))}function dd(n){1024&n[Kt]&&(n[Kt]&=-1025,Dv(n,-1))}function Dv(n,r){let o=n[Dn];if(null===o)return;o[zo]+=r;let a=o;for(o=o[Dn];null!==o&&(1===r&&1===a[zo]||-1===r&&0===a[zo]);)o[zo]+=r,a=o,o=o[Dn]}const Vt={lFrame:k(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function tf(){return Vt.bindingsEnabled}function Ve(){return Vt.lFrame.lView}function _n(){return Vt.lFrame.tView}function kc(n){return Vt.lFrame.contextLView=n,n[Bn]}function bv(n){return Vt.lFrame.contextLView=null,n}function Jr(){let n=rf();for(;null!==n&&64===n.type;)n=n.parent;return n}function rf(){return Vt.lFrame.currentTNode}function ki(n,r){const o=Vt.lFrame;o.currentTNode=n,o.isParent=r}function bu(){return Vt.lFrame.isParent}function is(){return Vt.lFrame.bindingIndex++}function bw(n,r){const o=Vt.lFrame;o.bindingIndex=o.bindingRootIndex=n,af(r)}function af(n){Vt.lFrame.currentDirectiveIndex=n}function nm(){return Vt.lFrame.currentQueryIndex}function _(n){Vt.lFrame.currentQueryIndex=n}function I(n){const r=n[st];return 2===r.type?r.declTNode:1===r.type?n[tr]:null}function m(n,r,o){if(o&pt.SkipSelf){let c=r,d=n;for(;!(c=c.parent,null!==c||o&pt.Host||(c=I(d),null===c||(d=d[vi],10&c.type))););if(null===c)return!1;r=c,n=d}const a=Vt.lFrame=S();return a.currentTNode=r,a.lView=n,!0}function w(n){const r=S(),o=n[st];Vt.lFrame=r,r.currentTNode=o.firstChild,r.lView=n,r.tView=o,r.contextLView=n,r.bindingIndex=o.bindingStartIndex,r.inI18n=!1}function S(){const n=Vt.lFrame,r=null===n?null:n.child;return null===r?k(n):r}function k(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function G(){const n=Vt.lFrame;return Vt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const ge=G;function fe(){const n=G();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Jt(){return Vt.lFrame.selectedIndex}function on(n){Vt.lFrame.selectedIndex=n}function Mn(){const n=Vt.lFrame;return es(n.tView,n.selectedIndex)}let lf=!0;function im(){return lf}function ss(n){lf=n}function Fc(n,r){for(let o=r.directiveStart,a=r.directiveEnd;o<a;o++){const d=n.data[o].type.prototype,{ngAfterContentInit:p,ngAfterContentChecked:y,ngAfterViewInit:T,ngAfterViewChecked:R,ngOnDestroy:O}=d;p&&(n.contentHooks??=[]).push(-o,p),y&&((n.contentHooks??=[]).push(o,y),(n.contentCheckHooks??=[]).push(o,y)),T&&(n.viewHooks??=[]).push(-o,T),R&&((n.viewHooks??=[]).push(o,R),(n.viewCheckHooks??=[]).push(o,R)),null!=O&&(n.destroyHooks??=[]).push(o,O)}}function sm(n,r,o){Ta(n,r,3,o)}function Lc(n,r,o,a){(3&n[Kt])===o&&Ta(n,r,o,a)}function xv(n,r){let o=n[Kt];(3&o)===r&&(o&=8191,o+=1,n[Kt]=o)}function Ta(n,r,o,a){const d=a??-1,p=r.length-1;let y=0;for(let T=void 0!==a?65535&n[Qr]:0;T<p;T++)if("number"==typeof r[T+1]){if(y=r[T],null!=a&&y>=a)break}else r[T]<0&&(n[Qr]+=65536),(y<d||-1==d)&&(Sw(n,o,r,T),n[Qr]=(4294901760&n[Qr])+T+2),T++}function df(n,r){To(4,n,r);const o=Yr(null);try{r.call(n)}finally{Yr(o),To(5,n,r)}}function Sw(n,r,o,a){const c=o[a]<0,d=o[a+1],y=n[c?-o[a]:o[a]];c?n[Kt]>>13<n[Qr]>>16&&(3&n[Kt])===r&&(n[Kt]+=8192,df(y,d)):df(y,d)}const Vc=-1;class pd{constructor(r,o,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=a}}function gd(n){return n!==Vc}function Ru(n){return 32767&n}function zs(n,r){let o=function Rw(n){return n>>16}(n),a=r;for(;o>0;)a=a[vi],o--;return a}let cm=!0;function hf(n){const r=cm;return cm=n,r}const ff=255,pf=5;let jA=0;const as={};function md(n,r){const o=Vv(n,r);if(-1!==o)return o;const a=r[st];a.firstCreatePass&&(n.injectorIndex=r.length,Lv(a.data,n),Lv(r,null),Lv(a.blueprint,null));const c=Uc(n,r),d=n.injectorIndex;if(gd(c)){const p=Ru(c),y=zs(c,r),T=y[st].data;for(let R=0;R<8;R++)r[d+R]=y[p+R]|T[p+R]}return r[d+8]=c,d}function Lv(n,r){n.push(0,0,0,0,0,0,0,0,r)}function Vv(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function Uc(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,a=null,c=r;for(;null!==c;){if(a=Hv(c),null===a)return Vc;if(o++,c=c[vi],-1!==a.injectorIndex)return a.injectorIndex|o<<16}return Vc}function Uv(n,r,o){!function Fv(n,r,o){let a;"string"==typeof o?a=o.charCodeAt(0)||0:o.hasOwnProperty(ho)&&(a=o[ho]),null==a&&(a=o[ho]=jA++);const c=a&ff;r.data[n+(c>>pf)]|=1<<c}(n,r,o)}function gf(n,r,o){if(o&pt.Optional||void 0!==n)return n;De()}function Mw(n,r,o,a){if(o&pt.Optional&&void 0===a&&(a=null),!(o&(pt.Self|pt.Host))){const c=n[mo],d=Xn(void 0);try{return c?c.get(r,a,o&pt.Optional):Qn(r,a,o&pt.Optional)}finally{Xn(d)}}return gf(a,0,o)}function Bv(n,r,o,a=pt.Default,c){if(null!==n){if(2048&r[Kt]&&!(a&pt.Self)){const p=function fm(n,r,o,a,c){let d=n,p=r;for(;null!==d&&null!==p&&2048&p[Kt]&&!(512&p[Kt]);){const y=mf(d,p,o,a|pt.Self,as);if(y!==as)return y;let T=d.parent;if(!T){const R=p[_o];if(R){const O=R.get(o,as,a);if(O!==as)return O}T=Hv(p),p=p[vi]}d=T}return c}(n,r,o,a,as);if(p!==as)return p}const d=mf(n,r,o,a,as);if(d!==as)return d}return Mw(r,o,a,c)}function mf(n,r,o,a,c){const d=function lm(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(ho)?n[ho]:void 0;return"number"==typeof r?r>=0?r&ff:jv:r}(o);if("function"==typeof d){if(!m(r,n,a))return a&pt.Host?gf(c,0,a):Mw(r,o,a,c);try{let p;if(p=d(a),null!=p||a&pt.Optional)return p;De()}finally{ge()}}else if("number"==typeof d){let p=null,y=Vv(n,r),T=Vc,R=a&pt.Host?r[Zn][tr]:null;for((-1===y||a&pt.SkipSelf)&&(T=-1===y?Uc(n,r):r[y+8],T!==Vc&&_f(a,!1)?(p=r[st],y=Ru(T),r=zs(T,r)):y=-1);-1!==y;){const O=r[st];if(dm(d,y,O.data)){const $=$A(y,r,o,p,a,R);if($!==as)return $}T=r[y+8],T!==Vc&&_f(a,r[st].data[y+8]===R)&&dm(d,y,r)?(p=O,y=Ru(T),r=zs(T,r)):y=-1}}return c}function $A(n,r,o,a,c,d){const p=r[st],y=p.data[n+8],O=Bc(y,p,o,null==a?ui(y)&&cm:a!=p&&0!=(3&y.type),c&pt.Host&&d===y);return null!==O?wa(r,p,O,y):as}function Bc(n,r,o,a,c){const d=n.providerIndexes,p=r.data,y=1048575&d,T=n.directiveStart,O=d>>20,Z=c?y+O:n.directiveEnd;for(let oe=a?y:y+O;oe<Z;oe++){const xe=p[oe];if(oe<T&&o===xe||oe>=T&&xe.type===o)return oe}if(c){const oe=p[T];if(oe&&Ii(oe)&&oe.type===o)return T}return null}function wa(n,r,o,a){let c=n[o];const d=r.data;if(function am(n){return n instanceof pd}(c)){const p=c;p.resolving&&function Ee(n,r){const o=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new et(-200,`Circular dependency in DI detected for ${n}${o}`)}(function Ft(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():vt(n)}(d[o]));const y=hf(p.canSeeViewProviders);p.resolving=!0;const R=p.injectImpl?Xn(p.injectImpl):null;m(n,a,pt.Default);try{c=n[o]=p.factory(void 0,d,n,a),r.firstCreatePass&&o>=a.directiveStart&&function om(n,r,o){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:d}=r.type.prototype;if(a){const p=qh(r);(o.preOrderHooks??=[]).push(n,p),(o.preOrderCheckHooks??=[]).push(n,p)}c&&(o.preOrderHooks??=[]).push(0-n,c),d&&((o.preOrderHooks??=[]).push(n,d),(o.preOrderCheckHooks??=[]).push(n,d))}(o,d[o],r)}finally{null!==R&&Xn(R),hf(y),p.resolving=!1,ge()}}return c}function dm(n,r,o){return!!(o[r+(n>>pf)]&1<<n)}function _f(n,r){return!(n&pt.Self||n&pt.Host&&r)}class li{constructor(r,o){this._tNode=r,this._lView=o}get(r,o,a){return Bv(this._tNode,this._lView,r,Ie(a),o)}}function jv(){return new li(Jr(),Ve())}function $v(n){return kt(()=>{const r=n.prototype.constructor,o=r[In]||hm(r),a=Object.prototype;let c=Object.getPrototypeOf(n.prototype).constructor;for(;c&&c!==a;){const d=c[In]||hm(c);if(d&&d!==o)return d;c=Object.getPrototypeOf(c)}return d=>new d})}function hm(n){return wt(n)?()=>{const r=hm(Ze(n));return r&&r()}:Vs(n)}function Hv(n){const r=n[st],o=r.type;return 2===o?r.declTNode:1===o?n[tr]:null}function pm(n){return function Pw(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const o=n.attrs;if(o){const a=o.length;let c=0;for(;c<a;){const d=o[c];if(Ic(d))break;if(0===d)c+=2;else if("number"==typeof d)for(c++;c<a&&"string"==typeof o[c];)c++;else{if(d===r)return o[c+1];c+=2}}}return null}(Jr(),n)}const Da="__parameters__";function Hc(n,r,o){return kt(()=>{const a=function yf(n){return function(...o){if(n){const a=n(...o);for(const c in a)this[c]=a[c]}}}(r);function c(...d){if(this instanceof c)return a.apply(this,d),this;const p=new c(...d);return y.annotation=p,y;function y(T,R,O){const $=T.hasOwnProperty(Da)?T[Da]:Object.defineProperty(T,Da,{value:[]})[Da];for(;$.length<=O;)$.push(null);return($[O]=$[O]||[]).push(p),T}}return o&&(c.prototype=Object.create(o.prototype)),c.prototype.ngMetadataName=n,c.annotationCls=c,c})}function zc(n,r){n.forEach(o=>Array.isArray(o)?zc(o,r):r(o))}function zv(n,r,o){r>=n.length?n.push(o):n.splice(r,0,o)}function vf(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}const wf=Me(Hc("Optional"),8),Df=Me(Hc("SkipSelf"),4);function Am(n){return 128==(128&n.flags)}var bm=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(bm||{});const tI=new Map;let dC=0;const rI="__ngContext__";function Di(n,r){yr(r)?(n[rI]=r[Wo],function fC(n){tI.set(n[Wo],n)}(r)):n[rI]=r}let bf;function qc(n,r){return bf(n,r)}function Kc(n){const r=n[Dn];return $n(r)?r[Dn]:r}function Rm(n){return Sf(n[yi])}function wd(n){return Sf(n[_i])}function Sf(n){for(;null!==n&&!$n(n);)n=n[_i];return n}function xu(n,r,o,a,c){if(null!=a){let d,p=!1;$n(a)?d=a:yr(a)&&(p=!0,a=a[zn]);const y=Wn(a);0===n&&null!==o?null==c?Mm(r,o,y):ir(r,o,y,c||null,!0):1===n&&null!==o?ir(r,o,y,c||null,!0):2===n?function At(n,r,o){const a=Pf(n,r);a&&function iD(n,r,o,a){n.removeChild(r,o,a)}(n,a,r,o)}(r,y,p):3===n&&r.destroyNode(y),null!=d&&function Xc(n,r,o,a,c){const d=o[yo];d!==Wn(o)&&xu(r,n,a,d,c);for(let y=lr;y<o.length;y++){const T=o[y];Ad(T[st],T,n,r,a,d)}}(r,n,d,o,c)}}function Cr(n,r,o){return n.createElement(r,o)}function Fi(n,r){const o=n[ks],a=o.indexOf(r);dd(r),o.splice(a,1)}function Zc(n,r){if(n.length<=lr)return;const o=lr+r,a=n[o];if(a){const c=a[So];null!==c&&c!==n&&Fi(c,a),r>0&&(n[o-1][_i]=a[_i]);const d=vf(n,lr+r);!function Qc(n,r){Ad(n,r,r[Lt],2,null,null),r[zn]=null,r[tr]=null}(a[st],a);const p=d[xi];null!==p&&p.detachView(d[st]),a[Dn]=null,a[_i]=null,a[Kt]&=-129}return a}function mt(n,r){if(!(256&r[Kt])){const o=r[Lt];r[Ro]&&zh(r[Ro]),r[Os]&&zh(r[Os]),o.destroyNode&&Ad(n,r,o,3,null,null),function vC(n){let r=n[yi];if(!r)return Tt(n[st],n);for(;r;){let o=null;if(yr(r))o=r[yi];else{const a=r[lr];a&&(o=a)}if(!o){for(;r&&!r[_i]&&r!==n;)yr(r)&&Tt(r[st],r),r=r[Dn];null===r&&(r=n),yr(r)&&Tt(r[st],r),o=r&&r[_i]}r=o}}(r)}}function Tt(n,r){if(!(256&r[Kt])){r[Kt]&=-129,r[Kt]|=256,function it(n,r){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let a=0;a<o.length;a+=2){const c=r[o[a]];if(!(c instanceof pd)){const d=o[a+1];if(Array.isArray(d))for(let p=0;p<d.length;p+=2){const y=c[d[p]],T=d[p+1];To(4,y,T);try{T.call(y)}finally{To(5,y,T)}}else{To(4,c,d);try{d.call(c)}finally{To(5,c,d)}}}}}(n,r),function IC(n,r){const o=n.cleanup,a=r[kr];if(null!==o)for(let d=0;d<o.length-1;d+=2)if("string"==typeof o[d]){const p=o[d+3];p>=0?a[p]():a[-p].unsubscribe(),d+=2}else o[d].call(a[o[d+1]]);null!==a&&(r[kr]=null);const c=r[Yi];if(null!==c){r[Yi]=null;for(let d=0;d<c.length;d++)(0,c[d])()}}(n,r),1===r[st].type&&r[Lt].destroy();const o=r[So];if(null!==o&&$n(r[Dn])){o!==r[Dn]&&Fi(o,r);const a=r[xi];null!==a&&a.detachView(n)}!function pC(n){tI.delete(n[Wo])}(r)}}function Te(n,r,o){return function qe(n,r,o){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return o[zn];{const{componentOffset:c}=a;if(c>-1){const{encapsulation:d}=n.data[a.directiveStart+c];if(d===mn.None||d===mn.Emulated)return null}return Ti(a,o)}}(n,r.parent,o)}function ir(n,r,o,a,c){n.insertBefore(r,o,a,c)}function Mm(n,r,o){n.appendChild(r,o)}function sI(n,r,o,a,c){null!==a?ir(n,r,o,a,c):Mm(n,r,o)}function Pf(n,r){return n.parentNode(r)}let Nm,Lm,de,sD=function aI(n,r,o){return 40&n.type?Ti(n,o):null};function jt(n,r,o,a){const c=Te(n,a,r),d=r[Lt],y=function xm(n,r,o){return sD(n,r,o)}(a.parent||r[tr],a,r);if(null!=c)if(Array.isArray(o))for(let T=0;T<o.length;T++)sI(d,c,o[T],y,!1);else sI(d,c,o,y,!1);void 0!==Nm&&Nm(d,a,r,o,c)}function us(n,r){if(null!==r){const o=r.type;if(3&o)return Ti(r,n);if(4&o)return or(-1,n[r.index]);if(8&o){const a=r.child;if(null!==a)return us(n,a);{const c=n[r.index];return $n(c)?or(-1,c):Wn(c)}}if(32&o)return qc(r,n)()||Wn(n[r.index]);{const a=km(n,r);return null!==a?Array.isArray(a)?a[0]:us(Kc(n[Zn]),a):us(n,r.next)}}return null}function km(n,r){return null!==r?n[Zn][tr].projection[r.projection]:null}function or(n,r){const o=lr+n+1;if(o<r.length){const a=r[o],c=a[st].firstChild;if(null!==c)return us(a,c)}return r[yo]}function cn(n,r,o,a,c,d,p){for(;null!=o;){const y=a[o.index],T=o.type;if(p&&0===r&&(y&&Di(Wn(y),a),o.flags|=2),32!=(32&o.flags))if(8&T)cn(n,r,o.child,a,c,d,!1),xu(r,n,c,y,d);else if(32&T){const R=qc(o,a);let O;for(;O=R();)xu(r,n,c,O,d);xu(r,n,c,y,d)}else 16&T?ut(n,r,a,o,c,d):xu(r,n,c,y,d);o=p?o.projectionNext:o.next}}function Ad(n,r,o,a,c,d){cn(o,a,n.firstChild,r,c,d,!1)}function ut(n,r,o,a,c,d){const p=o[Zn],T=p[tr].projection[a.projection];if(Array.isArray(T))for(let R=0;R<T.length;R++)xu(r,n,c,T[R],d);else{let R=T;const O=p[Dn];Am(a)&&(R.flags|=128),cn(n,r,R,O,c,d,!0)}}function uI(n,r,o){""===o?n.removeAttribute(r,"class"):n.setAttribute(r,"class",o)}function Ca(n,r,o){const{mergedAttrs:a,classes:c,styles:d}=o;null!==a&&fo(n,r,a),null!==c&&uI(n,r,c),null!==d&&function Nu(n,r,o){n.setAttribute(r,"style",o)}(n,r,d)}function Sa(n){Lm=n}function hI(n){return function el(){if(void 0===de&&(de=null,wn.trustedTypes))try{de=wn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return de}()?.createScriptURL(n)||n}class tl{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${$e})`}}function Ma(n){return n instanceof tl?n.changingThisBreaksApplicationSecurity:n}function Cd(n,r){const o=function ro(n){return n instanceof tl&&n.getTypeName()||null}(n);if(null!=o&&o!==r){if("ResourceURL"===o&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${o} (see ${$e})`)}return o===r}const gI=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Fu=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Fu||{});function zm(n){const r=Lf();return r?r.sanitize(Fu.URL,n)||"":Cd(n,"URL")?Ma(n):function jm(n){return(n=String(n)).match(gI)?n:"unsafe:"+n}(vt(n))}function qn(n){const r=Lf();if(r)return hI(r.sanitize(Fu.RESOURCE_URL,n)||"");if(Cd(n,"ResourceURL"))return hI(Ma(n));throw new et(904,!1)}function Lu(n,r,o){return function wI(n,r){return"src"===r&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===r&&("base"===n||"link"===n)?qn:zm}(r,o)(n)}function Lf(){const n=Ve();return n&&n[ai].sanitizer}const _r=new Zt("ENVIRONMENT_INITIALIZER"),DI=new Zt("INJECTOR",-1),ls=new Zt("INJECTOR_DEF_TYPES");class hr{get(r,o=Rt){if(o===Rt){const a=new Error(`NullInjectorError: No provider for ${Oe(r)}!`);throw a.name="NullInjectorError",a}return o}}function Vf(...n){return{\u0275providers:Rd(0,n),\u0275fromNgModule:!0}}function Rd(n,...r){const o=[],a=new Set;let c;const d=p=>{o.push(p)};return zc(r,p=>{const y=p;Uf(y,d,[],a)&&(c||=[],c.push(y))}),void 0!==c&&nl(c,d),o}function nl(n,r){for(let o=0;o<n.length;o++){const{ngModule:a,providers:c}=n[o];hs(c,d=>{r(d,a)})}}function Uf(n,r,o,a){if(!(n=Ze(n)))return!1;let c=null,d=Nr(n);const p=!d&&an(n);if(d||p){if(p&&!p.standalone)return!1;c=n}else{const T=n.ngModule;if(d=Nr(T),!d)return!1;c=T}const y=a.has(c);if(p){if(y)return!1;if(a.add(c),p.dependencies){const T="function"==typeof p.dependencies?p.dependencies():p.dependencies;for(const R of T)Uf(R,r,o,a)}}else{if(!d)return!1;{if(null!=d.imports&&!y){let R;a.add(c);try{zc(d.imports,O=>{Uf(O,r,o,a)&&(R||=[],R.push(O))})}finally{}void 0!==R&&nl(R,r)}if(!y){const R=Vs(c)||(()=>new c);r({provide:c,useFactory:R,deps:nn},c),r({provide:ls,useValue:c,multi:!0},c),r({provide:_r,useValue:()=>gr(c),multi:!0},c)}const T=d.providers;if(null!=T&&!y){const R=n;hs(T,O=>{r(O,R)})}}}return c!==n&&void 0!==n.providers}function hs(n,r){for(let o of n)pr(o)&&(o=o.\u0275providers),Array.isArray(o)?hs(o,r):r(o)}const Bf=Se({provide:String,useValue:Se});function fs(n){return null!==n&&"object"==typeof n&&Bf in n}function Li(n){return"function"==typeof n}const Na=new Zt("Set Injector scope."),ol={},jf={};let Ks;function sl(){return void 0===Ks&&(Ks=new hr),Ks}class Vi{}class Vu extends Vi{get destroyed(){return this._destroyed}constructor(r,o,a,c){super(),this.parent=o,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Lr(r,p=>this.processProvider(p)),this.records.set(DI,al(void 0,this)),c.has("environment")&&this.records.set(Vi,al(void 0,this));const d=this.records.get(Na);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(ls.multi,nn,pt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of r)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const o=Gr(this),a=Xn(void 0);try{return r()}finally{Gr(o),Xn(a)}}get(r,o=Rt,a=pt.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(qi))return r[qi](this);a=Ie(a);const d=Gr(this),p=Xn(void 0);try{if(!(a&pt.SkipSelf)){let T=this.records.get(r);if(void 0===T){const R=function bI(n){return"function"==typeof n||"object"==typeof n&&n instanceof Zt}(r)&&qt(r);T=R&&this.injectableDefInScope(R)?al($f(r),ol):null,this.records.set(r,T)}if(null!=T)return this.hydrate(r,T)}return(a&pt.Self?sl():this.parent).get(r,o=a&pt.Optional&&o===Rt?null:o)}catch(y){if("NullInjectorError"===y.name){if((y[sn]=y[sn]||[]).unshift(Oe(r)),d)throw y;return function Ut(n,r,o,a){const c=n[sn];throw r[oi]&&c.unshift(r[oi]),n.message=function Bt(n,r,o,a=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let c=Oe(r);if(Array.isArray(r))c=r.map(Oe).join(" -> ");else if("object"==typeof r){let d=[];for(let p in r)if(r.hasOwnProperty(p)){let y=r[p];d.push(p+":"+("string"==typeof y?JSON.stringify(y):Oe(y)))}c=`{${d.join(", ")}}`}return`${o}${a?"("+a+")":""}[${c}]: ${n.replace(Yn,"\n  ")}`}("\n"+n.message,c,o,a),n.ngTokenPath=c,n[sn]=null,n}(y,r,"R3InjectorError",this.source)}throw y}finally{Xn(p),Gr(d)}}resolveInjectorInitializers(){const r=Gr(this),o=Xn(void 0);try{const c=this.get(_r.multi,nn,pt.Self);for(const d of c)d()}finally{Gr(r),Xn(o)}}toString(){const r=[],o=this.records;for(const a of o.keys())r.push(Oe(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new et(205,!1)}processProvider(r){let o=Li(r=Ze(r))?r:Ze(r&&r.provide);const a=function Pd(n){return fs(n)?al(void 0,n.useValue):al(function Wm(n,r,o){let a;if(Li(n)){const c=Ze(n);return Vs(c)||$f(c)}if(fs(n))a=()=>Ze(n.useValue);else if(function il(n){return!(!n||!n.useFactory)}(n))a=()=>n.useFactory(...ae(n.deps||[]));else if(function Oo(n){return!(!n||!n.useExisting)}(n))a=()=>gr(Ze(n.useExisting));else{const c=Ze(n&&(n.useClass||n.provide));if(!function fD(n){return!!n.deps}(n))return Vs(c)||$f(c);a=()=>new c(...ae(n.deps))}return a}(n),ol)}(r);if(Li(r)||!0!==r.multi)this.records.get(o);else{let c=this.records.get(o);c||(c=al(void 0,ol,!0),c.factory=()=>ae(c.multi),this.records.set(o,c)),o=r,c.multi.push(r)}this.records.set(o,a)}hydrate(r,o){return o.value===ol&&(o.value=jf,o.value=o.factory()),"object"==typeof o.value&&o.value&&function CI(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(r){if(!r.providedIn)return!1;const o=Ze(r.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(r){const o=this._onDestroyHooks.indexOf(r);-1!==o&&this._onDestroyHooks.splice(o,1)}}function $f(n){const r=qt(n),o=null!==r?r.factory:Vs(n);if(null!==o)return o;if(n instanceof Zt)throw new et(204,!1);if(n instanceof Function)return function Hf(n){const r=n.length;if(r>0)throw function vd(n,r){const o=[];for(let a=0;a<n;a++)o.push(r);return o}(r,"?"),new et(204,!1);const o=function Jn(n){return n&&(n[xn]||n[pn])||null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new et(204,!1)}function al(n,r,o=!1){return{factory:n,value:r,multi:o?[]:void 0}}function Lr(n,r){for(const o of n)Array.isArray(o)?Lr(o,r):o&&pr(o)?Lr(o.\u0275providers,r):r(o)}const qm=new Zt("AppId",{providedIn:"root",factory:()=>sr}),sr="ng",Qs=new Zt("Platform Initializer"),Gf=new Zt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),gD=new Zt("CSP nonce",{providedIn:"root",factory:()=>function Ra(){if(void 0!==Lm)return Lm;if(typeof document<"u")return document;throw new et(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Jf=(n,r,o)=>null;function ll(n,r,o=!1){return Jf(n,r,o)}class xI{}class ep{}class hl{resolveComponentFactory(r){throw function tp(n){const r=Error(`No component factory found for ${Oe(n)}.`);return r.ngComponent=n,r}(r)}}let Fa=(()=>{class n{static#e=this.NULL=new hl}return n})();function NI(){return ju(Jr(),Ve())}function ju(n,r){return new Fd(Ti(n,r))}let Fd=(()=>{class n{constructor(o){this.nativeElement=o}static#e=this.__NG_ELEMENT_ID__=NI}return n})();function Js(n){return n instanceof Fd?n.nativeElement:n}class OI{}let Ui=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function kI(){const n=Ve(),o=rr(Jr().index,n);return(yr(o)?o:n)[Lt]}()}return n})(),Ld=(()=>{class n{static#e=this.\u0275prov=fn({token:n,providedIn:"root",factory:()=>null})}return n})();class Jm{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const ko=new Jm("16.2.12"),np={};function UI(n,r=null,o=null,a){const c=t_(n,r,o,a);return c.resolveInjectorInitializers(),c}function t_(n,r=null,o=null,a,c=new Set){const d=[o||nn,Vf(n)];return a=a||("object"==typeof n?void 0:Oe(n)),new Vu(d,r||sl(),a||null,c)}let di=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=Rt;static#t=this.NULL=new hr;static create(o,a){if(Array.isArray(o))return UI({name:""},a,o,"");{const c=o.name??"";return UI({name:c},o.parent,o.providers,c)}}static#n=this.\u0275prov=fn({token:n,providedIn:"any",factory:()=>gr(DI)});static#r=this.__NG_ELEMENT_ID__=-1}return n})();function Xs(n){return n.ngOriginalError}class ea{constructor(){this._console=console}handleError(r){const o=this._findOriginalError(r);this._console.error("ERROR",r),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(r){let o=r&&Xs(r);for(;o&&Xs(o);)o=Xs(o);return o||null}}function n_(n){return r=>{setTimeout(n,void 0,r)}}const ps=class Vd extends A.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,o,a){let c=r,d=o||(()=>null),p=a;if(r&&"object"==typeof r){const T=r;c=T.next?.bind(T),d=T.error?.bind(T),p=T.complete?.bind(T)}this.__isAsync&&(d=n_(d),c&&(c=n_(c)),p&&(p=n_(p)));const y=super.subscribe({next:c,error:d,complete:p});return r instanceof te.w0&&r.add(y),y}};function ar(...n){}class Vr{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ps(!1),this.onMicrotaskEmpty=new ps(!1),this.onStable=new ps(!1),this.onError=new ps(!1),typeof Zone>"u")throw new et(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&o,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function sp(){const n="function"==typeof wn.requestAnimationFrame;let r=wn[n?"requestAnimationFrame":"setTimeout"],o=wn[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&o){const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function $I(n){const r=()=>{!function wD(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(wn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Ua(n),n.isCheckStableRunning=!0,$u(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Ua(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,a,c,d,p,y)=>{if(function o_(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(y))return o.invokeTask(c,d,p,y);try{return gs(n),o.invokeTask(c,d,p,y)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||n.shouldCoalesceRunChangeDetection)&&r(),r_(n)}},onInvoke:(o,a,c,d,p,y,T)=>{try{return gs(n),o.invoke(c,d,p,y,T)}finally{n.shouldCoalesceRunChangeDetection&&r(),r_(n)}},onHasTask:(o,a,c,d)=>{o.hasTask(c,d),a===c&&("microTask"==d.change?(n._hasPendingMicrotasks=d.microTask,Ua(n),$u(n)):"macroTask"==d.change&&(n.hasPendingMacrotasks=d.macroTask))},onHandleError:(o,a,c,d)=>(o.handleError(c,d),n.runOutsideAngular(()=>n.onError.emit(d)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Vr.isInAngularZone())throw new et(909,!1)}static assertNotInAngularZone(){if(Vr.isInAngularZone())throw new et(909,!1)}run(r,o,a){return this._inner.run(r,o,a)}runTask(r,o,a,c){const d=this._inner,p=d.scheduleEventTask("NgZoneEvent: "+c,r,TD,ar,ar);try{return d.runTask(p,o,a)}finally{d.cancelTask(p)}}runGuarded(r,o,a){return this._inner.runGuarded(r,o,a)}runOutsideAngular(r){return this._outer.run(r)}}const TD={};function $u(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Ua(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function gs(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function r_(n){n._nesting--,$u(n)}class HI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ps,this.onMicrotaskEmpty=new ps,this.onStable=new ps,this.onError=new ps}run(r,o,a){return r.apply(o,a)}runGuarded(r,o,a){return r.apply(o,a)}runOutsideAngular(r){return r()}runTask(r,o,a,c){return r.apply(o,a)}}const i_=new Zt("",{providedIn:"root",factory:Hu});function Hu(){const n=gn(Vr);let r=!0;return function je(...n){const r=(0,be.yG)(n),o=(0,be._6)(n,1/0),a=n;return a.length?1===a.length?(0,W.Xf)(a[0]):(0,we.J)(o)((0,tt.D)(a,r)):ye.E}(new Re.y(c=>{r=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{c.next(r),c.complete()})}),new Re.y(c=>{let d;n.runOutsideAngular(()=>{d=n.onStable.subscribe(()=>{Vr.assertNotInAngularZone(),queueMicrotask(()=>{!r&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(r=!0,c.next(!0))})})});const p=n.onUnstable.subscribe(()=>{Vr.assertInAngularZone(),r&&(r=!1,n.runOutsideAngular(()=>{c.next(!1)}))});return()=>{d.unsubscribe(),p.unsubscribe()}}).pipe(Be()))}function ta(n){return n instanceof Function?n():n}let up=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=fn({token:n,providedIn:"root",factory:()=>new n})}return n})();function Bd(n){for(;n;){n[Kt]|=64;const r=Kc(n);if(Xl(n)&&!r)return n;n=r}return null}const cp=new Zt("",{providedIn:"root",factory:()=>!1});let dp=null;function qI(n,r){return n[r]??KI()}function hp(n,r){const o=KI();o.producerNode?.length&&(n[r]=dp,o.lView=n,dp=h_())}const fl={...Tu,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Bd(n.lView)},lView:null};function h_(){return Object.create(fl)}function KI(){return dp??=h_(),dp}const Et={};function fp(n){pp(_n(),Ve(),Jt()+n,!1)}function pp(n,r,o,a){if(!a)if(3==(3&r[Kt])){const d=n.preOrderCheckHooks;null!==d&&sm(r,d,o)}else{const d=n.preOrderHooks;null!==d&&Lc(r,d,0,o)}on(o)}function zu(n,r=pt.Default){const o=Ve();return null===o?gr(n,r):Bv(Jr(),o,Ze(n),r)}function pl(){throw new Error("invalid")}function zd(n,r,o,a,c,d,p,y,T,R,O){const $=r.blueprint.slice();return $[zn]=c,$[Kt]=140|a,(null!==R||n&&2048&n[Kt])&&($[Kt]|=2048),Xh($),$[Dn]=$[vi]=n,$[Bn]=o,$[ai]=p||n&&n[ai],$[Lt]=y||n&&n[Lt],$[mo]=T||n&&n[mo]||null,$[tr]=d,$[Wo]=function hC(){return dC++}(),$[Zi]=O,$[_o]=R,$[Zn]=2==r.type?n[Zn]:$,$}function Wu(n,r,o,a,c){let d=n.data[r];if(null===d)d=function Wd(n,r,o,a,c){const d=rf(),p=bu(),T=n.data[r]=function SD(n,r,o,a,c,d){let p=r?r.injectorIndex:-1,y=0;return function Nc(){return null!==Vt.skipHydrationRootTNode}()&&(y|=128),{type:o,index:a,insertBeforeIndex:null,injectorIndex:p,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:y,providerIndexes:0,value:c,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,p?d:d&&d.parent,o,r,a,c);return null===n.firstChild&&(n.firstChild=T),null!==d&&(p?null==d.child&&null!==T.parent&&(d.child=T):null===d.next&&(d.next=T,T.prev=d)),T}(n,r,o,a,c),function Rv(){return Vt.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=o,d.value=a,d.attrs=c;const p=function Cu(){const n=Vt.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();d.injectorIndex=null===p?-1:p.injectorIndex}return ki(d,!0),d}function gl(n,r,o,a){if(0===o)return-1;const c=r.length;for(let d=0;d<o;d++)r.push(a),n.blueprint.push(a),n.data.push(null);return c}function f_(n,r,o,a,c){const d=qI(r,Ro),p=Jt(),y=2&a;try{on(-1),y&&r.length>tn&&pp(n,r,tn,!1),To(y?2:0,c);const R=y?d:null,O=Bs(R);try{null!==R&&(R.dirty=!1),o(a,c)}finally{Sc(R,O)}}finally{y&&null===r[Ro]&&hp(r,Ro),on(p),To(y?3:1,c)}}function gp(n,r,o){if(yu(r)){const a=Yr(null);try{const d=r.directiveEnd;for(let p=r.directiveStart;p<d;p++){const y=n.data[p];y.contentQueries&&y.contentQueries(1,o[p],p)}}finally{Yr(a)}}}function p_(n,r,o){tf()&&(function qu(n,r,o,a){const c=o.directiveStart,d=o.directiveEnd;ui(o)&&function PD(n,r,o){const a=Ti(r,n),c=ml(o);let p=16;o.signals?p=4096:o.onPush&&(p=64);const y=Tp(n,zd(n,c,null,p,a,r,null,n[ai].rendererFactory.createRenderer(a,o),null,null,null));n[r.index]=y}(r,o,n.data[c+o.componentOffset]),n.firstCreatePass||md(o,r),Di(a,r);const p=o.initialInputs;for(let y=c;y<d;y++){const T=n.data[y],R=wa(r,n,y,o);Di(R,r),null!==p&&Ep(0,y-c,R,T,0,p),Ii(T)&&(rr(o.index,r)[Bn]=wa(r,n,y,o))}}(n,r,o,Ti(o,r)),64==(64&o.flags)&&$a(n,r,o))}function g_(n,r,o=Ti){const a=r.localNames;if(null!==a){let c=r.index+1;for(let d=0;d<a.length;d+=2){const p=a[d+1],y=-1===p?o(r,n):n[p];n[c++]=y}}}function ml(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=qd(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):r}function qd(n,r,o,a,c,d,p,y,T,R,O){const $=tn+a,Z=$+c,oe=function CD(n,r){const o=[];for(let a=0;a<r;a++)o.push(a<n?null:Et);return o}($,Z),xe="function"==typeof R?R():R;return oe[st]={type:n,blueprint:oe,template:o,queries:null,viewQuery:y,declTNode:r,data:oe.slice().fill(null,$),bindingStartIndex:$,expandoStartIndex:Z,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof p?p():p,firstChild:null,schemas:T,consts:xe,incompleteFirstPass:!1,ssrId:O}}let m_=n=>null;function JI(n,r,o,a){for(let c in n)if(n.hasOwnProperty(c)){o=null===o?{}:o;const d=n[c];null===a?XI(o,r,c,d):a.hasOwnProperty(c)&&XI(o,r,a[c],d)}return o}function XI(n,r,o,a){n.hasOwnProperty(o)?n[o].push(r,a):n[o]=[r,a]}function _p(n,r,o,a){if(tf()){const c=null===a?null:{"":-1},d=function Kd(n,r){const o=n.directiveRegistry;let a=null,c=null;if(o)for(let d=0;d<o.length;d++){const p=o[d];if(mi(r,p.selectors,!1))if(a||(a=[]),Ii(p))if(null!==p.findHostDirectiveDefs){const y=[];c=c||new Map,p.findHostDirectiveDefs(p,y,c),a.unshift(...y,p),vp(n,r,y.length)}else a.unshift(p),vp(n,r,0);else c=c||new Map,p.findHostDirectiveDefs?.(p,a,c),a.push(p)}return null===a?null:[a,c]}(n,o);let p,y;null===d?p=y=null:[p,y]=d,null!==p&&tE(n,r,o,p,c,y),c&&function __(n,r,o){if(r){const a=n.localNames=[];for(let c=0;c<r.length;c+=2){const d=o[r[c+1]];if(null==d)throw new et(-301,!1);a.push(r[c],d)}}}(o,a,c)}o.mergedAttrs=jo(o.mergedAttrs,o.attrs)}function tE(n,r,o,a,c,d){for(let R=0;R<a.length;R++)Uv(md(o,r),n,a[R].type);!function rE(n,r,o){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+o,n.providerIndexes=r}(o,n.data.length,a.length);for(let R=0;R<a.length;R++){const O=a[R];O.providersResolver&&O.providersResolver(O)}let p=!1,y=!1,T=gl(n,r,a.length,null);for(let R=0;R<a.length;R++){const O=a[R];o.mergedAttrs=jo(o.mergedAttrs,O.hostAttrs),iE(n,o,r,T,O),y_(T,O,c),null!==O.contentQueries&&(o.flags|=4),(null!==O.hostBindings||null!==O.hostAttrs||0!==O.hostVars)&&(o.flags|=64);const $=O.type.prototype;!p&&($.ngOnChanges||$.ngOnInit||$.ngDoCheck)&&((n.preOrderHooks??=[]).push(o.index),p=!0),!y&&($.ngOnChanges||$.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(o.index),y=!0),T++}!function Ba(n,r,o){const c=r.directiveEnd,d=n.data,p=r.attrs,y=[];let T=null,R=null;for(let O=r.directiveStart;O<c;O++){const $=d[O],Z=o?o.get($):null,xe=Z?Z.outputs:null;T=JI($.inputs,O,T,Z?Z.inputs:null),R=JI($.outputs,O,R,xe);const He=null===T||null===p||ha(r)?null:Qu(T,O,p);y.push(He)}null!==T&&(T.hasOwnProperty("class")&&(r.flags|=8),T.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=y,r.inputs=T,r.outputs=R}(n,o,d)}function $a(n,r,o){const a=o.directiveStart,c=o.directiveEnd,d=o.index,p=function Mv(){return Vt.lFrame.currentDirectiveIndex}();try{on(d);for(let y=a;y<c;y++){const T=n.data[y],R=r[y];af(y),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&Ku(T,R)}}finally{on(-1),af(p)}}function Ku(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function vp(n,r,o){r.componentOffset=o,(n.components??=[]).push(r.index)}function y_(n,r,o){if(o){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)o[r.exportAs[a]]=n;Ii(r)&&(o[""]=n)}}function iE(n,r,o,a,c){n.data[a]=c;const d=c.factory||(c.factory=Vs(c.type)),p=new pd(d,Ii(c),zu);n.blueprint[a]=p,o[a]=p,function nE(n,r,o,a,c){const d=c.hostBindings;if(d){let p=n.hostBindingOpCodes;null===p&&(p=n.hostBindingOpCodes=[]);const y=~r.index;(function yp(n){let r=n.length;for(;r>0;){const o=n[--r];if("number"==typeof o&&o<0)return o}return 0})(p)!=y&&p.push(y),p.push(o,a,d)}}(n,r,a,gl(n,o,c.hostVars,Et),c)}function Fo(n,r,o,a,c,d){const p=Ti(n,r);!function Ip(n,r,o,a,c,d,p){if(null==d)n.removeAttribute(r,c,o);else{const y=null==p?vt(d):p(d,a||"",c);n.setAttribute(r,c,y,o)}}(r[Lt],p,d,n.value,o,a,c)}function Ep(n,r,o,a,c,d){const p=d[r];if(null!==p)for(let y=0;y<p.length;)yl(a,o,p[y++],p[y++],p[y++])}function yl(n,r,o,a,c){const d=Yr(null);try{const p=n.inputTransforms;null!==p&&p.hasOwnProperty(a)&&(c=p[a].call(r,c)),null!==n.setInput?n.setInput(r,c,o,a):r[a]=c}finally{Yr(d)}}function Qu(n,r,o){let a=null,c=0;for(;c<o.length;){const d=o[c];if(0!==d)if(5!==d){if("number"==typeof d)break;if(n.hasOwnProperty(d)){null===a&&(a=[]);const p=n[d];for(let y=0;y<p.length;y+=2)if(p[y]===r){a.push(d,p[y+1],o[c+1]);break}}c+=2}else c+=2;else c+=4}return a}function oE(n,r,o,a){return[n,!0,!1,r,null,0,a,o,null,null,null]}function v_(n,r){const o=n.contentQueries;if(null!==o)for(let a=0;a<o.length;a+=2){const d=o[a+1];if(-1!==d){const p=n.data[d];_(o[a]),p.contentQueries(2,r[d],d)}}}function Tp(n,r){return n[yi]?n[Zl][_i]=r:n[yi]=r,n[Zl]=r,r}function I_(n,r,o){_(0);const a=Yr(null);try{r(n,o)}finally{Yr(a)}}function vl(n){return n[kr]||(n[kr]=[])}function Ha(n){return n.cleanup||(n.cleanup=[])}function E_(n,r){const o=n[mo],a=o?o.get(ea,null):null;a&&a.handleError(r)}function wp(n,r,o,a,c){for(let d=0;d<o.length;){const p=o[d++],y=o[d++];yl(n.data[p],r[p],a,y,c)}}function _s(n,r,o){const a=function Mc(n,r){return Wn(r[n])}(r,n);!function Pm(n,r,o){n.setValue(r,o)}(n[Lt],a,o)}function MD(n,r){const o=rr(r,n),a=o[st];!function T_(n,r){for(let o=r.length;o<n.blueprint.length;o++)r.push(n.blueprint[o])}(a,o);const c=o[zn];null!==c&&null===o[Zi]&&(o[Zi]=ll(c,o[mo])),Qd(a,o,o[Bn])}function Qd(n,r,o){w(r);try{const a=n.viewQuery;null!==a&&I_(1,a,o);const c=n.template;null!==c&&f_(n,r,c,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&v_(n,r),n.staticViewQueries&&I_(2,n.viewQuery,o);const d=n.components;null!==d&&function sE(n,r){for(let o=0;o<r.length;o++)MD(n,r[o])}(r,d)}catch(a){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),a}finally{r[Kt]&=-5,fe()}}let Dp=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(o,a,c){const d=typeof Zone>"u"?null:Zone.current,p=function Io(n,r,o){const a=Object.create(Ei);o&&(a.consumerAllowSignalWrites=!0),a.fn=n,a.schedule=r;const c=p=>{a.cleanupFn=p};return a.ref={notify:()=>Us(a),run:()=>{if(a.dirty=!1,a.hasRun&&!Du(a))return;a.hasRun=!0;const p=Bs(a);try{a.cleanupFn(),a.cleanupFn=Zr,a.fn(c)}finally{Sc(a,p)}},cleanup:()=>a.cleanupFn()},a.ref}(o,R=>{this.all.has(R)&&this.queue.set(R,d)},c);let y;this.all.add(p),p.notify();const T=()=>{p.cleanup(),y?.(),this.all.delete(p),this.queue.delete(p)};return y=a?.onDestroy(T),{destroy:T}}flush(){if(0!==this.queue.size)for(const[o,a]of this.queue)this.queue.delete(o),a?a.run(()=>o.run()):o.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=fn({token:n,providedIn:"root",factory:()=>new n})}return n})();function Yd(n,r,o){let a=o?n.styles:null,c=o?n.classes:null,d=0;if(null!==r)for(let p=0;p<r.length;p++){const y=r[p];"number"==typeof y?d=y:1==d?c=lt(c,y):2==d&&(a=lt(a,y+": "+r[++p]+";"))}o?n.styles=a:n.stylesWithoutHost=a,o?n.classes=c:n.classesWithoutHost=c}function Ga(n,r,o,a,c=!1){for(;null!==o;){const d=r[o.index];null!==d&&a.push(Wn(d)),$n(d)&&aE(d,a);const p=o.type;if(8&p)Ga(n,r,o.child,a);else if(32&p){const y=qc(o,r);let T;for(;T=y();)a.push(T)}else if(16&p){const y=km(r,o);if(Array.isArray(y))a.push(...y);else{const T=Kc(r[Zn]);Ga(T[st],T,y,a,!0)}}o=c?o.projectionNext:o.next}return a}function aE(n,r){for(let o=lr;o<n.length;o++){const a=n[o],c=a[st].firstChild;null!==c&&Ga(a[st],a,c,r)}n[yo]!==n[zn]&&r.push(n[yo])}function Il(n,r,o,a=!0){const c=r[ai],d=c.rendererFactory,p=c.afterRenderEventManager;d.begin?.(),p?.begin();try{A_(n,r,n.template,o)}catch(T){throw a&&E_(r,T),T}finally{d.end?.(),c.effectManager?.flush(),p?.end()}}function A_(n,r,o,a){const c=r[Kt];if(256!=(256&c)){r[ai].effectManager?.flush(),w(r);try{Xh(r),function tm(n){return Vt.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&f_(n,r,o,2,a);const p=3==(3&c);if(p){const R=n.preOrderCheckHooks;null!==R&&sm(r,R,null)}else{const R=n.preOrderHooks;null!==R&&Lc(r,R,0,null),xv(r,0)}if(function Zd(n){for(let r=Rm(n);null!==r;r=wd(r)){if(!r[mu])continue;const o=r[ks];for(let a=0;a<o.length;a++){xc(o[a])}}}(r),Yu(r,2),null!==n.contentQueries&&v_(n,r),p){const R=n.contentCheckHooks;null!==R&&sm(r,R)}else{const R=n.contentHooks;null!==R&&Lc(r,R,1),xv(r,1)}!function ms(n,r){const o=n.hostBindingOpCodes;if(null===o)return;const a=qI(r,Os);try{for(let c=0;c<o.length;c++){const d=o[c];if(d<0)on(~d);else{const p=d,y=o[++c],T=o[++c];bw(y,p),a.dirty=!1;const R=Bs(a);try{T(2,r[p])}finally{Sc(a,R)}}}}finally{null===r[Os]&&hp(r,Os),on(-1)}}(n,r);const y=n.components;null!==y&&b_(r,y,0);const T=n.viewQuery;if(null!==T&&I_(2,T,a),p){const R=n.viewCheckHooks;null!==R&&sm(r,R)}else{const R=n.viewHooks;null!==R&&Lc(r,R,2),xv(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[Kt]&=-73,dd(r)}finally{fe()}}}function Yu(n,r){for(let o=Rm(n);null!==o;o=wd(o))for(let a=lr;a<o.length;a++)C_(o[a],r)}function El(n,r,o){C_(rr(r,n),o)}function C_(n,r){if(!function Zh(n){return 128==(128&n[Kt])}(n))return;const o=n[st],a=n[Kt];if(80&a&&0===r||1024&a||2===r)A_(o,n,o.template,n[Bn]);else if(n[zo]>0){Yu(n,1);const c=o.components;null!==c&&b_(n,c,1)}}function b_(n,r,o){for(let a=0;a<r.length;a++)El(n,r[a],o)}class Mr{get rootNodes(){const r=this._lView,o=r[st];return Ga(o,r,o.firstChild,[])}constructor(r,o){this._lView=r,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Bn]}set context(r){this._lView[Bn]=r}get destroyed(){return 256==(256&this._lView[Kt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[Dn];if($n(r)){const o=r[8],a=o?o.indexOf(this):-1;a>-1&&(Zc(r,a),vf(o,a))}this._attachedToViewContainer=!1}mt(this._lView[st],this._lView)}onDestroy(r){!function hd(n,r){if(256==(256&n[Kt]))throw new et(911,!1);null===n[Yi]&&(n[Yi]=[]),n[Yi].push(r)}(this._lView,r)}markForCheck(){Bd(this._cdRefInjectingView||this._lView)}detach(){this._lView[Kt]&=-129}reattach(){this._lView[Kt]|=128}detectChanges(){Il(this._lView[st],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new et(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Yc(n,r){Ad(n,r,r[Lt],2,null,null)}(this._lView[st],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new et(902,!1);this._appRef=r}}class uE extends Mr{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;Il(r[st],r,r[Bn],!1)}checkNoChanges(){}get context(){return null}}class Jd extends Fa{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const o=an(r);return new ys(o,this.ngModule)}}function Xd(n){const r=[];for(let o in n)n.hasOwnProperty(o)&&r.push({propName:n[o],templateName:o});return r}class za{constructor(r,o){this.injector=r,this.parentInjector=o}get(r,o,a){a=Ie(a);const c=this.injector.get(r,np,a);return c!==np||o===np?c:this.parentInjector.get(r,o,a)}}class ys extends ep{get inputs(){const r=this.componentDef,o=r.inputTransforms,a=Xd(r.inputs);if(null!==o)for(const c of a)o.hasOwnProperty(c.propName)&&(c.transform=o[c.propName]);return a}get outputs(){return Xd(this.componentDef.outputs)}constructor(r,o){super(),this.componentDef=r,this.ngModule=o,this.componentType=r.type,this.selector=function Tc(n){return n.map(Ec).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!o}create(r,o,a,c){let d=(c=c||this.ngModule)instanceof Vi?c:c?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const p=d?new za(r,d):r,y=p.get(OI,null);if(null===y)throw new et(407,!1);const $={rendererFactory:y,sanitizer:p.get(Ld,null),effectManager:p.get(Dp,null),afterRenderEventManager:p.get(up,null)},Z=y.createRenderer(null,this.componentDef),oe=this.componentDef.selectors[0][0]||"div",xe=a?function QI(n,r,o,a){const d=a.get(cp,!1)||o===mn.ShadowDom,p=n.selectRootElement(r,d);return function mp(n){m_(n)}(p),p}(Z,a,this.componentDef.encapsulation,p):Cr(Z,oe,function cE(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(oe)),It=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Fe=null;null!==xe&&(Fe=ll(xe,p,!0));const Gt=qd(0,null,null,1,0,null,null,null,null,null,null),zt=zd(null,Gt,null,It,null,null,$,Z,p,null,Fe);let Vn,Hi;w(zt);try{const ao=this.componentDef;let vc,Uh=null;ao.findHostDirectiveDefs?(vc=[],Uh=new Map,ao.findHostDirectiveDefs(ao,vc,Uh),vc.push(ao)):vc=[ao];const Wg=function Zu(n,r){const o=n[st],a=tn;return n[a]=r,Wu(o,a,2,"#host",null)}(zt,xe),Ew=function ND(n,r,o,a,c,d,p){const y=c[st];!function Tl(n,r,o,a){for(const c of n)r.mergedAttrs=jo(r.mergedAttrs,c.hostAttrs);null!==r.mergedAttrs&&(Yd(r,r.mergedAttrs,!0),null!==o&&Ca(a,o,r))}(a,n,r,p);let T=null;null!==r&&(T=ll(r,c[mo]));const R=d.rendererFactory.createRenderer(r,o);let O=16;o.signals?O=4096:o.onPush&&(O=64);const $=zd(c,ml(o),null,O,c[n.index],n,d,R,null,null,T);return y.firstCreatePass&&vp(y,n,a.length-1),Tp(c,$),c[n.index]=$}(Wg,xe,ao,vc,zt,$,Z);Hi=es(Gt,tn),xe&&function Wa(n,r,o,a){if(a)fo(n,o,["ng-version",ko.full]);else{const{attrs:c,classes:d}=function ql(n){const r=[],o=[];let a=1,c=2;for(;a<n.length;){let d=n[a];if("string"==typeof d)2===c?""!==d&&r.push(d,n[++a]):8===c&&o.push(d);else{if(!Rr(c))break;c=d}a++}return{attrs:r,classes:o}}(r.selectors[0]);c&&fo(n,o,c),d&&d.length>0&&uI(n,o,d.join(" "))}}(Z,ao,xe,a),void 0!==o&&function hE(n,r,o){const a=n.projection=[];for(let c=0;c<r.length;c++){const d=o[c];a.push(null!=d?Array.from(d):null)}}(Hi,this.ngContentSelectors,o),Vn=function dE(n,r,o,a,c,d){const p=Jr(),y=c[st],T=Ti(p,c);tE(y,c,p,o,null,a);for(let O=0;O<o.length;O++)Di(wa(c,y,p.directiveStart+O,p),c);$a(y,c,p),T&&Di(T,c);const R=wa(c,y,p.directiveStart+p.componentOffset,p);if(n[Bn]=c[Bn]=R,null!==d)for(const O of d)O(R,r);return gp(y,p,n),R}(Ew,ao,vc,Uh,zt,[OD]),Qd(Gt,zt,null)}finally{fe()}return new lE(this.componentType,Vn,ju(Hi,zt),zt,Hi)}}class lE extends xI{constructor(r,o,a,c,d){super(),this.location=a,this._rootLView=c,this._tNode=d,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new uE(c),this.componentType=r}setInput(r,o){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),o))return;const d=this._rootLView;wp(d[st],d,c,r,o),this.previousInputValues.set(r,o),Bd(rr(this._tNode.index,d))}}get injector(){return new li(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function OD(){const n=Jr();Fc(Ve()[st],n)}function yE(n){const r=n.inputConfig,o={};for(const a in r)if(r.hasOwnProperty(a)){const c=r[a];Array.isArray(c)&&c[2]&&(o[a]=c[2])}n.inputTransforms=o}function Dl(n){return!!M_(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function M_(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function hi(n,r,o){return!Object.is(n[r],o)&&(n[r]=o,!0)}function bp(n,r,o,a){const c=Ve();return hi(c,is(),r)&&(_n(),Fo(Mn(),c,n,r,o,a)),bp}function RE(n,r,o,a,c,d,p,y){const T=Ve(),R=_n(),O=n+tn,$=R.firstCreatePass?function zD(n,r,o,a,c,d,p,y,T){const R=r.consts,O=Wu(r,n,4,p||null,ns(R,y));_p(r,o,O,ns(R,T)),Fc(r,O);const $=O.tView=qd(2,O,a,c,d,r.directiveRegistry,r.pipeRegistry,null,r.schemas,R,null);return null!==r.queries&&(r.queries.template(r,O),$.queries=r.queries.embeddedTView(O)),O}(O,R,T,r,o,a,c,d,p):R.data[O];ki($,!1);const Z=PE(R,T,$,n);im()&&jt(R,T,Z,$),Di(Z,T),Tp(T,T[O]=oE(Z,T,Z,$)),un($)&&p_(R,T,$),null!=p&&g_(T,$,y)}let PE=function bl(n,r,o,a){return ss(!0),r[Lt].createComment("")};function Xa(n,r,o){const a=Ve();return hi(a,is(),r)&&function Bi(n,r,o,a,c,d,p,y){const T=Ti(r,o);let O,R=r.inputs;!y&&null!=R&&(O=R[a])?(wp(n,o,O,a,c),ui(r)&&function RD(n,r){const o=rr(r,n);16&o[Kt]||(o[Kt]|=64)}(o,r.index)):3&r.type&&(a=function _l(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(a),c=null!=p?p(c,r.value||"",a):c,d.setProperty(T,a,c))}(_n(),Mn(),a,n,r,a[Lt],o,!1),Xa}function ih(n,r,o,a,c){const p=c?"class":"style";wp(n,o,r.inputs[p],p,a)}function Rl(n,r,o,a){const c=Ve(),d=_n(),p=tn+n,y=c[Lt],T=d.firstCreatePass?function ME(n,r,o,a,c,d){const p=r.consts,T=Wu(r,n,2,a,ns(p,c));return _p(r,o,T,ns(p,d)),null!==T.attrs&&Yd(T,T.attrs,!1),null!==T.mergedAttrs&&Yd(T,T.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,T),T}(p,d,c,r,o,a):d.data[p],R=G_(d,c,T,y,r,n);c[p]=R;const O=un(T);return ki(T,!0),Ca(y,R,T),32!=(32&T.flags)&&im()&&jt(d,c,R,T),0===function rs(){return Vt.lFrame.elementDepthCount}()&&Di(R,c),function Jg(){Vt.lFrame.elementDepthCount++}(),O&&(p_(d,c,T),gp(d,T,c)),null!==a&&g_(c,T),Rl}function Pl(){let n=Jr();bu()?function Ea(){Vt.lFrame.isParent=!1}():(n=n.parent,ki(n,!1));const r=n;(function Xg(n){return Vt.skipHydrationRootTNode===n})(r)&&function em(){Vt.skipHydrationRootTNode=null}(),function Cw(){Vt.lFrame.elementDepthCount--}();const o=_n();return o.firstCreatePass&&(Fc(o,n),yu(n)&&o.queries.elementEnd(n)),null!=r.classesWithoutHost&&function um(n){return 0!=(8&n.flags)}(r)&&ih(o,r,Ve(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function BA(n){return 0!=(16&n.flags)}(r)&&ih(o,r,Ve(),r.stylesWithoutHost,!1),Pl}function Ts(n,r,o,a){return Rl(n,r,o,a),Pl(),Ts}let G_=(n,r,o,a,c,d)=>(ss(!0),Cr(a,c,function rm(){return Vt.lFrame.currentNamespace}()));function Lp(){return Ve()}function Vp(n){return!!n&&"function"==typeof n.then}function sc(n){return!!n&&"function"==typeof n.subscribe}function sh(n,r,o,a){const c=Ve(),d=_n(),p=Jr();return function K_(n,r,o,a,c,d,p){const y=un(a),R=n.firstCreatePass&&Ha(n),O=r[Bn],$=vl(r);let Z=!0;if(3&a.type||p){const He=Ti(a,r),ot=p?p(He):He,It=$.length,Fe=p?zt=>p(Wn(zt[a.index])):a.index;let Gt=null;if(!p&&y&&(Gt=function KD(n,r,o,a){const c=n.cleanup;if(null!=c)for(let d=0;d<c.length-1;d+=2){const p=c[d];if(p===o&&c[d+1]===a){const y=r[kr],T=c[d+2];return y.length>T?y[T]:null}"string"==typeof p&&(d+=2)}return null}(n,r,c,a.index)),null!==Gt)(Gt.__ngLastListenerFn__||Gt).__ngNextListenerFn__=d,Gt.__ngLastListenerFn__=d,Z=!1;else{d=OE(a,r,O,d,!1);const zt=o.listen(ot,c,d);$.push(d,zt),R&&R.push(c,Fe,It,It+1)}}else d=OE(a,r,O,d,!1);const oe=a.outputs;let xe;if(Z&&null!==oe&&(xe=oe[c])){const He=xe.length;if(He)for(let ot=0;ot<He;ot+=2){const Vn=r[xe[ot]][xe[ot+1]].subscribe(d),Hi=$.length;$.push(d,Vn),R&&R.push(c,a.index,Hi,-(Hi+1))}}}(d,c,c[Lt],p,n,r,a),sh}function Q_(n,r,o,a){try{return To(6,r,o),!1!==o(a)}catch(c){return E_(n,c),!1}finally{To(7,r,o)}}function OE(n,r,o,a,c){return function d(p){if(p===Function)return a;Bd(n.componentOffset>-1?rr(n.index,r):r);let T=Q_(r,o,a,p),R=d.__ngNextListenerFn__;for(;R;)T=Q_(r,o,R,p)&&T,R=R.__ngNextListenerFn__;return c&&!1===T&&p.preventDefault(),T}}function Up(n=1){return function at(n){return(Vt.lFrame.contextLView=function $t(n,r){for(;n>0;)r=r[vi],n--;return r}(n,Vt.lFrame.contextLView))[Bn]}(n)}function Zp(n,r=""){const o=Ve(),a=_n(),c=n+tn,d=a.firstCreatePass?Wu(a,c,1,r,null):a.data[c],p=KE(a,o,d,r,n);o[c]=p,im()&&jt(a,o,p,d),ki(d,!1)}let KE=(n,r,o,a,c)=>(ss(!0),function Dd(n,r){return n.createText(r)}(r[Lt],a));function dh(n){return Jp("",n,""),dh}function Jp(n,r,o){const a=Ve(),c=function Ka(n,r,o,a){return hi(n,is(),o)?r+vt(o)+a:Et}(a,n,r,o);return c!==Et&&_s(a,Jt(),c),Jp}const aa=void 0;var ug=["en",[["a","p"],["AM","PM"],aa],[["AM","PM"],aa,aa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],aa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],aa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",aa,"{1} 'at' {0}",aa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Iy(n){const o=Math.floor(Math.abs(n)),a=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===a?1:5}];let eu={};function tu(n){const r=function f0(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=Ey(r);if(o)return o;const a=r.split("-")[0];if(o=Ey(a),o)return o;if("en"===a)return ug;throw new et(701,!1)}function cg(n){return tu(n)[nu.PluralCase]}function Ey(n){return n in eu||(eu[n]=wn.ng&&wn.ng.common&&wn.ng.common.locales&&wn.ng.common.locales[n]),eu[n]}var nu=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(nu||{});const cc="en-US";let aT=cc;class Ds{}class S0{}function JC(n,r){return new ST(n,r??null,[])}class ST extends Ds{constructor(r,o,a){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Jd(this);const c=Pr(r);this._bootstrapComponents=ta(c.bootstrap),this._r3Injector=t_(r,o,[{provide:Ds,useValue:this},{provide:Fa,useValue:this.componentFactoryResolver},...a],Oe(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class RT extends S0{constructor(r){super(),this.moduleType=r}create(r){return new ST(this.moduleType,r,[])}}class Ly extends Ds{constructor(r){super(),this.componentFactoryResolver=new Jd(this),this.instance=null;const o=new Vu([...r.providers,{provide:Ds,useValue:this},{provide:Fa,useValue:this.componentFactoryResolver}],r.parent||sl(),r.debugName,new Set(["environment"]));this.injector=o,r.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function Vy(n,r,o=null){return new Ly({providers:n,parent:r,debugName:o,runEnvironmentInitializers:!0}).injector}let MT=(()=>{class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){const a=Rd(0,o.type),c=a.length>0?Vy([a],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,c)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=fn({token:n,providedIn:"environment",factory:()=>new n(gr(Vi))})}return n})();function Uy(n){n.getStandaloneInjector=r=>r.get(MT).getOrCreateStandaloneInjector(n)}function j0(){return this._results[Symbol.iterator]()}class $y{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new ps)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=$y.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=j0)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,o){return this._results.reduce(r,o)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,o){const a=this;a.dirty=!1;const c=function eo(n){return n.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function Fw(n,r,o){if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++){let c=n[a],d=r[a];if(o&&(c=o(c),d=o(d)),d!==c)return!1}return!0}(a._results,c,o))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function gb(n,r,o,a=!0){const c=r[st];if(function We(n,r,o,a){const c=lr+a,d=o.length;a>0&&(o[c-1][_i]=r),a<d-lr?(r[_i]=o[c],zv(o,lr+a,r)):(o.push(r),r[_i]=null),r[Dn]=o;const p=r[So];null!==p&&o!==p&&function br(n,r){const o=n[ks];r[Zn]!==r[Dn][Dn][Zn]&&(n[mu]=!0),null===o?n[ks]=[r]:o.push(r)}(p,r);const y=r[xi];null!==y&&y.insertView(n),r[Kt]|=128}(c,r,n,o),a){const d=or(o,n),p=r[Lt],y=Pf(p,n[yo]);null!==y&&function Aa(n,r,o,a,c,d){a[zn]=c,a[tr]=r,Ad(n,a,o,1,c,d)}(c,n[tr],p,r,y,d)}}let Cg=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=yb}return n})();const mb=Cg,_b=class extends mb{constructor(r,o,a){super(),this._declarationLView=r,this._declarationTContainer=o,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,o){return this.createEmbeddedViewImpl(r,o)}createEmbeddedViewImpl(r,o,a){const c=function Ag(n,r,o,a){const c=r.tView,y=zd(n,c,o,4096&n[Kt]?4096:16,null,r,null,null,null,a?.injector??null,a?.hydrationInfo??null);y[So]=n[r.index];const R=n[xi];return null!==R&&(y[xi]=R.createEmbeddedView(c)),Qd(c,y,o),y}(this._declarationLView,this._declarationTContainer,r,{injector:o,hydrationInfo:a});return new Mr(c)}};function yb(){return Hy(Jr(),Ve())}function Hy(n,r){return 4&n.type?new _b(r,n,ju(n,r)):null}let zy=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Eb}return n})();function Eb(){return wh(Jr(),Ve())}const Wy=zy,Th=class extends Wy{constructor(r,o,a){super(),this._lContainer=r,this._hostTNode=o,this._hostLView=a}get element(){return ju(this._hostTNode,this._hostLView)}get injector(){return new li(this._hostTNode,this._hostLView)}get parentInjector(){const r=Uc(this._hostTNode,this._hostLView);if(gd(r)){const o=zs(r,this._hostLView),a=Ru(r);return new li(o[st].data[a+8],o)}return new li(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const o=UT(this._lContainer);return null!==o&&o[r]||null}get length(){return this._lContainer.length-lr}createEmbeddedView(r,o,a){let c,d;"number"==typeof a?c=a:null!=a&&(c=a.index,d=a.injector);const y=r.createEmbeddedViewImpl(o||{},d,null);return this.insertImpl(y,c,false),y}createComponent(r,o,a,c,d){const p=r&&!function yd(n){return"function"==typeof n}(r);let y;if(p)y=o;else{const He=o||{};y=He.index,a=He.injector,c=He.projectableNodes,d=He.environmentInjector||He.ngModuleRef}const T=p?r:new ys(an(r)),R=a||this.parentInjector;if(!d&&null==T.ngModule){const ot=(p?R:this.parentInjector).get(Vi,null);ot&&(d=ot)}an(T.componentType??{});const oe=T.create(R,c,null,d);return this.insertImpl(oe.hostView,y,false),oe}insert(r,o){return this.insertImpl(r,o,!1)}insertImpl(r,o,a){const c=r._lView;if(function Jh(n){return $n(n[Dn])}(c)){const T=this.indexOf(r);if(-1!==T)this.detach(T);else{const R=c[Dn],O=new Th(R,R[tr],R[Dn]);O.detach(O.indexOf(r))}}const p=this._adjustIndex(o),y=this._lContainer;return gb(y,c,p,!a),r.attachToViewContainerRef(),zv(bg(y),p,r),r}move(r,o){return this.insert(r,o)}indexOf(r){const o=UT(this._lContainer);return null!==o?o.indexOf(r):-1}remove(r){const o=this._adjustIndex(r,-1),a=Zc(this._lContainer,o);a&&(vf(bg(this._lContainer),o),mt(a[st],a))}detach(r){const o=this._adjustIndex(r,-1),a=Zc(this._lContainer,o);return a&&null!=vf(bg(this._lContainer),o)?new Mr(a):null}_adjustIndex(r,o=0){return r??this.length+o}};function UT(n){return n[8]}function bg(n){return n[8]||(n[8]=[])}function wh(n,r){let o;const a=r[n.index];return $n(a)?o=a:(o=oE(a,r,null,n),r[n.index]=o,Tp(r,o)),BT(o,r,n,a),new Th(o,n,r)}let BT=function Sg(n,r,o,a){if(n[yo])return;let c;c=8&o.type?Wn(a):function qy(n,r){const o=n[Lt],a=o.createComment(""),c=Ti(r,n);return ir(o,Pf(o,c),a,function oD(n,r){return n.nextSibling(r)}(o,c),!1),a}(r,o),n[yo]=c};class Rg{constructor(r){this.queryList=r,this.matches=null}clone(){return new Rg(this.queryList)}setDirty(){this.queryList.setDirty()}}class Pg{constructor(r=[]){this.queries=r}createEmbeddedView(r){const o=r.queries;if(null!==o){const a=null!==r.contentQueries?r.contentQueries[0]:o.length,c=[];for(let d=0;d<a;d++){const p=o.getByIndex(d);c.push(this.queries[p.indexInDeclarationView].clone())}return new Pg(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let o=0;o<this.queries.length;o++)null!==Y0(r,o).matches&&this.queries[o].setDirty()}}class jT{constructor(r,o,a=null){this.predicate=r,this.flags=o,this.read=a}}class Dh{constructor(r=[]){this.queries=r}elementStart(r,o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,o)}elementEnd(r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(r)}embeddedTView(r){let o=null;for(let a=0;a<this.length;a++){const c=null!==o?o.length:0,d=this.getByIndex(a).embeddedTView(r,c);d&&(d.indexInDeclarationView=a,null!==o?o.push(d):o=[d])}return null!==o?new Dh(o):null}template(r,o){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,o)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class Ky{constructor(r,o=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(r,o){this.isApplyingToNode(o)&&this.matchTNode(r,o)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,o){this.elementStart(r,o)}embeddedTView(r,o){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,o),new Ky(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==o;)a=a.parent;return o===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,o){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const d=a[c];this.matchTNodeWithReadOption(r,o,W0(o,d)),this.matchTNodeWithReadOption(r,o,Bc(o,r,d,!1,!1))}else a===Cg?4&o.type&&this.matchTNodeWithReadOption(r,o,-1):this.matchTNodeWithReadOption(r,o,Bc(o,r,a,!1,!1))}matchTNodeWithReadOption(r,o,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===Fd||c===zy||c===Cg&&4&o.type)this.addMatch(o.index,-2);else{const d=Bc(o,r,c,!1,!1);null!==d&&this.addMatch(o.index,d)}else this.addMatch(o.index,a)}}addMatch(r,o){null===this.matches?this.matches=[r,o]:this.matches.push(r,o)}}function W0(n,r){const o=n.localNames;if(null!==o)for(let a=0;a<o.length;a+=2)if(o[a]===r)return o[a+1];return null}function Qy(n,r,o,a){return-1===o?function $T(n,r){return 11&n.type?ju(n,r):4&n.type?Hy(n,r):null}(r,n):-2===o?function q0(n,r,o){return o===Fd?ju(r,n):o===Cg?Hy(r,n):o===zy?wh(r,n):void 0}(n,r,a):wa(n,n[st],o,r)}function Yy(n,r,o,a){const c=r[xi].queries[a];if(null===c.matches){const d=n.data,p=o.matches,y=[];for(let T=0;T<p.length;T+=2){const R=p[T];y.push(R<0?null:Qy(r,d[R],p[T+1],o.metadata.read))}c.matches=y}return c.matches}function Zy(n,r,o,a){const c=n.queries.getByIndex(o),d=c.matches;if(null!==d){const p=Yy(n,r,c,o);for(let y=0;y<d.length;y+=2){const T=d[y];if(T>0)a.push(p[y/2]);else{const R=d[y+1],O=r[-T];for(let $=lr;$<O.length;$++){const Z=O[$];Z[So]===Z[Dn]&&Zy(Z[st],Z,R,a)}if(null!==O[ks]){const $=O[ks];for(let Z=0;Z<$.length;Z++){const oe=$[Z];Zy(oe[st],oe,R,a)}}}}}return a}function K0(n){const r=Ve(),o=_n(),a=nm();_(a+1);const c=Y0(o,a);if(n.dirty&&function Zg(n){return 4==(4&n[Kt])}(r)===(2==(2&c.metadata.flags))){if(null===c.matches)n.reset([]);else{const d=c.crossesNgTemplate?Zy(o,r,a,[]):Yy(o,r,c,a);n.reset(d,Js),n.notifyOnChanges()}return!0}return!1}function HT(n,r,o,a){const c=_n();if(c.firstCreatePass){const d=Jr();(function Jy(n,r,o){null===n.queries&&(n.queries=new Dh),n.queries.track(new Ky(r,o))})(c,new jT(r,o,a),d.index),function Q0(n,r){const o=n.contentQueries||(n.contentQueries=[]);r!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,r)}(c,n),2==(2&o)&&(c.staticContentQueries=!0)}!function Ah(n,r,o){const a=new $y(4==(4&o));(function ZI(n,r,o,a){const c=vl(r);c.push(o),n.firstCreatePass&&Ha(n).push(a,c.length-1)})(n,r,a,a.destroy),null===r[xi]&&(r[xi]=new Pg),r[xi].queries.push(new Rg(a))}(c,Ve(),o)}function GT(){return function Db(n,r){return n[xi].queries[r].queryList}(Ve(),nm())}function Y0(n,r){return n.queries.getByIndex(r)}function zT(n){return!!Pr(n)}const fA=new Zt("Application Initializer");let JT=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,a)=>{this.resolve=o,this.reject=a}),this.appInits=gn(fA,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const o=[];for(const c of this.appInits){const d=c();if(Vp(d))o.push(d);else if(sc(d)){const p=new Promise((y,T)=>{d.subscribe({complete:y,error:T})});o.push(p)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{a()}).catch(c=>{this.reject(c)}),0===o.length&&a(),this.initialized=!0}static#e=this.\u0275fac=function(a){return new(a||n)};static#t=this.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pA=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}static#e=this.\u0275fac=function(a){return new(a||n)};static#t=this.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const tv=new Zt("LocaleId",{providedIn:"root",factory:()=>gn(tv,pt.Optional|pt.SkipSelf)||function Wb(){return typeof $localize<"u"&&$localize.locale||cc}()}),qb=new Zt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let gA=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Q.X(!1)}add(){this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(a){return new(a||n)};static#t=this.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Qb{constructor(r,o){this.ngModuleFactory=r,this.componentFactories=o}}let Yb=(()=>{class n{compileModuleSync(o){return new RT(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const a=this.compileModuleSync(o),d=ta(Pr(o).declarations).reduce((p,y)=>{const T=an(y);return T&&p.push(new ys(T)),p},[]);return new Qb(a,d)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}static#e=this.\u0275fac=function(a){return new(a||n)};static#t=this.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Xt=new Zt(""),ne=new Zt("");let ue,K=(()=>{class n{constructor(o,a,c){this._ngZone=o,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ue||(function re(n){ue=n}(c),c.addToWindow(a)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Vr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(o)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,a,c){let d=-1;a&&a>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(p=>p.timeoutId!==d),o(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:o,timeoutId:d,updateCb:c})}whenStable(o,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,a,c){return[]}static#e=this.\u0275fac=function(a){return new(a||n)(gr(Vr),gr(ee),gr(ne))};static#t=this.\u0275prov=fn({token:n,factory:n.\u0275fac})}return n})(),ee=(()=>{class n{constructor(){this._applications=new Map}registerApplication(o,a){this._applications.set(o,a)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,a=!0){return ue?.findTestabilityInTree(this,o,a)??null}static#e=this.\u0275fac=function(a){return new(a||n)};static#t=this.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),pe=null;const J=new Zt("AllowMultipleToken"),Vo=new Zt("PlatformDestroyListeners"),_c=new Zt("appBootstrapListener");class XT{constructor(r,o){this.name=r,this.token=o}}function Bl(n,r,o=[]){const a=`Platform: ${r}`,c=new Zt(a);return(d=[])=>{let p=iv();if(!p||p.injector.get(J,!1)){const y=[...o,...d,{provide:c,useValue:!0}];n?n(y):function _A(n){if(pe&&!pe.get(J,!1))throw new et(400,!1);(function Ul(){!function ke(n){z=n}(()=>{throw new et(600,!1)})})(),pe=n;const r=n.get(bh);(function ei(n){n.get(Qs,null)?.forEach(o=>o())})(n)}(function jl(n=[],r){return di.create({name:r,providers:[{provide:Na,useValue:"platform"},{provide:Vo,useValue:new Set([()=>pe=null])},...n]})}(y,a))}return function yA(n){const r=iv();if(!r)throw new et(401,!1);return r}()}}function iv(){return pe?.get(bh)??null}let bh=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,a){const c=function ov(n="zone.js",r){return"noop"===n?new HI:"zone.js"===n?new Vr(r):n}(a?.ngZone,function Sh(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:a?.ngZoneEventCoalescing,runCoalescing:a?.ngZoneRunCoalescing}));return c.run(()=>{const d=function PT(n,r,o){return new ST(n,r,o)}(o.moduleType,this.injector,function av(n){return[{provide:Vr,useFactory:n},{provide:_r,multi:!0,useFactory:()=>{const r=gn(nw,{optional:!0});return()=>r.initialize()}},{provide:ew,useFactory:tw},{provide:i_,useFactory:Hu}]}(()=>c)),p=d.injector.get(ea,null);return c.runOutsideAngular(()=>{const y=c.onError.subscribe({next:T=>{p.handleError(T)}});d.onDestroy(()=>{Rh(this._modules,d),y.unsubscribe()})}),function Og(n,r,o){try{const a=o();return Vp(a)?a.catch(c=>{throw r.runOutsideAngular(()=>n.handleError(c)),c}):a}catch(a){throw r.runOutsideAngular(()=>n.handleError(a)),a}}(p,c,()=>{const y=d.injector.get(JT);return y.runInitializers(),y.donePromise.then(()=>(function uT(n){bn(n,"Expected localeId to be defined"),"string"==typeof n&&(aT=n.toLowerCase().replace(/_/g,"-"))}(d.injector.get(tv,cc)||cc),this._moduleDoBootstrap(d),d))})})}bootstrapModule(o,a=[]){const c=kg({},a);return function mA(n,r,o){const a=new RT(o);return Promise.resolve(a)}(0,0,o).then(d=>this.bootstrapModuleFactory(d,c))}_moduleDoBootstrap(o){const a=o.injector.get(uu);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(c=>a.bootstrap(c));else{if(!o.instance.ngDoBootstrap)throw new et(-403,!1);o.instance.ngDoBootstrap(a)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new et(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const o=this._injector.get(Vo,null);o&&(o.forEach(a=>a()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(a){return new(a||n)(gr(di))};static#t=this.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function kg(n,r){return Array.isArray(r)?r.reduce(kg,n):{...n,...r}}let uu=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=gn(ew),this.zoneIsStable=gn(i_),this.componentTypes=[],this.components=[],this.isStable=gn(gA).hasPendingTasks.pipe((0,en.w)(o=>o?(0,X.of)(!1):this.zoneIsStable),function dn(n,r=Ot.y){return n=n??kn,(0,Xe.e)((o,a)=>{let c,d=!0;o.subscribe((0,Nt.x)(a,p=>{const y=r(p);(d||!n(c,y))&&(d=!1,c=y,a.next(p))}))})}(),Be()),this._injector=gn(Vi)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,a){const c=o instanceof ep;if(!this._injector.get(JT).done)throw!c&&Mi(o),new et(405,!1);let p;p=c?o:this._injector.get(Fa).resolveComponentFactory(o),this.componentTypes.push(p.componentType);const y=function rv(n){return n.isBoundToModule}(p)?void 0:this._injector.get(Ds),R=p.create(di.NULL,[],a||p.selector,y),O=R.location.nativeElement,$=R.injector.get(Xt,null);return $?.registerApplication(O),R.onDestroy(()=>{this.detachView(R.hostView),Rh(this.components,R),$?.unregisterApplication(O)}),this._loadComponent(R),R}tick(){if(this._runningTick)throw new et(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1}}attachView(o){const a=o;this._views.push(a),a.attachToAppRef(this)}detachView(o){const a=o;Rh(this._views,a),a.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const a=this._injector.get(_c,[]);a.push(...this._bootstrapListeners),a.forEach(c=>c(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>Rh(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new et(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(a){return new(a||n)};static#t=this.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Rh(n,r){const o=n.indexOf(r);o>-1&&n.splice(o,1)}const ew=new Zt("",{providedIn:"root",factory:()=>gn(ea).handleError.bind(void 0)});function tw(){const n=gn(Vr),r=gn(ea);return o=>n.runOutsideAngular(()=>r.handleError(o))}let nw=(()=>{class n{constructor(){this.zone=gn(Vr),this.applicationRef=gn(uu)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(a){return new(a||n)};static#t=this.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();let Fg=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=aw}return n})();function aw(n){return function uw(n,r,o){if(ui(n)&&!o){const a=rr(n.index,r);return new Mr(a,a)}return 47&n.type?new Mr(r[Zn],r):null}(Jr(),Ve(),16==(16&n))}class Hl{constructor(){}supports(r){return Dl(r)}create(r){return new AA(r)}}const Mh=(n,r)=>r;class AA{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||Mh}forEachItem(r){let o;for(o=this._itHead;null!==o;o=o._next)r(o)}forEachOperation(r){let o=this._itHead,a=this._removalsHead,c=0,d=null;for(;o||a;){const p=!a||o&&o.currentIndex<fw(a,c,d)?o:a,y=fw(p,c,d),T=p.currentIndex;if(p===a)c--,a=a._nextRemoved;else if(o=o._next,null==p.previousIndex)c++;else{d||(d=[]);const R=y-c,O=T-c;if(R!=O){for(let Z=0;Z<R;Z++){const oe=Z<d.length?d[Z]:d[Z]=0,xe=oe+Z;O<=xe&&xe<R&&(d[Z]=oe+1)}d[p.previousIndex]=O-R}}y!==T&&r(p,y,T)}}forEachPreviousItem(r){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachMovedItem(r){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}forEachIdentityChange(r){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)r(o)}diff(r){if(null==r&&(r=[]),!Dl(r))throw new et(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,d,p,o=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let y=0;y<this.length;y++)d=r[y],p=this._trackByFn(y,d),null!==o&&Object.is(o.trackById,p)?(a&&(o=this._verifyReinsertion(o,d,p,y)),Object.is(o.item,d)||this._addIdentityChange(o,d)):(o=this._mismatch(o,d,p,y),a=!0),o=o._next}else c=0,function VD(n,r){if(Array.isArray(n))for(let o=0;o<n.length;o++)r(n[o]);else{const o=n[Symbol.iterator]();let a;for(;!(a=o.next()).done;)r(a.value)}}(r,y=>{p=this._trackByFn(c,y),null!==o&&Object.is(o.trackById,p)?(a&&(o=this._verifyReinsertion(o,y,p,c)),Object.is(o.item,y)||this._addIdentityChange(o,y)):(o=this._mismatch(o,y,p,c),a=!0),o=o._next,c++}),this.length=c;return this._truncate(o),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,o,a,c){let d;return null===r?d=this._itTail:(d=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._reinsertAfter(r,d,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._moveAfter(r,d,c)):r=this._addAfter(new CA(o,a),d,c),r}_verifyReinsertion(r,o,a,c){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==d?r=this._reinsertAfter(d,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const o=r._next;this._addToRemovals(this._unlink(r)),r=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,o,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,d=r._nextRemoved;return null===c?this._removalsHead=d:c._nextRemoved=d,null===d?this._removalsTail=c:d._prevRemoved=c,this._insertAfter(r,o,a),this._addToMoves(r,a),r}_moveAfter(r,o,a){return this._unlink(r),this._insertAfter(r,o,a),this._addToMoves(r,a),r}_addAfter(r,o,a){return this._insertAfter(r,o,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,o,a){const c=null===o?this._itHead:o._next;return r._next=c,r._prev=o,null===c?this._itTail=r:c._prev=r,null===o?this._itHead=r:o._next=r,null===this._linkedRecords&&(this._linkedRecords=new hw),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const o=r._prev,a=r._next;return null===o?this._itHead=a:o._next=a,null===a?this._itTail=o:a._prev=o,r}_addToMoves(r,o){return r.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new hw),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,o){return r.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class CA{constructor(r,o){this.item=r,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Gl{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,o){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===o||o<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const o=r._prevDup,a=r._nextDup;return null===o?this._head=a:o._nextDup=a,null===a?this._tail=o:a._prevDup=o,null===this._head}}class hw{constructor(){this.map=new Map}put(r){const o=r.trackById;let a=this.map.get(o);a||(a=new Gl,this.map.set(o,a)),a.add(r)}get(r,o){const c=this.map.get(r);return c?c.get(r,o):null}remove(r){const o=r.trackById;return this.map.get(o).remove(r)&&this.map.delete(o),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function fw(n,r,o){const a=n.previousIndex;if(null===a)return a;let c=0;return o&&a<o.length&&(c=o[a]),a+r+c}class xh{constructor(){}supports(r){return r instanceof Map||M_(r)}create(){return new pw}}class pw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let o;for(o=this._mapHead;null!==o;o=o._next)r(o)}forEachPreviousItem(r){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)r(o)}forEachChangedItem(r){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}diff(r){if(r){if(!(r instanceof Map||M_(r)))throw new et(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,c)=>{if(o&&o.key===c)this._maybeAddToChanges(o,a),this._appendAfter=o,o=o._next;else{const d=this._getOrCreateRecordForKey(c,a);o=this._insertBeforeOrAppend(o,d)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let a=o;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,o){if(r){const a=r._prev;return o._next=r,o._prev=a,r._prev=o,a&&(a._next=o),r===this._mapHead&&(this._mapHead=o),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(r,o){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,o);const d=c._prev,p=c._next;return d&&(d._next=p),p&&(p._prev=d),c._next=null,c._prev=null,c}const a=new lv(r);return this._records.set(r,a),a.currentValue=o,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,o){Object.is(o,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=o,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,o){r instanceof Map?r.forEach(o):Object.keys(r).forEach(a=>o(r[a],a))}}class lv{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Nh(){return new As([new Hl])}let As=(()=>{class n{static#e=this.\u0275prov=fn({token:n,providedIn:"root",factory:Nh});constructor(o){this.factories=o}static create(o,a){if(null!=a){const c=a.factories.slice();o=o.concat(c)}return new n(o)}static extend(o){return{provide:n,useFactory:a=>n.create(o,a||Nh()),deps:[[n,new Df,new wf]]}}find(o){const a=this.factories.find(c=>c.supports(o));if(null!=a)return a;throw new et(901,!1)}}return n})();function dv(){return new Oh([new xh])}let Oh=(()=>{class n{static#e=this.\u0275prov=fn({token:n,providedIn:"root",factory:dv});constructor(o){this.factories=o}static create(o,a){if(a){const c=a.factories.slice();o=o.concat(c)}return new n(o)}static extend(o){return{provide:n,useFactory:a=>n.create(o,a||dv()),deps:[[n,new Df,new wf]]}}find(o){const a=this.factories.find(c=>c.supports(o));if(a)return a;throw new et(901,!1)}}return n})();const jg=Bl(null,"core",[]);let mw=(()=>{class n{constructor(o){}static#e=this.\u0275fac=function(a){return new(a||n)(gr(uu))};static#t=this.\u0275mod=xs({type:n});static#n=this.\u0275inj=Wt({})}return n})();function Vh(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function zl(n){const r=an(n);if(!r)return null;const o=new ys(r);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},721:(xt,Ge,H)=>{H.d(Ge,{Ot:()=>we,ZF:()=>Ot,hX:()=>Xe,z6:()=>W});var A=H(3182),te=H(4946),Re=H(4810);class we{constructor(Ke){return Ke}}class W{constructor(){return(0,A.C6)()}}const tt=new te.OlP("angularfire2._apps"),je={provide:we,useFactory:function be(Se){return Se&&1===Se.length?Se[0]:new we((0,A.Mq)())},deps:[[new te.FiY,tt]]},Q={provide:W,deps:[[new te.FiY,tt]]};function X(Se){return(Ke,Oe)=>{const lt=Ke.runOutsideAngular(()=>Se(Oe));return new we(lt)}}let ve=(()=>{class Se{constructor(Oe){(0,A.KN)("angularfire",Re.q4.full,"core"),(0,A.KN)("angularfire",Re.q4.full,"app"),(0,A.KN)("angular",te.q4F.full,Oe.toString())}static \u0275fac=function(lt){return new(lt||Se)(te.LFG(te.Lbi))};static \u0275mod=te.oAB({type:Se});static \u0275inj=te.cJS({providers:[je,Q]})}return Se})();function Xe(Se,...Ke){return{ngModule:ve,providers:[{provide:tt,useFactory:X(Se),multi:!0,deps:[te.R0b,te.zs3,Re.HU,...Ke]}]}}const Ot=(0,Re.u3)(A.ZF,!0)},8819:(xt,Ge,H)=>{H.d(Ge,{gg:()=>Ah,hJ:()=>QT,BS:()=>bb,ad:()=>ZT,Cm:()=>Cb});var A=H(4810),te=H(4946),Re=H(721),we=H(3182),W=H(5861),ye=H(534),be=H(9058),tt=H(7879),je=H(7582),Q=H(4537);const dn=function Ot(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},kn=new be.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ke=new tt.Yd("@firebase/auth");function lt(s,...e){Ke.logLevel<=tt.in.ERROR&&Ke.error(`Auth (${ye.Jn}): ${s}`,...e)}function ft(s,...e){throw xr(s,...e)}function nt(s,...e){return xr(s,...e)}function Ze(s,e,t){const i=Object.assign(Object.assign({},dn()),{[e]:t});return new be.LL("auth","Firebase",i).create(e,{appName:s.name})}function wt(s){return Ze(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xr(s,...e){if("string"!=typeof s){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=s.name),s._errorFactory.create(t,...i)}return kn.create(s,...e)}function $e(s,e,...t){if(!s)throw xr(e,...t)}function et(s){const e="INTERNAL ASSERTION FAILED: "+s;throw lt(e),new Error(e)}function hn(s,e){s||et(e)}function Ee(){var s;return typeof self<"u"&&(null===(s=self.location)||void 0===s?void 0:s.protocol)||null}class De{constructor(e,t){this.shortDelay=e,this.longDelay=t,hn(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,be.uI)()||(0,be.b$)()}get(){return function me(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Ft(){return"http:"===Ee()||"https:"===Ee()}()||(0,be.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class ie{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void et("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void et("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void et("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ce={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Je=new De(3e4,6e4);function dt(s,e){return s.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:s.tenantId}):e}function ze(s,e,t,i){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,W.Z)(function*(s,e,t,i,u={}){return yn(s,u,(0,W.Z)(function*(){let l={},h={};i&&("GET"===e?h=i:l={body:JSON.stringify(i)});const g=(0,be.xO)(Object.assign({key:s.config.apiKey},h)).slice(1),E=yield s._getAdditionalHeaders();return E["Content-Type"]="application/json",s.languageCode&&(E["X-Firebase-Locale"]=s.languageCode),ie.fetch()(vn(s,s.config.apiHost,t,g),Object.assign({method:e,headers:E,referrerPolicy:"no-referrer"},l))}))})).apply(this,arguments)}function yn(s,e,t){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,W.Z)(function*(s,e,t){s._canInitEmulator=!1;const i=Object.assign(Object.assign({},Ce),e);try{const u=new bn(s),l=yield Promise.race([t(),u.promise]);u.clearNetworkTimeout();const h=yield l.json();if("needConfirmation"in h)throw St(s,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const g=l.ok?h.errorMessage:h.error.message,[E,b]=g.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===E)throw St(s,"credential-already-in-use",h);if("EMAIL_EXISTS"===E)throw St(s,"email-already-in-use",h);if("USER_DISABLED"===E)throw St(s,"user-disabled",h);const x=i[E]||E.toLowerCase().replace(/[_\s]+/g,"-");if(b)throw Ze(s,x,b);ft(s,x)}}catch(u){if(u instanceof be.ZR)throw u;ft(s,"network-request-failed",{message:String(u)})}})).apply(this,arguments)}function vn(s,e,t,i){const u=`${e}${t}?${i}`;return s.config.emulator?function le(s,e){hn(s.emulator,"Emulator should always be set here");const{url:t}=s.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}(s.config,u):`${s.config.apiScheme}://${u}`}class bn{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(nt(this.auth,"network-request-failed")),Je.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function St(s,e,t){const i={appName:s.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const u=nt(s,e,i);return u.customData._tokenResponse=t,u}function bt(){return(bt=(0,W.Z)(function*(s,e){return ze(s,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function xn(s,e){return ti.apply(this,arguments)}function ti(){return(ti=(0,W.Z)(function*(s,e){return ze(s,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function pn(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Ri(){return(Ri=(0,W.Z)(function*(s,e=!1){const t=(0,be.m9)(s),i=yield t.getIdToken(e),u=Xn(i);$e(u&&u.exp&&u.auth_time&&u.iat,t.auth,"internal-error");const l="object"==typeof u.firebase?u.firebase:void 0,h=l?.sign_in_provider;return{claims:u,token:i,authTime:pn(Dr(u.auth_time)),issuedAtTime:pn(Dr(u.iat)),expirationTime:pn(Dr(u.exp)),signInProvider:h||null,signInSecondFactor:l?.sign_in_second_factor||null}})).apply(this,arguments)}function Dr(s){return 1e3*Number(s)}function Xn(s){const[e,t,i]=s.split(".");if(void 0===e||void 0===t||void 0===i)return lt("JWT malformed, contained fewer than 3 sections"),null;try{const u=(0,be.tV)(t);return u?JSON.parse(u):(lt("Failed to decode base64 JWT payload"),null)}catch(u){return lt("Caught error parsing JWT payload as JSON",u?.toString()),null}}function Qn(s){const e=Xn(s);return $e(e,"internal-error"),$e(typeof e.exp<"u","internal-error"),$e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Or(s,e){return wn.apply(this,arguments)}function wn(){return(wn=(0,W.Z)(function*(s,e,t=!1){if(t)return e;try{return yield e}catch(i){throw i instanceof be.ZR&&function co({code:s}){return"auth/user-disabled"===s||"auth/user-token-expired"===s}(i)&&s.auth.currentUser===s&&(yield s.auth.signOut()),i}})).apply(this,arguments)}class Wi{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),i}{this.errorBackoff=3e4;const u=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,u)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout((0,W.Z)(function*(){yield t.iteration()}),i)}iteration(){var e=this;return(0,W.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class Zt{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=pn(this.lastLoginAt),this.creationTime=pn(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ri(s){return jr.apply(this,arguments)}function jr(){return(jr=(0,W.Z)(function*(s){var e;const t=s.auth,i=yield s.getIdToken(),u=yield Or(s,xn(t,{idToken:i}));$e(u?.users.length,t,"internal-error");const l=u.users[0];s._notifyReloadListener(l);const h=null!==(e=l.providerUserInfo)&&void 0!==e&&e.length?V(l.providerUserInfo):[],g=function F(s,e){return[...s.filter(i=>!e.some(u=>u.providerId===i.providerId)),...e]}(s.providerData,h),x=!!s.isAnonymous&&!(s.email&&l.passwordHash||g?.length),B={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:g,metadata:new Zt(l.createdAt,l.lastLoginAt),isAnonymous:x};Object.assign(s,B)})).apply(this,arguments)}function q(){return(q=(0,W.Z)(function*(s){const e=(0,be.m9)(s);yield ri(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function V(s){return s.map(e=>{var{providerId:t}=e,i=(0,je._T)(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function U(){return(U=(0,W.Z)(function*(s,e){const t=yield yn(s,{},(0,W.Z)(function*(){const i=(0,be.xO)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:u,apiKey:l}=s.config,h=vn(s,u,"/v1/token",`key=${l}`),g=yield s._getAdditionalHeaders();return g["Content-Type"]="application/x-www-form-urlencoded",ie.fetch()(h,{method:"POST",headers:g,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}function Le(){return(Le=(0,W.Z)(function*(s,e){return ze(s,"POST","/v2/accounts:revokeToken",dt(s,e))})).apply(this,arguments)}class rt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$e(e.idToken,"internal-error"),$e(typeof e.idToken<"u","internal-error"),$e(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Qn(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){$e(0!==e.length,"internal-error");const t=Qn(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){var i=this;return(0,W.Z)(function*(){return t||!i.accessToken||i.isExpired?($e(i.refreshToken,e,"user-token-expired"),i.refreshToken?(yield i.refresh(e,i.refreshToken),i.accessToken):null):i.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var i=this;return(0,W.Z)(function*(){const{accessToken:u,refreshToken:l,expiresIn:h}=yield function L(s,e){return U.apply(this,arguments)}(e,t);i.updateTokensAndExpiration(u,l,Number(h))})()}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(e,t){const{refreshToken:i,accessToken:u,expirationTime:l}=t,h=new rt;return i&&($e("string"==typeof i,"internal-error",{appName:e}),h.refreshToken=i),u&&($e("string"==typeof u,"internal-error",{appName:e}),h.accessToken=u),l&&($e("number"==typeof l,"internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new rt,this.toJSON())}_performRefresh(){return et("not implemented")}}function Rt(s,e){$e("string"==typeof s||typeof s>"u","internal-error",{appName:e})}class Dt{constructor(e){var{uid:t,auth:i,stsTokenManager:u}=e,l=(0,je._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Wi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=u,this.accessToken=u.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Zt(l.createdAt||void 0,l.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,W.Z)(function*(){const i=yield Or(t,t.stsTokenManager.getToken(t.auth,e));return $e(i,t.auth,"internal-error"),t.accessToken!==i&&(t.accessToken=i,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),i})()}getIdTokenResult(e){return function pt(s){return Ri.apply(this,arguments)}(this,e)}reload(){return function ii(s){return q.apply(this,arguments)}(this)}_assign(e){this!==e&&($e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Dt(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){$e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var i=this;return(0,W.Z)(function*(){let u=!1;e.idToken&&e.idToken!==i.stsTokenManager.accessToken&&(i.stsTokenManager.updateFromServerResponse(e),u=!0),t&&(yield ri(i)),yield i.auth._persistUserIfCurrent(i),u&&i.auth._notifyListenersIfCurrent(i)})()}delete(){var e=this;return(0,W.Z)(function*(){if((0,ye.rh)(e.auth.app))return Promise.reject(wt(e.auth));const t=yield e.getIdToken();return yield Or(e,function Br(s,e){return bt.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,u,l,h,g,E,b,x;const B=null!==(i=t.displayName)&&void 0!==i?i:void 0,Y=null!==(u=t.email)&&void 0!==u?u:void 0,ce=null!==(l=t.phoneNumber)&&void 0!==l?l:void 0,Ne=null!==(h=t.photoURL)&&void 0!==h?h:void 0,Ye=null!==(g=t.tenantId)&&void 0!==g?g:void 0,Ue=null!==(E=t._redirectEventId)&&void 0!==E?E:void 0,_t=null!==(b=t.createdAt)&&void 0!==b?b:void 0,Pt=null!==(x=t.lastLoginAt)&&void 0!==x?x:void 0,{uid:yt,emailVerified:Qt,isAnonymous:Ht,providerData:Xt,stsTokenManager:ne}=t;$e(yt&&ne,e,"internal-error");const K=rt.fromJSON(this.name,ne);$e("string"==typeof yt,e,"internal-error"),Rt(B,e.name),Rt(Y,e.name),$e("boolean"==typeof Qt,e,"internal-error"),$e("boolean"==typeof Ht,e,"internal-error"),Rt(ce,e.name),Rt(Ne,e.name),Rt(Ye,e.name),Rt(Ue,e.name),Rt(_t,e.name),Rt(Pt,e.name);const ee=new Dt({uid:yt,auth:e,email:Y,emailVerified:Qt,displayName:B,isAnonymous:Ht,photoURL:Ne,phoneNumber:ce,tenantId:Ye,stsTokenManager:K,createdAt:_t,lastLoginAt:Pt});return Xt&&Array.isArray(Xt)&&(ee.providerData=Xt.map(re=>Object.assign({},re))),Ue&&(ee._redirectEventId=Ue),ee}static _fromIdTokenResponse(e,t,i=!1){return(0,W.Z)(function*(){const u=new rt;u.updateFromServerResponse(t);const l=new Dt({uid:t.localId,auth:e,stsTokenManager:u,isAnonymous:i});return yield ri(l),l})()}static _fromGetAccountInfoResponse(e,t,i){return(0,W.Z)(function*(){const u=t.users[0];$e(void 0!==u.localId,"internal-error");const l=void 0!==u.providerUserInfo?V(u.providerUserInfo):[],h=!(u.email&&u.passwordHash||l?.length),g=new rt;g.updateFromIdToken(i);const E=new Dt({uid:u.localId,auth:e,stsTokenManager:g,isAnonymous:h}),b={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:l,metadata:new Zt(u.createdAt,u.lastLoginAt),isAnonymous:!(u.email&&u.passwordHash||l?.length)};return Object.assign(E,b),E})()}}const sn=new Map;function Mt(s){hn(s instanceof Function,"Expected a class definition");let e=sn.get(s);return e?(hn(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,sn.set(s,e),e)}const $r=(()=>{class s{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,W.Z)(function*(){return!0})()}_set(t,i){var u=this;return(0,W.Z)(function*(){u.storage[t]=i})()}_get(t){var i=this;return(0,W.Z)(function*(){const u=i.storage[t];return void 0===u?null:u})()}_remove(t){var i=this;return(0,W.Z)(function*(){delete i.storage[t]})()}_addListener(t,i){}_removeListener(t,i){}}return s.type="NONE",s})();function oi(s,e,t){return`firebase:${s}:${e}:${t}`}class Hr{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:u,name:l}=this.auth;this.fullUserKey=oi(this.userKey,u.apiKey,l),this.fullPersistenceKey=oi("persistence",u.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,W.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Dt._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,W.Z)(function*(){if(t.persistence===e)return;const i=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,i?t.setCurrentUser(i):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return(0,W.Z)(function*(){if(!t.length)return new Hr(Mt($r),e,i);const u=(yield Promise.all(t.map(function(){var b=(0,W.Z)(function*(x){if(yield x._isAvailable())return x});return function(x){return b.apply(this,arguments)}}()))).filter(b=>b);let l=u[0]||Mt($r);const h=oi(i,e.config.apiKey,e.name);let g=null;for(const b of t)try{const x=yield b._get(h);if(x){const B=Dt._fromJSON(e,x);b!==l&&(g=B),l=b;break}}catch{}const E=u.filter(b=>b._shouldAllowMigration);return l._shouldAllowMigration&&E.length?(l=E[0],g&&(yield l._set(h,g.toJSON())),yield Promise.all(t.map(function(){var b=(0,W.Z)(function*(x){if(x!==l)try{yield x._remove(h)}catch{}});return function(x){return b.apply(this,arguments)}}())),new Hr(l,e,i)):new Hr(l,e,i)})()}}function Cs(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function lo(s=(0,be.z$)()){return/iemobile/i.test(s)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function Gr(s=(0,be.z$)()){return/firefox\//i.test(s)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function Ie(s=(0,be.z$)()){return/blackberry/i.test(s)}(e))return"Blackberry";if(function ae(s=(0,be.z$)()){return/webos/i.test(s)}(e))return"Webos";if(function bs(s=(0,be.z$)()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function gr(s=(0,be.z$)()){return/crios\//i.test(s)}(e))&&!e.includes("edge/"))return"Chrome";if(function gn(s=(0,be.z$)()){return/android/i.test(s)}(e))return"Android";{const i=s.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===i?.length)return i[1]}return"Other"}function mn(s,e=[]){let t;switch(s){case"Browser":t=Cs((0,be.z$)());break;case"Worker":t=`${Cs((0,be.z$)())}-${s}`;break;default:t=s}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ye.Jn}/${i}`}class Sn{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((h,g)=>{try{h(e(l))}catch(E){g(E)}});i.onAbort=t,this.queue.push(i);const u=this.queue.length-1;return()=>{this.queue[u]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,W.Z)(function*(){if(t.auth.currentUser===e)return;const i=[];try{for(const u of t.queue)yield u(e),u.onAbort&&i.push(u.onAbort)}catch(u){i.reverse();for(const l of i)try{l()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:u?.message})}})()}}function Pi(){return(Pi=(0,W.Z)(function*(s,e={}){return ze(s,"GET","/v2/passwordPolicy",dt(s,e))})).apply(this,arguments)}class Rs{constructor(e){var t,i,u,l;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=h.minPasswordLength)&&void 0!==t?t:6,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),void 0!==h.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),void 0!==h.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),void 0!==h.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),void 0!==h.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(u=null===(i=e.allowedNonAlphanumericCharacters)||void 0===i?void 0:i.join(""))&&void 0!==u?u:"",this.forceUpgradeOnSignin=null!==(l=e.forceUpgradeOnSignin)&&void 0!==l&&l,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,u,l,h,g;const E={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,E),this.validatePasswordCharacterOptions(e,E),E.isValid&&(E.isValid=null===(t=E.meetsMinPasswordLength)||void 0===t||t),E.isValid&&(E.isValid=null===(i=E.meetsMaxPasswordLength)||void 0===i||i),E.isValid&&(E.isValid=null===(u=E.containsLowercaseLetter)||void 0===u||u),E.isValid&&(E.isValid=null===(l=E.containsUppercaseLetter)||void 0===l||l),E.isValid&&(E.isValid=null===(h=E.containsNumericCharacter)||void 0===h||h),E.isValid&&(E.isValid=null===(g=E.containsNonAlphanumericCharacter)||void 0===g||g),E}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,u=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),u&&(t.meetsMaxPasswordLength=e.length<=u)}validatePasswordCharacterOptions(e,t){let i;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let u=0;u<e.length;u++)i=e.charAt(u),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,u,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=u)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class Co{constructor(e,t,i,u){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=u,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ho(this),this.idTokenSubscription=new ho(this),this.beforeStateQueue=new Sn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kn,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=u.sdkClientVersion}_initializeWithPersistence(e,t){var i=this;return t&&(this._popupRedirectResolver=Mt(t)),this._initializationPromise=this.queue((0,W.Z)(function*(){var u,l;if(!i._deleted&&(i.persistenceManager=yield Hr.create(i,e),!i._deleted)){if(null!==(u=i._popupRedirectResolver)&&void 0!==u&&u._shouldInitProactively)try{yield i._popupRedirectResolver._initialize(i)}catch{}yield i.initializeCurrentUser(t),i.lastNotifiedUid=(null===(l=i.currentUser)||void 0===l?void 0:l.uid)||null,!i._deleted&&(i._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,W.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUserFromIdToken(e){var t=this;return(0,W.Z)(function*(){try{const i=yield xn(t,{idToken:e}),u=yield Dt._fromGetAccountInfoResponse(t,i,e);yield t.directlySetCurrentUser(u)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),yield t.directlySetCurrentUser(null)}})()}initializeCurrentUser(e){var t=this;return(0,W.Z)(function*(){var i;if((0,ye.rh)(t.app)){const g=t.app.settings.authIdToken;return g?new Promise(E=>{setTimeout(()=>t.initializeCurrentUserFromIdToken(g).then(E,E))}):t.directlySetCurrentUser(null)}const u=yield t.assertedPersistence.getCurrentUser();let l=u,h=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const g=null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId,E=l?._redirectEventId,b=yield t.tryRedirectSignIn(e);(!g||g===E)&&b?.user&&(l=b.user,h=!0)}if(!l)return t.directlySetCurrentUser(null);if(!l._redirectEventId){if(h)try{yield t.beforeStateQueue.runMiddleware(l)}catch(g){l=u,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(g))}return l?t.reloadAndSetCurrentUserOrClear(l):t.directlySetCurrentUser(null)}return $e(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===l._redirectEventId?t.directlySetCurrentUser(l):t.reloadAndSetCurrentUserOrClear(l)})()}tryRedirectSignIn(e){var t=this;return(0,W.Z)(function*(){let i=null;try{i=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return i})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,W.Z)(function*(){try{yield ri(e)}catch(i){if("auth/network-request-failed"!==i?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Pe(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}()}_delete(){var e=this;return(0,W.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,W.Z)(function*(){if((0,ye.rh)(t.app))return Promise.reject(wt(t));const i=e?(0,be.m9)(e):null;return i&&$e(i.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(i&&i._clone(t))})()}_updateCurrentUser(e,t=!1){var i=this;return(0,W.Z)(function*(){if(!i._deleted)return e&&$e(i.tenantId===e.tenantId,i,"tenant-id-mismatch"),t||(yield i.beforeStateQueue.runMiddleware(e)),i.queue((0,W.Z)(function*(){yield i.directlySetCurrentUser(e),i.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,W.Z)(function*(){return(0,ye.rh)(e.app)?Promise.reject(wt(e)):(yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0))})()}setPersistence(e){var t=this;return(0,ye.rh)(this.app)?Promise.reject(wt(this)):this.queue((0,W.Z)(function*(){yield t.assertedPersistence.setPersistence(Mt(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var t=this;return(0,W.Z)(function*(){t._getPasswordPolicyInternal()||(yield t._updatePasswordPolicy());const i=t._getPasswordPolicyInternal();return i.schemaVersion!==t.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(t._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return(0,W.Z)(function*(){const t=yield function nn(s){return Pi.apply(this,arguments)}(e),i=new Rs(t);null===e.tenantId?e._projectPasswordPolicy=i:e._tenantPasswordPolicies[e.tenantId]=i})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new be.LL("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}revokeAccessToken(e){var t=this;return(0,W.Z)(function*(){if(t.currentUser){const i=yield t.currentUser.getIdToken(),u={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};null!=t.tenantId&&(u.tenantId=t.tenantId),yield function se(s,e){return Le.apply(this,arguments)}(t,u)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var i=this;return(0,W.Z)(function*(){const u=yield i.getOrInitRedirectPersistenceManager(t);return null===e?u.removeCurrentUser():u.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,W.Z)(function*(){if(!t.redirectPersistenceManager){const i=e&&Mt(e)||t._popupRedirectResolver;$e(i,t,"argument-error"),t.redirectPersistenceManager=yield Hr.create(t,[Mt(i._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,W.Z)(function*(){var i,u;return t._isInitialized&&(yield t.queue((0,W.Z)(function*(){}))),(null===(i=t._currentUser)||void 0===i?void 0:i._redirectEventId)===e?t._currentUser:(null===(u=t.redirectUser)||void 0===u?void 0:u._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,W.Z)(function*(){if(e===t.currentUser)return t.queue((0,W.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,u){if(this._deleted)return()=>{};const l="function"==typeof t?t:t.next.bind(t);let h=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if($e(g,this,"internal-error"),g.then(()=>{h||l(this.currentUser)}),"function"==typeof t){const E=e.addObserver(t,i,u);return()=>{h=!0,E()}}{const E=e.addObserver(t);return()=>{h=!0,E()}}}directlySetCurrentUser(e){var t=this;return(0,W.Z)(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,W.Z)(function*(){var t;const i={"X-Client-Version":e.clientVersion};e.app.options.appId&&(i["X-Firebase-gmpid"]=e.app.options.appId);const u=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();u&&(i["X-Firebase-Client"]=u);const l=yield e._getAppCheckToken();return l&&(i["X-Firebase-AppCheck"]=l),i})()}_getAppCheckToken(){var e=this;return(0,W.Z)(function*(){var t;const i=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return i?.error&&function Oe(s,...e){Ke.logLevel<=tt.in.WARN&&Ke.warn(`Auth (${ye.Jn}): ${s}`,...e)}(`Error while retrieving App Check token: ${i.error}`),i?.token})()}}class ho{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,be.ne)(t=>this.observer=t)}get next(){return $e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let qi={loadJS:()=>(0,W.Z)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};(function fu(s){return`__${s}${Math.floor(1e6*Math.random())}`})("rcb"),new De(3e4,6e4),new De(2e3,1e4),new De(3e4,6e4),new De(5e3,15e3),encodeURIComponent("fac");var Kv="@firebase/auth";class Tf{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,W.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){$e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,be.Pz)("authIdTokenMaxAge"),function da(s){qi=s}({loadJS:s=>new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",s),i.onload=e,i.onerror=u=>{const l=nt("internal-error");l.customData=u,t(l)},i.type="text/javascript",i.charset="UTF-8",function Af(){var s,e;return null!==(e=null===(s=document.getElementsByTagName("head"))||void 0===s?void 0:s[0])&&void 0!==e?e:document}().appendChild(i)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function wf(s){(0,ye.Xd)(new Q.wA("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),u=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:h,authDomain:g}=i.options;$e(h&&!h.includes(":"),"invalid-api-key",{appName:i.name});const E={apiKey:h,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mn(s)},b=new Co(i,u,l,E);return function Ms(s,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Mt);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(i,e?.popupRedirectResolver)}(b,t),b},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),(0,ye.Xd)(new Q.wA("auth-internal",e=>{const t=function In(s){return(0,be.m9)(s)}(e.getProvider("auth").getImmediate());return new Tf(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ye.KN)(Kv,"1.7.3",function Uw(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(s)),(0,ye.KN)(Kv,"1.7.3","esm2017")}("Browser");class Jv{constructor(){return(0,A.vb)("auth")}}var Mu,bf,Sm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},iI={};(function(){var s;function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function u(ne,K,ee){ee||(ee=0);var re=Array(16);if("string"==typeof K)for(var ue=0;16>ue;++ue)re[ue]=K.charCodeAt(ee++)|K.charCodeAt(ee++)<<8|K.charCodeAt(ee++)<<16|K.charCodeAt(ee++)<<24;else for(ue=0;16>ue;++ue)re[ue]=K[ee++]|K[ee++]<<8|K[ee++]<<16|K[ee++]<<24;var pe=ne.g[3],J=(K=ne.g[0])+(pe^(ee=ne.g[1])&((ue=ne.g[2])^pe))+re[0]+3614090360&4294967295;J=(ee=(ue=(pe=(K=(ee=(ue=(pe=(K=(ee=(ue=(pe=(K=(ee=(ue=(pe=(K=(ee=(ue=(pe=(K=(ee=(ue=(pe=(K=(ee=(ue=(pe=(K=(ee=(ue=(pe=(K=(ee=(ue=(pe=(K=(ee=(ue=(pe=(K=(ee=(ue=(pe=(K=(ee=(ue=(pe=(K=(ee=(ue=(pe=(K=(ee=(ue=(pe=(K=(ee=(ue=(pe=(K=ee+(J<<7&4294967295|J>>>25))+((J=pe+(ue^K&(ee^ue))+re[1]+3905402710&4294967295)<<12&4294967295|J>>>20))+((J=ue+(ee^pe&(K^ee))+re[2]+606105819&4294967295)<<17&4294967295|J>>>15))+((J=ee+(K^ue&(pe^K))+re[3]+3250441966&4294967295)<<22&4294967295|J>>>10))+((J=K+(pe^ee&(ue^pe))+re[4]+4118548399&4294967295)<<7&4294967295|J>>>25))+((J=pe+(ue^K&(ee^ue))+re[5]+1200080426&4294967295)<<12&4294967295|J>>>20))+((J=ue+(ee^pe&(K^ee))+re[6]+2821735955&4294967295)<<17&4294967295|J>>>15))+((J=ee+(K^ue&(pe^K))+re[7]+4249261313&4294967295)<<22&4294967295|J>>>10))+((J=K+(pe^ee&(ue^pe))+re[8]+1770035416&4294967295)<<7&4294967295|J>>>25))+((J=pe+(ue^K&(ee^ue))+re[9]+2336552879&4294967295)<<12&4294967295|J>>>20))+((J=ue+(ee^pe&(K^ee))+re[10]+4294925233&4294967295)<<17&4294967295|J>>>15))+((J=ee+(K^ue&(pe^K))+re[11]+2304563134&4294967295)<<22&4294967295|J>>>10))+((J=K+(pe^ee&(ue^pe))+re[12]+1804603682&4294967295)<<7&4294967295|J>>>25))+((J=pe+(ue^K&(ee^ue))+re[13]+4254626195&4294967295)<<12&4294967295|J>>>20))+((J=ue+(ee^pe&(K^ee))+re[14]+2792965006&4294967295)<<17&4294967295|J>>>15))+((J=ee+(K^ue&(pe^K))+re[15]+1236535329&4294967295)<<22&4294967295|J>>>10))+((J=K+(ue^pe&(ee^ue))+re[1]+4129170786&4294967295)<<5&4294967295|J>>>27))+((J=pe+(ee^ue&(K^ee))+re[6]+3225465664&4294967295)<<9&4294967295|J>>>23))+((J=ue+(K^ee&(pe^K))+re[11]+643717713&4294967295)<<14&4294967295|J>>>18))+((J=ee+(pe^K&(ue^pe))+re[0]+3921069994&4294967295)<<20&4294967295|J>>>12))+((J=K+(ue^pe&(ee^ue))+re[5]+3593408605&4294967295)<<5&4294967295|J>>>27))+((J=pe+(ee^ue&(K^ee))+re[10]+38016083&4294967295)<<9&4294967295|J>>>23))+((J=ue+(K^ee&(pe^K))+re[15]+3634488961&4294967295)<<14&4294967295|J>>>18))+((J=ee+(pe^K&(ue^pe))+re[4]+3889429448&4294967295)<<20&4294967295|J>>>12))+((J=K+(ue^pe&(ee^ue))+re[9]+568446438&4294967295)<<5&4294967295|J>>>27))+((J=pe+(ee^ue&(K^ee))+re[14]+3275163606&4294967295)<<9&4294967295|J>>>23))+((J=ue+(K^ee&(pe^K))+re[3]+4107603335&4294967295)<<14&4294967295|J>>>18))+((J=ee+(pe^K&(ue^pe))+re[8]+1163531501&4294967295)<<20&4294967295|J>>>12))+((J=K+(ue^pe&(ee^ue))+re[13]+2850285829&4294967295)<<5&4294967295|J>>>27))+((J=pe+(ee^ue&(K^ee))+re[2]+4243563512&4294967295)<<9&4294967295|J>>>23))+((J=ue+(K^ee&(pe^K))+re[7]+1735328473&4294967295)<<14&4294967295|J>>>18))+((J=ee+(pe^K&(ue^pe))+re[12]+2368359562&4294967295)<<20&4294967295|J>>>12))+((J=K+(ee^ue^pe)+re[5]+4294588738&4294967295)<<4&4294967295|J>>>28))+((J=pe+(K^ee^ue)+re[8]+2272392833&4294967295)<<11&4294967295|J>>>21))+((J=ue+(pe^K^ee)+re[11]+1839030562&4294967295)<<16&4294967295|J>>>16))+((J=ee+(ue^pe^K)+re[14]+4259657740&4294967295)<<23&4294967295|J>>>9))+((J=K+(ee^ue^pe)+re[1]+2763975236&4294967295)<<4&4294967295|J>>>28))+((J=pe+(K^ee^ue)+re[4]+1272893353&4294967295)<<11&4294967295|J>>>21))+((J=ue+(pe^K^ee)+re[7]+4139469664&4294967295)<<16&4294967295|J>>>16))+((J=ee+(ue^pe^K)+re[10]+3200236656&4294967295)<<23&4294967295|J>>>9))+((J=K+(ee^ue^pe)+re[13]+681279174&4294967295)<<4&4294967295|J>>>28))+((J=pe+(K^ee^ue)+re[0]+3936430074&4294967295)<<11&4294967295|J>>>21))+((J=ue+(pe^K^ee)+re[3]+3572445317&4294967295)<<16&4294967295|J>>>16))+((J=ee+(ue^pe^K)+re[6]+76029189&4294967295)<<23&4294967295|J>>>9))+((J=K+(ee^ue^pe)+re[9]+3654602809&4294967295)<<4&4294967295|J>>>28))+((J=pe+(K^ee^ue)+re[12]+3873151461&4294967295)<<11&4294967295|J>>>21))+((J=ue+(pe^K^ee)+re[15]+530742520&4294967295)<<16&4294967295|J>>>16))+((J=ee+(ue^pe^K)+re[2]+3299628645&4294967295)<<23&4294967295|J>>>9))+((J=K+(ue^(ee|~pe))+re[0]+4096336452&4294967295)<<6&4294967295|J>>>26))+((J=pe+(ee^(K|~ue))+re[7]+1126891415&4294967295)<<10&4294967295|J>>>22))+((J=ue+(K^(pe|~ee))+re[14]+2878612391&4294967295)<<15&4294967295|J>>>17))+((J=ee+(pe^(ue|~K))+re[5]+4237533241&4294967295)<<21&4294967295|J>>>11))+((J=K+(ue^(ee|~pe))+re[12]+1700485571&4294967295)<<6&4294967295|J>>>26))+((J=pe+(ee^(K|~ue))+re[3]+2399980690&4294967295)<<10&4294967295|J>>>22))+((J=ue+(K^(pe|~ee))+re[10]+4293915773&4294967295)<<15&4294967295|J>>>17))+((J=ee+(pe^(ue|~K))+re[1]+2240044497&4294967295)<<21&4294967295|J>>>11))+((J=K+(ue^(ee|~pe))+re[8]+1873313359&4294967295)<<6&4294967295|J>>>26))+((J=pe+(ee^(K|~ue))+re[15]+4264355552&4294967295)<<10&4294967295|J>>>22))+((J=ue+(K^(pe|~ee))+re[6]+2734768916&4294967295)<<15&4294967295|J>>>17))+((J=ee+(pe^(ue|~K))+re[13]+1309151649&4294967295)<<21&4294967295|J>>>11))+((pe=(K=ee+((J=K+(ue^(ee|~pe))+re[4]+4149444226&4294967295)<<6&4294967295|J>>>26))+((J=pe+(ee^(K|~ue))+re[11]+3174756917&4294967295)<<10&4294967295|J>>>22))^((ue=pe+((J=ue+(K^(pe|~ee))+re[2]+718787259&4294967295)<<15&4294967295|J>>>17))|~K))+re[9]+3951481745&4294967295,ne.g[0]=ne.g[0]+K&4294967295,ne.g[1]=ne.g[1]+(ue+(J<<21&4294967295|J>>>11))&4294967295,ne.g[2]=ne.g[2]+ue&4294967295,ne.g[3]=ne.g[3]+pe&4294967295}function h(ne,K){this.h=K;for(var ee=[],re=!0,ue=ne.length-1;0<=ue;ue--){var pe=0|ne[ue];re&&pe==K||(ee[ue]=pe,re=!1)}this.g=ee}(function e(ne,K){function ee(){}ee.prototype=K.prototype,ne.D=K.prototype,ne.prototype=new ee,ne.prototype.constructor=ne,ne.C=function(re,ue,pe){for(var J=Array(arguments.length-2),Vo=2;Vo<arguments.length;Vo++)J[Vo-2]=arguments[Vo];return K.prototype[ue].apply(re,J)}})(i,function t(){this.blockSize=-1}),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},i.prototype.u=function(ne,K){void 0===K&&(K=ne.length);for(var ee=K-this.blockSize,re=this.B,ue=this.h,pe=0;pe<K;){if(0==ue)for(;pe<=ee;)u(this,ne,pe),pe+=this.blockSize;if("string"==typeof ne){for(;pe<K;)if(re[ue++]=ne.charCodeAt(pe++),ue==this.blockSize){u(this,re),ue=0;break}}else for(;pe<K;)if(re[ue++]=ne[pe++],ue==this.blockSize){u(this,re),ue=0;break}}this.h=ue,this.o+=K},i.prototype.v=function(){var ne=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);ne[0]=128;for(var K=1;K<ne.length-8;++K)ne[K]=0;var ee=8*this.o;for(K=ne.length-8;K<ne.length;++K)ne[K]=255&ee,ee/=256;for(this.u(ne),ne=Array(16),K=ee=0;4>K;++K)for(var re=0;32>re;re+=8)ne[ee++]=this.g[K]>>>re&255;return ne};var g={};function E(ne){return-128<=ne&&128>ne?function l(ne,K){var ee=g;return Object.prototype.hasOwnProperty.call(ee,ne)?ee[ne]:ee[ne]=K(ne)}(ne,function(K){return new h([0|K],0>K?-1:0)}):new h([0|ne],0>ne?-1:0)}function b(ne){if(isNaN(ne)||!isFinite(ne))return B;if(0>ne)return Ue(b(-ne));for(var K=[],ee=1,re=0;ne>=ee;re++)K[re]=ne/ee|0,ee*=4294967296;return new h(K,0)}var B=E(0),Y=E(1),ce=E(16777216);function Ne(ne){if(0!=ne.h)return!1;for(var K=0;K<ne.g.length;K++)if(0!=ne.g[K])return!1;return!0}function Ye(ne){return-1==ne.h}function Ue(ne){for(var K=ne.g.length,ee=[],re=0;re<K;re++)ee[re]=~ne.g[re];return new h(ee,~ne.h).add(Y)}function _t(ne,K){return ne.add(Ue(K))}function Pt(ne,K){for(;(65535&ne[K])!=ne[K];)ne[K+1]+=ne[K]>>>16,ne[K]&=65535,K++}function yt(ne,K){this.g=ne,this.h=K}function Qt(ne,K){if(Ne(K))throw Error("division by zero");if(Ne(ne))return new yt(B,B);if(Ye(ne))return K=Qt(Ue(ne),K),new yt(Ue(K.g),Ue(K.h));if(Ye(K))return K=Qt(ne,Ue(K)),new yt(Ue(K.g),K.h);if(30<ne.g.length){if(Ye(ne)||Ye(K))throw Error("slowDivide_ only works with positive integers.");for(var ee=Y,re=K;0>=re.l(ne);)ee=Ht(ee),re=Ht(re);var ue=Xt(ee,1),pe=Xt(re,1);for(re=Xt(re,2),ee=Xt(ee,2);!Ne(re);){var J=pe.add(re);0>=J.l(ne)&&(ue=ue.add(ee),pe=J),re=Xt(re,1),ee=Xt(ee,1)}return K=_t(ne,ue.j(K)),new yt(ue,K)}for(ue=B;0<=ne.l(K);){for(ee=Math.max(1,Math.floor(ne.m()/K.m())),re=48>=(re=Math.ceil(Math.log(ee)/Math.LN2))?1:Math.pow(2,re-48),J=(pe=b(ee)).j(K);Ye(J)||0<J.l(ne);)J=(pe=b(ee-=re)).j(K);Ne(pe)&&(pe=Y),ue=ue.add(pe),ne=_t(ne,J)}return new yt(ue,ne)}function Ht(ne){for(var K=ne.g.length+1,ee=[],re=0;re<K;re++)ee[re]=ne.i(re)<<1|ne.i(re-1)>>>31;return new h(ee,ne.h)}function Xt(ne,K){var ee=K>>5;K%=32;for(var re=ne.g.length-ee,ue=[],pe=0;pe<re;pe++)ue[pe]=0<K?ne.i(pe+ee)>>>K|ne.i(pe+ee+1)<<32-K:ne.i(pe+ee);return new h(ue,ne.h)}(s=h.prototype).m=function(){if(Ye(this))return-Ue(this).m();for(var ne=0,K=1,ee=0;ee<this.g.length;ee++){var re=this.i(ee);ne+=(0<=re?re:4294967296+re)*K,K*=4294967296}return ne},s.toString=function(ne){if(2>(ne=ne||10)||36<ne)throw Error("radix out of range: "+ne);if(Ne(this))return"0";if(Ye(this))return"-"+Ue(this).toString(ne);for(var K=b(Math.pow(ne,6)),ee=this,re="";;){var ue=Qt(ee,K).g,pe=((0<(ee=_t(ee,ue.j(K))).g.length?ee.g[0]:ee.h)>>>0).toString(ne);if(Ne(ee=ue))return pe+re;for(;6>pe.length;)pe="0"+pe;re=pe+re}},s.i=function(ne){return 0>ne?0:ne<this.g.length?this.g[ne]:this.h},s.l=function(ne){return Ye(ne=_t(this,ne))?-1:Ne(ne)?0:1},s.abs=function(){return Ye(this)?Ue(this):this},s.add=function(ne){for(var K=Math.max(this.g.length,ne.g.length),ee=[],re=0,ue=0;ue<=K;ue++){var pe=re+(65535&this.i(ue))+(65535&ne.i(ue)),J=(pe>>>16)+(this.i(ue)>>>16)+(ne.i(ue)>>>16);re=J>>>16,ee[ue]=(J&=65535)<<16|(pe&=65535)}return new h(ee,-2147483648&ee[ee.length-1]?-1:0)},s.j=function(ne){if(Ne(this)||Ne(ne))return B;if(Ye(this))return Ye(ne)?Ue(this).j(Ue(ne)):Ue(Ue(this).j(ne));if(Ye(ne))return Ue(this.j(Ue(ne)));if(0>this.l(ce)&&0>ne.l(ce))return b(this.m()*ne.m());for(var K=this.g.length+ne.g.length,ee=[],re=0;re<2*K;re++)ee[re]=0;for(re=0;re<this.g.length;re++)for(var ue=0;ue<ne.g.length;ue++){var pe=this.i(re)>>>16,J=65535&this.i(re),Vo=ne.i(ue)>>>16,_c=65535&ne.i(ue);ee[2*re+2*ue]+=J*_c,Pt(ee,2*re+2*ue),ee[2*re+2*ue+1]+=pe*_c,Pt(ee,2*re+2*ue+1),ee[2*re+2*ue+1]+=J*Vo,Pt(ee,2*re+2*ue+1),ee[2*re+2*ue+2]+=pe*Vo,Pt(ee,2*re+2*ue+2)}for(re=0;re<K;re++)ee[re]=ee[2*re+1]<<16|ee[2*re];for(re=K;re<2*K;re++)ee[re]=0;return new h(ee,0)},s.A=function(ne){return Qt(this,ne).h},s.and=function(ne){for(var K=Math.max(this.g.length,ne.g.length),ee=[],re=0;re<K;re++)ee[re]=this.i(re)&ne.i(re);return new h(ee,this.h&ne.h)},s.or=function(ne){for(var K=Math.max(this.g.length,ne.g.length),ee=[],re=0;re<K;re++)ee[re]=this.i(re)|ne.i(re);return new h(ee,this.h|ne.h)},s.xor=function(ne){for(var K=Math.max(this.g.length,ne.g.length),ee=[],re=0;re<K;re++)ee[re]=this.i(re)^ne.i(re);return new h(ee,this.h^ne.h)},i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,bf=iI.Md5=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=b,h.fromString=function x(ne,K){if(0==ne.length)throw Error("number format error: empty string");if(2>(K=K||10)||36<K)throw Error("radix out of range: "+K);if("-"==ne.charAt(0))return Ue(x(ne.substring(1),K));if(0<=ne.indexOf("-"))throw Error('number format error: interior "-" character');for(var ee=b(Math.pow(K,8)),re=B,ue=0;ue<ne.length;ue+=8){var pe=Math.min(8,ne.length-ue),J=parseInt(ne.substring(ue,ue+pe),K);8>pe?(pe=b(Math.pow(K,pe)),re=re.j(pe).add(b(J))):re=(re=re.j(ee)).add(b(J))}return re},Mu=iI.Integer=h}).apply(typeof Sm<"u"?Sm:typeof self<"u"?self:typeof window<"u"?window:{});var Kc,oI,Td,Rm,wd,Sf,xu,Dd,Pm,qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ws={};(function(){var s,e="function"==typeof Object.defineProperties?Object.defineProperty:function(f,D,P){return f==Array.prototype||f==Object.prototype||(f[D]=P.value),f},i=function t(f){f=["object"==typeof globalThis&&globalThis,f,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof qc&&qc];for(var D=0;D<f.length;++D){var P=f[D];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}(this);!function u(f,D){if(D)e:{var P=i;f=f.split(".");for(var j=0;j<f.length-1;j++){var he=f[j];if(!(he in P))break e;P=P[he]}(D=D(j=P[f=f[f.length-1]]))!=j&&null!=D&&e(P,f,{configurable:!0,writable:!0,value:D})}}("Array.prototype.values",function(f){return f||function(){return function l(f,D){f instanceof String&&(f+="");var P=0,j=!1,he={next:function(){if(!j&&P<f.length){var Ae=P++;return{value:D(Ae,f[Ae]),done:!1}}return j=!0,{done:!0,value:void 0}}};return he[Symbol.iterator]=function(){return he},he}(this,function(D,P){return P})}});var h=h||{},g=this||self;function E(f){var D=typeof f;return"array"==(D="object"!=D?D:f?Array.isArray(f)?"array":D:"null")||"object"==D&&"number"==typeof f.length}function b(f){var D=typeof f;return"object"==D&&null!=f||"function"==D}function x(f,D,P){return f.call.apply(f.bind,arguments)}function B(f,D,P){if(!f)throw Error();if(2<arguments.length){var j=Array.prototype.slice.call(arguments,2);return function(){var he=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(he,j),f.apply(D,he)}}return function(){return f.apply(D,arguments)}}function Y(f,D,P){return(Y=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?x:B).apply(null,arguments)}function ce(f,D){var P=Array.prototype.slice.call(arguments,1);return function(){var j=P.slice();return j.push.apply(j,arguments),f.apply(this,j)}}function Ne(f,D){function P(){}P.prototype=D.prototype,f.aa=D.prototype,f.prototype=new P,f.prototype.constructor=f,f.Qb=function(j,he,Ae){for(var ct=Array(arguments.length-2),cr=2;cr<arguments.length;cr++)ct[cr-2]=arguments[cr];return D.prototype[he].apply(j,ct)}}function Ye(f){const D=f.length;if(0<D){const P=Array(D);for(let j=0;j<D;j++)P[j]=f[j];return P}return[]}function Ue(f,D){for(let P=1;P<arguments.length;P++){const j=arguments[P];if(E(j)){const he=f.length||0,Ae=j.length||0;f.length=he+Ae;for(let ct=0;ct<Ae;ct++)f[he+ct]=j[ct]}else f.push(j)}}function Pt(f){return/^[\s\xa0]*$/.test(f)}function yt(){var f=g.navigator;return f&&(f=f.userAgent)?f:""}function Qt(f){return Qt[" "](f),f}Qt[" "]=function(){};var Ht=!(-1==yt().indexOf("Gecko")||-1!=yt().toLowerCase().indexOf("webkit")&&-1==yt().indexOf("Edge")||-1!=yt().indexOf("Trident")||-1!=yt().indexOf("MSIE")||-1!=yt().indexOf("Edge"));function Xt(f,D,P){for(const j in f)D.call(P,f[j],j,f)}function K(f){const D={};for(const P in f)D[P]=f[P];return D}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(f,D){let P,j;for(let he=1;he<arguments.length;he++){for(P in j=arguments[he],j)f[P]=j[P];for(let Ae=0;Ae<ee.length;Ae++)P=ee[Ae],Object.prototype.hasOwnProperty.call(j,P)&&(f[P]=j[P])}}function ue(f){var D=1;f=f.split(":");const P=[];for(;0<D&&f.length;)P.push(f.shift()),D--;return f.length&&P.push(f.join(":")),P}function pe(f){g.setTimeout(()=>{throw f},0)}function J(){var f=rv;let D=null;return f.g&&(D=f.g,f.g=f.g.next,f.g||(f.h=null),D.next=null),D}var _c=new class _t{constructor(D,P){this.i=D,this.j=P,this.h=0,this.g=null}get(){let D;return 0<this.h?(this.h--,D=this.g,this.g=D.next,D.next=null):D=this.i(),D}}(()=>new mA,f=>f.reset());class mA{constructor(){this.next=this.g=this.h=null}set(D,P){this.h=D,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let Ng,Ul=!1,rv=new class Vo{constructor(){this.h=this.g=null}add(D,P){const j=_c.get();j.set(D,P),this.h?this.h.next=j:this.g=j,this.h=j}},XT=()=>{const f=g.Promise.resolve(void 0);Ng=()=>{f.then(_A)}};var _A=()=>{for(var f;f=J();){try{f.h.call(f.g)}catch(P){pe(P)}var D=_c;D.j(f),100>D.h&&(D.h++,f.next=D.g,D.g=f)}Ul=!1};function au(){this.s=this.s,this.C=this.C}function ei(f,D){this.type=f,this.g=this.target=D,this.defaultPrevented=!1}au.prototype.s=!1,au.prototype.ma=function(){this.s||(this.s=!0,this.N())},au.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},ei.prototype.h=function(){this.defaultPrevented=!0};var rS=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var f=!1,D=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const P=()=>{};g.addEventListener("test",P,D),g.removeEventListener("test",P,D)}catch{}return f}();function Bl(f,D){if(ei.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var P=this.type=f.type,j=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=D,D=f.relatedTarget){if(Ht){e:{try{Qt(D.nodeName);var he=!0;break e}catch{}he=!1}he||(D=null)}}else"mouseover"==P?D=f.fromElement:"mouseout"==P&&(D=f.toElement);this.relatedTarget=D,j?(this.clientX=void 0!==j.clientX?j.clientX:j.pageX,this.clientY=void 0!==j.clientY?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=void 0!==f.clientX?f.clientX:f.pageX,this.clientY=void 0!==f.clientY?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType="string"==typeof f.pointerType?f.pointerType:yA[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Bl.aa.h.call(this)}}Ne(Bl,ei);var yA={2:"touch",3:"pen",4:"mouse"};Bl.prototype.h=function(){Bl.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var jl="closure_listenable_"+(1e6*Math.random()|0),iS=0;function iv(f,D,P,j,he){this.listener=f,this.proxy=null,this.src=D,this.type=P,this.capture=!!j,this.ha=he,this.key=++iS,this.da=this.fa=!1}function bh(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Sh(f){this.src=f,this.g={},this.h=0}function ov(f,D){var P=D.type;if(P in f.g){var Ae,j=f.g[P],he=Array.prototype.indexOf.call(j,D,void 0);(Ae=0<=he)&&Array.prototype.splice.call(j,he,1),Ae&&(bh(D),0==f.g[P].length&&(delete f.g[P],f.h--))}}function Og(f,D,P,j){for(var he=0;he<f.length;++he){var Ae=f[he];if(!Ae.da&&Ae.listener==D&&Ae.capture==!!P&&Ae.ha==j)return he}return-1}Sh.prototype.add=function(f,D,P,j,he){var Ae=f.toString();(f=this.g[Ae])||(f=this.g[Ae]=[],this.h++);var ct=Og(f,D,j,he);return-1<ct?(D=f[ct],P||(D.fa=!1)):((D=new iv(D,this.src,Ae,!!j,he)).fa=P,f.push(D)),D};var kg="closure_lm_"+(1e6*Math.random()|0),uu={};function Rh(f,D,P,j,he){if(j&&j.once)return tw(f,D,P,j,he);if(Array.isArray(D)){for(var Ae=0;Ae<D.length;Ae++)Rh(f,D[Ae],P,j,he);return null}return P=sw(P),f&&f[jl]?f.K(D,P,b(j)?!!j.capture:!!j,he):sv(f,D,P,!1,j,he)}function sv(f,D,P,j,he,Ae){if(!D)throw Error("Invalid event type");var ct=b(he)?!!he.capture:!!he,cr=iw(f);if(cr||(f[kg]=cr=new Sh(f)),(P=cr.add(D,P,j,ct,Ae)).proxy)return P;if(j=function ew(){const D=vA;return function f(P){return D.call(f.src,f.listener,P)}}(),P.proxy=j,j.src=f,j.listener=P,f.addEventListener)rS||(he=ct),void 0===he&&(he=!1),f.addEventListener(D.toString(),j,he);else if(f.attachEvent)f.attachEvent(av(D.toString()),j);else{if(!f.addListener||!f.removeListener)throw Error("addEventListener and attachEvent are unavailable.");f.addListener(j)}return P}function tw(f,D,P,j,he){if(Array.isArray(D)){for(var Ae=0;Ae<D.length;Ae++)tw(f,D[Ae],P,j,he);return null}return P=sw(P),f&&f[jl]?f.L(D,P,b(j)?!!j.capture:!!j,he):sv(f,D,P,!0,j,he)}function nw(f,D,P,j,he){if(Array.isArray(D))for(var Ae=0;Ae<D.length;Ae++)nw(f,D[Ae],P,j,he);else j=b(j)?!!j.capture:!!j,P=sw(P),f&&f[jl]?(f=f.i,(D=String(D).toString())in f.g&&-1<(P=Og(Ae=f.g[D],P,j,he))&&(bh(Ae[P]),Array.prototype.splice.call(Ae,P,1),0==Ae.length&&(delete f.g[D],f.h--))):f&&(f=iw(f))&&(D=f.g[D.toString()],f=-1,D&&(f=Og(D,P,j,he)),(P=-1<f?D[f]:null)&&rw(P))}function rw(f){if("number"!=typeof f&&f&&!f.da){var D=f.src;if(D&&D[jl])ov(D.i,f);else{var P=f.type,j=f.proxy;D.removeEventListener?D.removeEventListener(P,j,f.capture):D.detachEvent?D.detachEvent(av(P),j):D.addListener&&D.removeListener&&D.removeListener(j),(P=iw(D))?(ov(P,f),0==P.h&&(P.src=null,D[kg]=null)):bh(f)}}}function av(f){return f in uu?uu[f]:uu[f]="on"+f}function vA(f,D){if(f.da)f=!0;else{D=new Bl(D,this);var P=f.listener,j=f.ha||f.src;f.fa&&rw(f),f=P.call(j,D)}return f}function iw(f){return(f=f[kg])instanceof Sh?f:null}var ow="__closure_events_fn_"+(1e9*Math.random()>>>0);function sw(f){return"function"==typeof f?f:(f[ow]||(f[ow]=function(D){return f.handleEvent(D)}),f[ow])}function bi(){au.call(this),this.i=new Sh(this),this.M=this,this.F=null}function fi(f,D){var P,j=f.F;if(j)for(P=[];j;j=j.F)P.push(j);if(f=f.M,j=D.type||D,"string"==typeof D)D=new ei(D,f);else if(D instanceof ei)D.target=D.target||f;else{var he=D;re(D=new ei(j,f),he)}if(he=!0,P)for(var Ae=P.length-1;0<=Ae;Ae--){var ct=D.g=P[Ae];he=Fg(ct,j,!0,D)&&he}if(he=Fg(ct=D.g=f,j,!0,D)&&he,he=Fg(ct,j,!1,D)&&he,P)for(Ae=0;Ae<P.length;Ae++)he=Fg(ct=D.g=P[Ae],j,!1,D)&&he}function Fg(f,D,P,j){if(!(D=f.i.g[String(D)]))return!0;D=D.concat();for(var he=!0,Ae=0;Ae<D.length;++Ae){var ct=D[Ae];if(ct&&!ct.da&&ct.capture==P){var cr=ct.listener,Si=ct.ha||ct.src;ct.fa&&ov(f.i,ct),he=!1!==cr.call(Si,j)&&he}}return he&&!j.defaultPrevented}function aw(f,D,P){if("function"==typeof f)P&&(f=Y(f,P));else{if(!f||"function"!=typeof f.handleEvent)throw Error("Invalid listener argument");f=Y(f.handleEvent,f)}return 2147483647<Number(D)?-1:g.setTimeout(f,D||0)}function uw(f){f.g=aw(()=>{f.g=null,f.i&&(f.i=!1,uw(f))},f.l);const D=f.h;f.h=null,f.m.apply(null,D)}Ne(bi,au),bi.prototype[jl]=!0,bi.prototype.removeEventListener=function(f,D,P,j){nw(this,f,D,P,j)},bi.prototype.N=function(){if(bi.aa.N.call(this),this.i){var D,f=this.i;for(D in f.g){for(var P=f.g[D],j=0;j<P.length;j++)bh(P[j]);delete f.g[D],f.h--}}this.F=null},bi.prototype.K=function(f,D,P,j){return this.i.add(String(f),D,!1,P,j)},bi.prototype.L=function(f,D,P,j){return this.i.add(String(f),D,!0,P,j)};class oS extends au{constructor(D,P){super(),this.m=D,this.l=P,this.h=null,this.i=!1,this.g=null}j(D){this.h=arguments,this.g?this.i=!0:uw(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lg(f){au.call(this),this.h=f,this.g={}}Ne(Lg,au);var IA=[];function EA(f){Xt(f.g,function(D,P){this.g.hasOwnProperty(P)&&rw(D)},f),f.g={}}Lg.prototype.N=function(){Lg.aa.N.call(this),EA(this)},Lg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cw=g.JSON.stringify,TA=g.JSON.parse,Vg=class{stringify(f){return g.JSON.stringify(f,void 0)}parse(f){return g.JSON.parse(f,void 0)}};function uv(){}function cv(){}uv.prototype.h=null;var Uo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ug(){ei.call(this,"d")}function Ph(){ei.call(this,"c")}Ne(Ug,ei),Ne(Ph,ei);var ca={},dw=null;function $l(){return dw=dw||new bi}function Bg(f){ei.call(this,ca.La,f)}function cu(f){const D=$l();fi(D,new Bg(D))}function wA(f,D){ei.call(this,ca.STAT_EVENT,f),this.stat=D}function $i(f){const D=$l();fi(D,new wA(D,f))}function DA(f,D){ei.call(this,ca.Ma,f),this.size=D}function Hl(f,D){if("function"!=typeof f)throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){f()},D)}function Mh(){this.g=!0}function Gl(f,D,P,j){f.info(function(){return"XMLHTTP TEXT ("+D+"): "+function fw(f,D){if(!f.g)return D;if(!D)return null;try{var P=JSON.parse(D);if(P)for(f=0;f<P.length;f++)if(Array.isArray(P[f])){var j=P[f];if(!(2>j.length)){var he=j[1];if(Array.isArray(he)&&!(1>he.length)){var Ae=he[0];if("noop"!=Ae&&"stop"!=Ae&&"close"!=Ae)for(var ct=1;ct<he.length;ct++)he[ct]=""}}}return cw(P)}catch{return D}}(f,P)+(j?" "+j:"")})}ca.La="serverreachability",Ne(Bg,ei),ca.STAT_EVENT="statevent",Ne(wA,ei),ca.Ma="timingevent",Ne(DA,ei),Mh.prototype.xa=function(){this.g=!1},Mh.prototype.info=function(){};var lv,xh={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},pw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Nh(){}function As(f,D,P,j){this.j=f,this.i=D,this.l=P,this.R=j||1,this.U=new Lg(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new bA}function bA(){this.i=null,this.g="",this.h=!1}Ne(Nh,uv),Nh.prototype.g=function(){return new XMLHttpRequest},Nh.prototype.i=function(){return{}},lv=new Nh;var dv={},Oh={};function hv(f,D,P){f.L=1,f.v=Iv(hu(D)),f.m=P,f.P=!0,gw(f,null)}function gw(f,D){f.F=Date.now(),jg(f),f.A=hu(f.v);var P=f.A,j=f.R;Array.isArray(j)||(j=[String(j)]),FA(P.i,"t",j),f.C=0,P=f.j.J,f.h=new bA,f.g=IS(f.j,P?D:null,!f.m),0<f.O&&(f.M=new oS(Y(f.Y,f,f.g),f.O)),D=f.U,P=f.g,j=f.ca;var he="readystatechange";Array.isArray(he)||(he&&(IA[0]=he.toString()),he=IA);for(var Ae=0;Ae<he.length;Ae++){var ct=Rh(P,he[Ae],j||D.handleEvent,!1,D.h||D);if(!ct)break;D.g[ct.key]=ct}D=f.H?K(f.H):{},f.m?(f.u||(f.u="POST"),D["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,D)):(f.u="GET",f.g.ea(f.A,f.u,null,D)),cu(),function AA(f,D,P,j,he,Ae){f.info(function(){if(f.g)if(Ae)for(var ct="",cr=Ae.split("&"),Si=0;Si<cr.length;Si++){var Un=cr[Si].split("=");if(1<Un.length){var Gi=Un[0];Un=Un[1];var zi=Gi.split("_");ct=2<=zi.length&&"type"==zi[1]?ct+(Gi+"=")+Un+"&":ct+(Gi+"=redacted&")}}else ct=null;else ct=Ae;return"XMLHTTP REQ ("+j+") [attempt "+he+"]: "+D+"\n"+P+"\n"+ct})}(f.i,f.u,f.A,f.l,f.R,f.m)}function SA(f){return!!f.g&&"GET"==f.u&&2!=f.L&&f.j.Ca}function sS(f,D){var P=f.C,j=D.indexOf("\n",P);return-1==j?Oh:(P=Number(D.substring(P,j)),isNaN(P)?dv:(j+=1)+P>D.length?Oh:(D=D.slice(j,j+P),f.C=j+P,D))}function jg(f){f.S=Date.now()+f.I,mw(f,f.I)}function mw(f,D){if(null!=f.B)throw Error("WatchDog timer not null");f.B=Hl(Y(f.ba,f),D)}function fv(f){f.B&&(g.clearTimeout(f.B),f.B=null)}function kh(f){0==f.j.G||f.J||mS(f.j,f)}function lu(f){fv(f);var D=f.M;D&&"function"==typeof D.ma&&D.ma(),f.M=null,EA(f.U),f.g&&(D=f.g,f.g=null,D.abort(),D.ma())}function $g(f,D){try{var P=f.j;if(0!=P.G&&(P.g==f||mv(P.h,f)))if(!f.K&&mv(P.h,f)&&3==P.G){try{var j=P.Da.g.parse(D)}catch{j=null}if(Array.isArray(j)&&3==j.length){var he=j;if(0==he[0]){e:if(!P.u){if(P.g){if(!(P.g.F+3e3<f.F))break e;ww(P),Wg(P)}LA(P),$i(18)}}else P.za=he[1],0<P.za-P.T&&37500>he[2]&&P.F&&0==P.v&&!P.C&&(P.C=Hl(Y(P.Za,P),6e3));if(1>=PA(P.h)&&P.ca){try{P.ca()}catch{}P.ca=void 0}}else Bh(P,11)}else if((f.K||P.g==f)&&ww(P),!Pt(D))for(he=P.Da.g.parse(D),D=0;D<he.length;D++){let Un=he[D];if(P.T=Un[0],Un=Un[1],2==P.G)if("c"==Un[0]){P.K=Un[1],P.ia=Un[2];const Gi=Un[3];null!=Gi&&(P.la=Gi,P.j.info("VER="+P.la));const zi=Un[4];null!=zi&&(P.Aa=zi,P.j.info("SVER="+P.Aa));const Kg=Un[5];null!=Kg&&"number"==typeof Kg&&0<Kg&&(P.L=j=1.5*Kg,P.j.info("backChannelRequestTimeoutMs_="+j)),j=P;const la=f.g;if(la){const Aw=la.g?la.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Aw){var Ae=j.h;Ae.g||-1==Aw.indexOf("spdy")&&-1==Aw.indexOf("quic")&&-1==Aw.indexOf("h2")||(Ae.j=Ae.l,Ae.g=new Set,Ae.h&&(Fh(Ae,Ae.h),Ae.h=null))}if(j.D){const UA=la.g?la.g.getResponseHeader("X-HTTP-Session-Id"):null;UA&&(j.ya=UA,fr(j.I,j.D,UA))}}P.G=3,P.l&&P.l.ua(),P.ba&&(P.R=Date.now()-f.F,P.j.info("Handshake RTT: "+P.R+"ms"));var ct=f;if((j=P).qa=vS(j,j.J?j.ia:null,j.W),ct.K){_v(j.h,ct);var cr=ct,Si=j.L;Si&&(cr.I=Si),cr.B&&(fv(cr),jg(cr)),j.g=ct}else pS(j);0<P.i.length&&Tw(P)}else"stop"!=Un[0]&&"close"!=Un[0]||Bh(P,7);else 3==P.G&&("stop"==Un[0]||"close"==Un[0]?"stop"==Un[0]?Bh(P,7):Uh(P):"noop"!=Un[0]&&P.l&&P.l.ta(Un),P.v=0)}cu()}catch{}}function pv(f){this.l=f||10,f=g.PerformanceNavigationTiming?0<(f=g.performance.getEntriesByType("navigation")).length&&("hq"==f[0].nextHopProtocol||"h2"==f[0].nextHopProtocol):!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function gv(f){return!!f.h||!!f.g&&f.g.size>=f.j}function PA(f){return f.h?1:f.g?f.g.size:0}function mv(f,D){return f.h?f.h==D:!!f.g&&f.g.has(D)}function Fh(f,D){f.g?f.g.add(D):f.h=D}function _v(f,D){f.h&&f.h==D?f.h=null:f.g&&f.g.has(D)&&f.g.delete(D)}function yv(f){if(null!=f.h)return f.i.concat(f.h.D);if(null!=f.g&&0!==f.g.size){let D=f.i;for(const P of f.g.values())D=D.concat(P.D);return D}return Ye(f.i)}function _w(f,D){if(f.forEach&&"function"==typeof f.forEach)f.forEach(D,void 0);else if(E(f)||"string"==typeof f)Array.prototype.forEach.call(f,D,void 0);else for(var P=function Hg(f){if(f.na&&"function"==typeof f.na)return f.na();if(!f.V||"function"!=typeof f.V){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(E(f)||"string"==typeof f){var D=[];f=f.length;for(var P=0;P<f;P++)D.push(P);return D}D=[],P=0;for(const j in f)D[P++]=j;return D}}}(f),j=function MA(f){if(f.V&&"function"==typeof f.V)return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if("string"==typeof f)return f.split("");if(E(f)){for(var D=[],P=f.length,j=0;j<P;j++)D.push(f[j]);return D}for(j in D=[],P=0,f)D[P++]=f[j];return D}(f),he=j.length,Ae=0;Ae<he;Ae++)D.call(void 0,j[Ae],P&&P[Ae],f)}As.prototype.ca=function(f){f=f.target;const D=this.M;D&&3==zt(f)?D.j():this.Y(f)},As.prototype.Y=function(f){try{if(f==this.g)e:{const zi=zt(this.g);var D=this.g.Ba();if(this.g.Z(),!(3>zi)&&(3!=zi||this.g&&(this.h.h||this.g.oa()||Vn(this.g)))){this.J||4!=zi||7==D||cu(),fv(this);var P=this.g.Z();this.X=P;t:if(SA(this)){var j=Vn(this.g);f="";var he=j.length,Ae=4==zt(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){lu(this),kh(this);var ct="";break t}this.h.i=new g.TextDecoder}for(D=0;D<he;D++)this.h.h=!0,f+=this.h.i.decode(j[D],{stream:!(Ae&&D==he-1)});j.length=0,this.h.g+=f,this.C=0,ct=this.h.g}else ct=this.g.oa();if(this.o=200==P,function CA(f,D,P,j,he,Ae,ct){f.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+he+"]: "+D+"\n"+P+"\n"+Ae+" "+ct})}(this.i,this.u,this.A,this.l,this.R,zi,P),this.o){if(this.T&&!this.K){t:{if(this.g){var cr,Si=this.g;if((cr=Si.g?Si.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Pt(cr)){var Un=cr;break t}}Un=null}if(!(P=Un)){this.o=!1,this.s=3,$i(12),lu(this),kh(this);break e}Gl(this.i,this.l,P,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$g(this,P)}if(this.P){let la;for(P=!0;!this.J&&this.C<ct.length;){if(la=sS(this,ct),la==Oh){4==zi&&(this.s=4,$i(14),P=!1),Gl(this.i,this.l,null,"[Incomplete Response]");break}if(la==dv){this.s=4,$i(15),Gl(this.i,this.l,ct,"[Invalid Chunk]"),P=!1;break}Gl(this.i,this.l,la,null),$g(this,la)}if(SA(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=zi||0!=ct.length||this.h.h||(this.s=1,$i(16),P=!1),this.o=this.o&&P,P){if(0<ct.length&&!this.W){this.W=!0;var Gi=this.j;Gi.g==this&&Gi.ba&&!Gi.M&&(Gi.j.info("Great, no buffering proxy detected. Bytes received: "+ct.length),VA(Gi),Gi.M=!0,$i(11))}}else Gl(this.i,this.l,ct,"[Invalid Chunked Response]"),lu(this),kh(this)}else Gl(this.i,this.l,ct,null),$g(this,ct);4==zi&&lu(this),this.o&&!this.J&&(4==zi?mS(this.j,this):(this.o=!1,jg(this)))}else(function Hi(f){const D={};f=(f.g&&2<=zt(f)&&f.g.getAllResponseHeaders()||"").split("\r\n");for(let j=0;j<f.length;j++){if(Pt(f[j]))continue;var P=ue(f[j]);const he=P[0];if("string"!=typeof(P=P[1]))continue;P=P.trim();const Ae=D[he]||[];D[he]=Ae,Ae.push(P)}!function ne(f,D){for(const P in f)D.call(void 0,f[P],P,f)}(D,function(j){return j.join(", ")})})(this.g),400==P&&0<ct.indexOf("Unknown SID")?(this.s=3,$i(12)):(this.s=0,$i(13)),lu(this),kh(this)}}}catch{}},As.prototype.cancel=function(){this.J=!0,lu(this)},As.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(function hw(f,D){f.info(function(){return"TIMEOUT: "+D})}(this.i,this.A),2!=this.L&&(cu(),$i(17)),lu(this),this.s=2,kh(this)):mw(this,this.S-f)},pv.prototype.cancel=function(){if(this.i=yv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const f of this.g.values())f.cancel();this.g.clear()}};var yw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function du(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof du){this.h=f.h,Gg(this,f.j),this.o=f.o,this.g=f.g,vv(this,f.s),this.l=f.l;var D=f.i,P=new zg;P.i=D.i,D.g&&(P.g=new Map(D.g),P.h=D.h),Iw(this,P),this.m=f.m}else f&&(D=String(f).match(yw))?(this.h=!1,Gg(this,D[1]||"",!0),this.o=Lh(D[2]||""),this.g=Lh(D[3]||"",!0),vv(this,D[4]),this.l=Lh(D[5]||"",!0),Iw(this,D[6]||"",!0),this.m=Lh(D[7]||"")):(this.h=!1,this.i=new zg(null,this.h))}function hu(f){return new du(f)}function Gg(f,D,P){f.j=P?Lh(D,!0):D,f.j&&(f.j=f.j.replace(/:$/,""))}function vv(f,D){if(D){if(D=Number(D),isNaN(D)||0>D)throw Error("Bad port number "+D);f.s=D}else f.s=null}function Iw(f,D,P){D instanceof zg?(f.i=D,function dS(f,D){D&&!f.j&&(yc(f),f.i=null,f.g.forEach(function(P,j){var he=j.toLowerCase();j!=he&&(OA(this,j),FA(this,he,P))},f)),f.j=D}(f.i,f.h)):(P||(D=Vh(D,lS)),f.i=new zg(D,f.h))}function fr(f,D,P){f.i.set(D,P)}function Iv(f){return fr(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Lh(f,D){return f?D?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Vh(f,D,P){return"string"==typeof f?(f=encodeURI(f).replace(D,aS),P&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function aS(f){return"%"+((f=f.charCodeAt(0))>>4&15).toString(16)+(15&f).toString(16)}du.prototype.toString=function(){var f=[],D=this.j;D&&f.push(Vh(D,xA,!0),":");var P=this.g;return(P||"file"==D)&&(f.push("//"),(D=this.o)&&f.push(Vh(D,xA,!0),"@"),f.push(encodeURIComponent(String(P)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(P=this.s)&&f.push(":",String(P))),(P=this.l)&&(this.g&&"/"!=P.charAt(0)&&f.push("/"),f.push(Vh(P,"/"==P.charAt(0)?cS:uS,!0))),(P=this.i.toString())&&f.push("?",P),(P=this.m)&&f.push("#",Vh(P,NA)),f.join("")};var f,xA=/[#\/\?@]/g,uS=/[#\?:]/g,cS=/[#\?]/g,lS=/[#\?@]/g,NA=/#/g;function zg(f,D){this.h=this.g=null,this.i=f||null,this.j=!!D}function yc(f){f.g||(f.g=new Map,f.h=0,f.i&&function vw(f,D){if(f){f=f.split("&");for(var P=0;P<f.length;P++){var j=f[P].indexOf("="),he=null;if(0<=j){var Ae=f[P].substring(0,j);he=f[P].substring(j+1)}else Ae=f[P];D(Ae,he?decodeURIComponent(he.replace(/\+/g," ")):"")}}}(f.i,function(D,P){f.add(decodeURIComponent(D.replace(/\+/g," ")),P)}))}function OA(f,D){yc(f),D=zl(f,D),f.g.has(D)&&(f.i=null,f.h-=f.g.get(D).length,f.g.delete(D))}function kA(f,D){return yc(f),D=zl(f,D),f.g.has(D)}function FA(f,D,P){OA(f,D),0<P.length&&(f.i=null,f.g.set(zl(f,D),Ye(P)),f.h+=P.length)}function zl(f,D){return D=String(D),f.j&&(D=D.toLowerCase()),D}function o(f,D,P,j,he){try{he&&(he.onload=null,he.onerror=null,he.onabort=null,he.ontimeout=null),j(P)}catch{}}function a(){this.g=new Vg}function c(f,D,P){const j=P||"";try{_w(f,function(he,Ae){let ct=he;b(he)&&(ct=cw(he)),D.push(j+Ae+"="+encodeURIComponent(ct))})}catch(he){throw D.push(j+"type="+encodeURIComponent("_badmap")),he}}function d(f){this.l=f.Ub||null,this.j=f.eb||!1}function p(f,D){bi.call(this),this.D=f,this.o=D,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function y(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}function T(f){f.readyState=4,f.l=null,f.j=null,f.v=null,R(f)}function R(f){f.onreadystatechange&&f.onreadystatechange.call(f)}function O(f){let D="";return Xt(f,function(P,j){D+=j,D+=":",D+=P,D+="\r\n"}),D}function $(f,D,P){e:{for(j in P){var j=!1;break e}j=!0}j||(P=O(P),"string"==typeof f?null!=P&&encodeURIComponent(String(P)):fr(f,D,P))}function Z(f){bi.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(s=zg.prototype).add=function(f,D){yc(this),this.i=null,f=zl(this,f);var P=this.g.get(f);return P||this.g.set(f,P=[]),P.push(D),this.h+=1,this},s.forEach=function(f,D){yc(this),this.g.forEach(function(P,j){P.forEach(function(he){f.call(D,he,j,this)},this)},this)},s.na=function(){yc(this);const f=Array.from(this.g.values()),D=Array.from(this.g.keys()),P=[];for(let j=0;j<D.length;j++){const he=f[j];for(let Ae=0;Ae<he.length;Ae++)P.push(D[j])}return P},s.V=function(f){yc(this);let D=[];if("string"==typeof f)kA(this,f)&&(D=D.concat(this.g.get(zl(this,f))));else{f=Array.from(this.g.values());for(let P=0;P<f.length;P++)D=D.concat(f[P])}return D},s.set=function(f,D){return yc(this),this.i=null,kA(this,f=zl(this,f))&&(this.h-=this.g.get(f).length),this.g.set(f,[D]),this.h+=1,this},s.get=function(f,D){return f&&0<(f=this.V(f)).length?String(f[0]):D},s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],D=Array.from(this.g.keys());for(var P=0;P<D.length;P++){var j=D[P];const Ae=encodeURIComponent(String(j)),ct=this.V(j);for(j=0;j<ct.length;j++){var he=Ae;""!==ct[j]&&(he+="="+encodeURIComponent(String(ct[j]))),f.push(he)}}return this.i=f.join("&")},Ne(d,uv),d.prototype.g=function(){return new p(this.l,this.j)},d.prototype.i=(f={},function(){return f}),Ne(p,bi),(s=p.prototype).open=function(f,D){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=D,this.readyState=1,R(this)},s.send=function(f){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const D={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(D.body=f),(this.D||g).fetch(new Request(this.A,D)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,T(this)),this.readyState=0},s.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,R(this)),this.g&&(this.readyState=3,R(this),this.g)))if("arraybuffer"===this.responseType)f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;y(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))},s.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var D=f.value?f.value:new Uint8Array(0);(D=this.v.decode(D,{stream:!f.done}))&&(this.response=this.responseText+=D)}f.done?T(this):R(this),3==this.readyState&&y(this)}},s.Ra=function(f){this.g&&(this.response=this.responseText=f,T(this))},s.Qa=function(f){this.g&&(this.response=f,T(this))},s.ga=function(){this.g&&T(this)},s.setRequestHeader=function(f,D){this.u.append(f,D)},s.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],D=this.h.entries();for(var P=D.next();!P.done;)f.push((P=P.value)[0]+": "+P[1]),P=D.next();return f.join("\r\n")},Object.defineProperty(p.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(f){this.m=f?"include":"same-origin"}}),Ne(Z,bi);var oe=/^https?$/i,xe=["POST","PUT"];function He(f,D){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=D,f.m=5,ot(f),Fe(f)}function ot(f){f.A||(f.A=!0,fi(f,"complete"),fi(f,"error"))}function It(f){if(f.h&&typeof h<"u"&&(!f.v[1]||4!=zt(f)||2!=f.Z()))if(f.u&&4==zt(f))aw(f.Ea,0,f);else if(fi(f,"readystatechange"),4==zt(f)){f.h=!1;try{const ct=f.Z();e:switch(ct){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var D=!0;break e;default:D=!1}var P;if(!(P=D)){var j;if(j=0===ct){var he=String(f.D).match(yw)[1]||null;!he&&g.self&&g.self.location&&(he=g.self.location.protocol.slice(0,-1)),j=!oe.test(he?he.toLowerCase():"")}P=j}if(P)fi(f,"complete"),fi(f,"success");else{f.m=6;try{var Ae=2<zt(f)?f.g.statusText:""}catch{Ae=""}f.l=Ae+" ["+f.Z()+"]",ot(f)}}finally{Fe(f)}}}function Fe(f,D){if(f.g){Gt(f);const P=f.g,j=f.v[0]?()=>{}:null;f.g=null,f.v=null,D||fi(f,"ready");try{P.onreadystatechange=j}catch{}}}function Gt(f){f.I&&(g.clearTimeout(f.I),f.I=null)}function zt(f){return f.g?f.g.readyState:0}function Vn(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function ao(f,D,P){return P&&P.internalChannelParams&&P.internalChannelParams[f]||D}function vc(f){this.Aa=0,this.i=[],this.j=new Mh,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ao("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ao("baseRetryDelayMs",5e3,f),this.cb=ao("retryDelaySeedMs",1e4,f),this.Wa=ao("forwardChannelMaxRetries",2,f),this.wa=ao("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new pv(f&&f.concurrentRequestLimit),this.Da=new a,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Uh(f){if(Ew(f),3==f.G){var D=f.U++,P=hu(f.I);if(fr(P,"SID",f.K),fr(P,"RID",D),fr(P,"TYPE","terminate"),Ev(f,P),(D=new As(f,f.j,D)).L=2,D.v=Iv(hu(P)),P=!1,g.navigator&&g.navigator.sendBeacon)try{P=g.navigator.sendBeacon(D.v.toString(),"")}catch{}!P&&g.Image&&((new Image).src=D.v,P=!0),P||(D.g=IS(D.j,null),D.g.ea(D.v)),D.F=Date.now(),jg(D)}yS(f)}function Wg(f){f.g&&(VA(f),f.g.cancel(),f.g=null)}function Ew(f){Wg(f),f.u&&(g.clearTimeout(f.u),f.u=null),ww(f),f.h.cancel(),f.s&&("number"==typeof f.s&&g.clearTimeout(f.s),f.s=null)}function Tw(f){if(!gv(f.h)&&!f.s){f.s=!0;var D=f.Ga;Ng||XT(),Ul||(Ng(),Ul=!0),rv.add(D,f),f.B=0}}function hS(f,D){var P;P=D?D.l:f.U++;const j=hu(f.I);fr(j,"SID",f.K),fr(j,"RID",P),fr(j,"AID",f.T),Ev(f,j),f.m&&f.o&&$(j,f.m,f.o),P=new As(f,f.j,P,f.B+1),null===f.m&&(P.H=f.o),D&&(f.i=D.D.concat(f.i)),D=fS(f,P,1e3),P.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Fh(f.h,P),hv(P,j,D)}function Ev(f,D){f.H&&Xt(f.H,function(P,j){fr(D,j,P)}),f.l&&_w({},function(P,j){fr(D,j,P)})}function fS(f,D,P){P=Math.min(f.i.length,P);var j=f.l?Y(f.l.Na,f.l,f):null;e:{var he=f.i;let Ae=-1;for(;;){const ct=["count="+P];-1==Ae?0<P?(Ae=he[0].g,ct.push("ofs="+Ae)):Ae=0:ct.push("ofs="+Ae);let cr=!0;for(let Si=0;Si<P;Si++){let Un=he[Si].g;const Gi=he[Si].map;if(Un-=Ae,0>Un)Ae=Math.max(0,he[Si].g-100),cr=!1;else try{c(Gi,ct,"req"+Un+"_")}catch{j&&j(Gi)}}if(cr){j=ct.join("&");break e}}}return f=f.i.splice(0,P),D.D=f,j}function pS(f){if(!f.g&&!f.u){f.Y=1;var D=f.Fa;Ng||XT(),Ul||(Ng(),Ul=!0),rv.add(D,f),f.v=0}}function LA(f){return!(f.g||f.u||3<=f.v||(f.Y++,f.u=Hl(Y(f.Fa,f),_S(f,f.v)),f.v++,0))}function VA(f){null!=f.A&&(g.clearTimeout(f.A),f.A=null)}function gS(f){f.g=new As(f,f.j,"rpc",f.Y),null===f.m&&(f.g.H=f.o),f.g.O=0;var D=hu(f.qa);fr(D,"RID","rpc"),fr(D,"SID",f.K),fr(D,"AID",f.T),fr(D,"CI",f.F?"0":"1"),!f.F&&f.ja&&fr(D,"TO",f.ja),fr(D,"TYPE","xmlhttp"),Ev(f,D),f.m&&f.o&&$(D,f.m,f.o),f.L&&(f.g.I=f.L);var P=f.g;f=f.ia,P.L=1,P.v=Iv(hu(D)),P.m=null,P.P=!0,gw(P,f)}function ww(f){null!=f.C&&(g.clearTimeout(f.C),f.C=null)}function mS(f,D){var P=null;if(f.g==D){ww(f),VA(f),f.g=null;var j=2}else{if(!mv(f.h,D))return;P=D.D,_v(f.h,D),j=1}if(0!=f.G)if(D.o)if(1==j){P=D.m?D.m.length:0,D=Date.now()-D.F;var he=f.B;fi(j=$l(),new DA(j,P)),Tw(f)}else pS(f);else if(3==(he=D.s)||0==he&&0<D.X||!(1==j&&function aR(f,D){return!(PA(f.h)>=f.h.j-(f.s?1:0)||(f.s?(f.i=D.D.concat(f.i),0):1==f.G||2==f.G||f.B>=(f.Va?0:f.Wa)||(f.s=Hl(Y(f.Ga,f,D),_S(f,f.B)),f.B++,0)))}(f,D)||2==j&&LA(f)))switch(P&&0<P.length&&(D=f.h,D.i=D.i.concat(P)),he){case 1:Bh(f,5);break;case 4:Bh(f,10);break;case 3:Bh(f,6);break;default:Bh(f,2)}}function _S(f,D){let P=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(P*=2),P*D}function Bh(f,D){if(f.j.info("Error code "+D),2==D){var P=Y(f.fb,f),j=f.Xa;const he=!j;j=new du(j||"//www.google.com/images/cleardot.gif"),g.location&&"http"==g.location.protocol||Gg(j,"https"),Iv(j),he?function n(f,D){const P=new Mh;if(g.Image){const j=new Image;j.onload=ce(o,P,"TestLoadImage: loaded",!0,D,j),j.onerror=ce(o,P,"TestLoadImage: error",!1,D,j),j.onabort=ce(o,P,"TestLoadImage: abort",!1,D,j),j.ontimeout=ce(o,P,"TestLoadImage: timeout",!1,D,j),g.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=f}else D(!1)}(j.toString(),P):function r(f,D){new Mh;const j=new AbortController,he=setTimeout(()=>{j.abort(),o(0,0,!1,D)},1e4);fetch(f,{signal:j.signal}).then(Ae=>{clearTimeout(he),o(0,0,!!Ae.ok,D)}).catch(()=>{clearTimeout(he),o(0,0,!1,D)})}(j.toString(),P)}else $i(2);f.G=0,f.l&&f.l.sa(D),yS(f),Ew(f)}function yS(f){if(f.G=0,f.ka=[],f.l){const D=yv(f.h);(0!=D.length||0!=f.i.length)&&(Ue(f.ka,D),Ue(f.ka,f.i),f.h.i.length=0,Ye(f.i),f.i.length=0),f.l.ra()}}function vS(f,D,P){var j=P instanceof du?hu(P):new du(P);if(""!=j.g)D&&(j.g=D+"."+j.g),vv(j,j.s);else{var he=g.location;j=he.protocol,D=D?D+"."+he.hostname:he.hostname,he=+he.port;var Ae=new du(null);j&&Gg(Ae,j),D&&(Ae.g=D),he&&vv(Ae,he),P&&(Ae.l=P),j=Ae}return D=f.ya,(P=f.D)&&D&&fr(j,P,D),fr(j,"VER",f.la),Ev(f,j),j}function IS(f,D,P){if(D&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return(D=new Z(f.Ca&&!f.pa?new d({eb:P}):f.pa)).Ha(f.J),D}function ES(){}function Dw(){}function Bo(f,D){bi.call(this),this.g=new vc(D),this.l=f,this.h=D&&D.messageUrlParams||null,f=D&&D.messageHeaders||null,D&&D.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=D&&D.initMessageHeaders||null,D&&D.messageContentType&&(f?f["X-WebChannel-Content-Type"]=D.messageContentType:f={"X-WebChannel-Content-Type":D.messageContentType}),D&&D.va&&(f?f["X-WebChannel-Client-Profile"]=D.va:f={"X-WebChannel-Client-Profile":D.va}),this.g.S=f,(f=D&&D.Sb)&&!Pt(f)&&(this.g.m=f),this.v=D&&D.supportsCrossDomainXhr||!1,this.u=D&&D.sendRawJson||!1,(D=D&&D.httpSessionIdParam)&&!Pt(D)&&(this.g.D=D,null!==(f=this.h)&&D in f&&D in(f=this.h)&&delete f[D]),this.j=new qg(this)}function TS(f){Ug.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var D=f.__sm__;if(D){e:{for(const P in D){f=P;break e}f=void 0}(this.i=f)&&(f=this.i,D=null!==D&&f in D?D[f]:void 0),this.data=D}else this.data=f}function wS(){Ph.call(this),this.status=1}function qg(f){this.g=f}(s=Z.prototype).Ha=function(f){this.J=f},s.ea=function(f,D,P,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);D=D?D.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():lv.g(),this.v=function lw(f){return f.h||(f.h=f.i())}(this.o?this.o:lv),this.g.onreadystatechange=Y(this.Ea,this);try{this.B=!0,this.g.open(D,String(f),!0),this.B=!1}catch(Ae){return void He(this,Ae)}if(f=P||"",P=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var he in j)P.set(he,j[he]);else{if("function"!=typeof j.keys||"function"!=typeof j.get)throw Error("Unknown input type for opt_headers: "+String(j));for(const Ae of j.keys())P.set(Ae,j.get(Ae))}j=Array.from(P.keys()).find(Ae=>"content-type"==Ae.toLowerCase()),he=g.FormData&&f instanceof g.FormData,!(0<=Array.prototype.indexOf.call(xe,D,void 0))||j||he||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ae,ct]of P)this.g.setRequestHeader(Ae,ct);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Gt(this),this.u=!0,this.g.send(f),this.u=!1}catch(Ae){He(this,Ae)}},s.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,fi(this,"complete"),fi(this,"abort"),Fe(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fe(this,!0)),Z.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?It(this):this.bb())},s.bb=function(){It(this)},s.isActive=function(){return!!this.g},s.Z=function(){try{return 2<zt(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(f){if(this.g){var D=this.g.responseText;return f&&0==D.indexOf(f)&&(D=D.substring(f.length)),TA(D)}},s.Ba=function(){return this.m},s.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(s=vc.prototype).la=8,s.G=1,s.connect=function(f,D,P,j){$i(0),this.W=f,this.H=D||{},P&&void 0!==j&&(this.H.OSID=P,this.H.OAID=j),this.F=this.X,this.I=vS(this,null,this.W),Tw(this)},s.Ga=function(f){if(this.s)if(this.s=null,1==this.G){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const he=new As(this,this.j,f);let Ae=this.o;if(this.S&&(Ae?(Ae=K(Ae),re(Ae,this.S)):Ae=this.S),null!==this.m||this.O||(he.H=Ae,Ae=null),this.P)e:{for(var D=0,P=0;P<this.i.length;P++){var j=this.i[P];if(void 0===(j="__data__"in j.map&&"string"==typeof(j=j.map.__data__)?j.length:void 0))break;if(4096<(D+=j)){D=P;break e}if(4096===D||P===this.i.length-1){D=P+1;break e}}D=1e3}else D=1e3;D=fS(this,he,D),fr(P=hu(this.I),"RID",f),fr(P,"CVER",22),this.D&&fr(P,"X-HTTP-Session-Id",this.D),Ev(this,P),Ae&&(this.O?D="headers="+encodeURIComponent(String(O(Ae)))+"&"+D:this.m&&$(P,this.m,Ae)),Fh(this.h,he),this.Ua&&fr(P,"TYPE","init"),this.P?(fr(P,"$req",D),fr(P,"SID","null"),he.T=!0,hv(he,P,null)):hv(he,P,D),this.G=2}}else 3==this.G&&(f?hS(this,f):0==this.i.length||gv(this.h)||hS(this))},s.Fa=function(){if(this.u=null,gS(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Hl(Y(this.ab,this),f)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,$i(10),Wg(this),gS(this))},s.Za=function(){null!=this.C&&(this.C=null,Wg(this),LA(this),$i(19))},s.fb=function(f){f?(this.j.info("Successfully pinged google.com"),$i(2)):(this.j.info("Failed to ping google.com"),$i(1))},s.isActive=function(){return!!this.l&&this.l.isActive(this)},(s=ES.prototype).ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){},Dw.prototype.g=function(f,D){return new Bo(f,D)},Ne(Bo,bi),Bo.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Bo.prototype.close=function(){Uh(this.g)},Bo.prototype.o=function(f){var D=this.g;if("string"==typeof f){var P={};P.__data__=f,f=P}else this.u&&((P={}).__data__=cw(f),f=P);D.i.push(new class{constructor(f,D){this.g=f,this.map=D}}(D.Ya++,f)),3==D.G&&Tw(D)},Bo.prototype.N=function(){this.g.l=null,delete this.j,Uh(this.g),delete this.g,Bo.aa.N.call(this)},Ne(TS,Ug),Ne(wS,Ph),Ne(qg,ES),qg.prototype.ua=function(){fi(this.g,"a")},qg.prototype.ta=function(f){fi(this.g,new TS(f))},qg.prototype.sa=function(f){fi(this.g,new wS)},qg.prototype.ra=function(){fi(this.g,"b")},Dw.prototype.createWebChannel=Dw.prototype.g,Bo.prototype.send=Bo.prototype.o,Bo.prototype.open=Bo.prototype.m,Bo.prototype.close=Bo.prototype.close,Pm=Ws.createWebChannelTransport=function(){return new Dw},Dd=Ws.getStatEventTarget=function(){return $l()},xu=Ws.Event=ca,Sf=Ws.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xh.NO_ERROR=0,xh.TIMEOUT=8,xh.HTTP_ERROR=6,wd=Ws.ErrorCode=xh,pw.COMPLETE="complete",Rm=Ws.EventType=pw,cv.EventType=Uo,Uo.OPEN="a",Uo.CLOSE="b",Uo.ERROR="c",Uo.MESSAGE="d",bi.prototype.listen=bi.prototype.K,Td=Ws.WebChannel=cv,oI=Ws.FetchXmlHttpFactory=d,Z.prototype.listenOnce=Z.prototype.L,Z.prototype.getLastError=Z.prototype.Ka,Z.prototype.getLastErrorCode=Z.prototype.Ba,Z.prototype.getStatus=Z.prototype.Z,Z.prototype.getResponseJson=Z.prototype.Oa,Z.prototype.getResponseText=Z.prototype.oa,Z.prototype.send=Z.prototype.ea,Z.prototype.setWithCredentials=Z.prototype.Ha,Kc=Ws.XhrIo=Z}).apply(typeof qc<"u"?qc:typeof self<"u"?self:typeof window<"u"?window:{});const Rf="@firebase/firestore";class Cr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Cr.UNAUTHENTICATED=new Cr(null),Cr.GOOGLE_CREDENTIALS=new Cr("google-credentials-uid"),Cr.FIRST_PARTY=new Cr("first-party-uid"),Cr.MOCK_USER=new Cr("mock-user");let Qc="10.12.1";const Aa=new tt.Yd("@firebase/firestore");function Yc(){return Aa.logLevel}function We(s,...e){if(Aa.logLevel<=tt.in.DEBUG){const t=e.map(Zc);Aa.debug(`Firestore (${Qc}): ${s}`,...t)}}function br(s,...e){if(Aa.logLevel<=tt.in.ERROR){const t=e.map(Zc);Aa.error(`Firestore (${Qc}): ${s}`,...t)}}function Fi(s,...e){if(Aa.logLevel<=tt.in.WARN){const t=e.map(Zc);Aa.warn(`Firestore (${Qc}): ${s}`,...t)}}function Zc(s){if("string"==typeof s)return s;try{return JSON.stringify(s)}catch{return s}}function mt(s="Unexpected state"){const e=`FIRESTORE (${Qc}) INTERNAL ASSERTION FAILED: `+s;throw br(e),new Error(e)}function Tt(s,e){s||mt()}function it(s,e){return s}const Te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class qe extends be.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ir{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Mm{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Cr.UNAUTHENTICATED))}shutdown(){}}class iD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class EC{constructor(e){this.t=e,this.currentUser=Cr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let u=this.i;const l=b=>this.i!==u?(u=this.i,t(b)):Promise.resolve();let h=new ir;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new ir,e.enqueueRetryable(()=>l(this.currentUser))};const g=()=>{const b=h;e.enqueueRetryable((0,W.Z)(function*(){yield b.promise,yield l(i.currentUser)}))},E=b=>{We("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),g()};this.t.onInit(b=>E(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?E(b):(We("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new ir)}},0),g()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(We("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Tt("string"==typeof i.accessToken),new Mm(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Tt(null===e||"string"==typeof e),new Cr(e)}}class Pf{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Cr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class oD{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new Pf(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Cr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class xm{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aI{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const i=l=>{null!=l.error&&We("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.R;return this.R=l.token,We("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const u=l=>{We("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>u(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?u(l):We("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Tt("string"==typeof t.token),this.R=t.token,new xm(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Nm(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(s);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<s;i++)t[i]=Math.floor(256*Math.random());return t}class Om{static newId(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const u=Nm(40);for(let l=0;l<u.length;++l)i.length<20&&u[l]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[l]%62))}return i}}function jt(s,e){return s<e?-1:s>e?1:0}function us(s,e,t){return s.length===e.length&&s.every((i,u)=>t(i,e[u]))}class or{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new qe(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new qe(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new qe(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new qe(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return or.fromMillis(Date.now())}static fromDate(e){return or.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new or(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?jt(this.nanoseconds,e.nanoseconds):jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class At{constructor(e){this.timestamp=e}static fromTimestamp(e){return new At(e)}static min(){return new At(new or(0,0))}static max(){return new At(new or(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Jc{constructor(e,t,i){void 0===t?t=0:t>e.length&&mt(),void 0===i?i=e.length-t:i>e.length-t&&mt(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Jc.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Jc?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let u=0;u<i;u++){const l=e.get(u),h=t.get(u);if(l<h)return-1;if(l>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class cn extends Jc{construct(e,t,i){return new cn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new qe(Te.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(u=>u.length>0))}return new cn(t)}static emptyPath(){return new cn([])}}const Ad=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dr extends Jc{construct(e,t,i){return new dr(e,t,i)}static isValidIdentifier(e){return Ad.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new dr(["__name__"])}static fromServerFormat(e){const t=[];let i="",u=0;const l=()=>{if(0===i.length)throw new qe(Te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let h=!1;for(;u<e.length;){const g=e[u];if("\\"===g){if(u+1===e.length)throw new qe(Te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const E=e[u+1];if("\\"!==E&&"."!==E&&"`"!==E)throw new qe(Te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=E,u+=2}else"`"===g?(h=!h,u++):"."!==g||h?(i+=g,u++):(l(),u++)}if(l(),h)throw new qe(Te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dr(t)}static emptyPath(){return new dr([])}}class ut{constructor(e){this.path=e}static fromPath(e){return new ut(cn.fromString(e))}static fromName(e){return new ut(cn.fromString(e).popFirst(5))}static empty(){return new ut(cn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===cn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return cn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ut(new cn(e.slice()))}}class no{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new no(At.min(),ut.empty(),-1)}static max(){return new no(At.max(),ut.empty(),-1)}}function lI(s,e){let t=s.readTime.compareTo(e.readTime);return 0!==t?t:(t=ut.comparator(s.documentKey,e.documentKey),0!==t?t:jt(s.largestBatchId,e.largestBatchId))}const dI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Lm{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Sa(s){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,W.Z)(function*(s){if(s.code!==Te.FAILED_PRECONDITION||s.message!==dI)throw s;We("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&mt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new de((i,u)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,u)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,u)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof de?t:de.resolve(t)}catch(t){return de.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):de.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):de.reject(t)}static resolve(e){return new de((t,i)=>{t(e)})}static reject(e){return new de((t,i)=>{i(e)})}static waitFor(e){return new de((t,i)=>{let u=0,l=0,h=!1;e.forEach(g=>{++u,g.next(()=>{++l,h&&l===u&&t()},E=>i(E))}),h=!0,l===u&&t()})}static or(e){let t=de.resolve(!1);for(const i of e)t=t.next(u=>u?de.resolve(u):i());return t}static forEach(e,t){const i=[];return e.forEach((u,l)=>{i.push(t.call(this,u,l))}),this.waitFor(i)}static mapArray(e,t){return new de((i,u)=>{const l=e.length,h=new Array(l);let g=0;for(let E=0;E<l;E++){const b=E;t(e[b]).next(x=>{h[b]=x,++g,g===l&&i(h)},x=>u(x))}})}static doWhile(e,t){return new de((i,u)=>{const l=()=>{!0===e()?t().next(()=>{l()},u):i()};l()})}}function Pa(s){return"IndexedDbTransactionError"===s.name}let ro=(()=>{class s{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=u=>this.ie(u),this.se=u=>i.writeSequenceNumber(u))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}return s.oe=-1,s})();function xf(s){return null==s}function Nf(s){return 0===s&&1/s==-1/0}function Fu(s){let e=0;for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e++;return e}function xa(s,e){for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e(t,s[t])}class qn{constructor(e,t){this.comparator=e,this.root=t||Xr.EMPTY}insert(e,t){return new qn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xr.BLACK,null,null))}remove(e){return new qn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const u=this.comparator(e,i.key);if(0===u)return t+i.left.size;u<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ff(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ff(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ff(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ff(this.root,e,this.comparator,!0)}}class Ff{constructor(e,t,i,u){this.isReverse=u,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&u&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xr{constructor(e,t,i,u,l){this.key=e,this.value=t,this.color=i??Xr.RED,this.left=u??Xr.EMPTY,this.right=l??Xr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,u,l){return new Xr(e??this.key,t??this.value,i??this.color,u??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let u=this;const l=i(e,u.key);return u=l<0?u.copy(null,null,null,u.left.insert(e,t,i),null):0===l?u.copy(null,t,null,null,null):u.copy(null,null,null,null,u.right.insert(e,t,i)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Xr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,u=this;if(t(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,t),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===t(e,u.key)){if(u.right.isEmpty())return Xr.EMPTY;i=u.right.min(),u=u.copy(i.key,i.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,t))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw mt();const e=this.left.check();if(e!==this.right.check())throw mt();return e+(this.isRed()?0:1)}}Xr.EMPTY=null,Xr.RED=!0,Xr.BLACK=!1,Xr.EMPTY=new class{constructor(){this.size=0}get key(){throw mt()}get value(){throw mt()}get color(){throw mt()}get left(){throw mt()}get right(){throw mt()}copy(e,t,i,u,l){return this}insert(e,t,i){return new Xr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Hn{constructor(e){this.comparator=e,this.data=new qn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const u=i.getNext();if(this.comparator(u.key,e[1])>=0)return;t(u.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new wI(this.data.getIterator())}getIteratorFrom(e){return new wI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Hn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const u=t.getNext().key,l=i.getNext().key;if(0!==this.comparator(u,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Hn(this.comparator);return t.data=e,t}}class wI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class io{constructor(e){this.fields=e,e.sort(dr.comparator)}static empty(){return new io([])}unionWith(e){let t=new Hn(dr.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new io(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return us(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class hD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class _r{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(u){try{return atob(u)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new hD("Invalid base64 string: "+l):l}}(e);return new _r(t)}static fromUint8Array(e){const t=function(u){let l="";for(let h=0;h<u.length;++h)l+=String.fromCharCode(u[h]);return l}(e);return new _r(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let u=0;u<t.length;u++)i[u]=t.charCodeAt(u);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_r.EMPTY_BYTE_STRING=new _r("");const DI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ls(s){if(Tt(!!s),"string"==typeof s){let e=0;const t=DI.exec(s);if(Tt(!!t),t[1]){let u=t[1];u=(u+"000000000").substr(0,9),e=Number(u)}const i=new Date(s);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:hr(s.seconds),nanos:hr(s.nanos)}}function hr(s){return"number"==typeof s?s:"string"==typeof s?Number(s):0}function ds(s){return"string"==typeof s?_r.fromBase64String(s):_r.fromUint8Array(s)}function Vf(s){var e,t;return"server_timestamp"===(null===(t=((null===(e=s?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Rd(s){const e=s.mapValue.fields.__previous_value__;return Vf(e)?Rd(e):e}function nl(s){const e=ls(s.mapValue.fields.__local_write_time__.timestampValue);return new or(e.seconds,e.nanos)}class Uf{constructor(e,t,i,u,l,h,g,E,b){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=u,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=g,this.longPollingOptions=E,this.useFetchStreams=b}}class rl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new rl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof rl&&e.projectId===this.projectId&&e.database===this.database}}const hs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function fs(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Vf(s)?4:Wm(s)?9007199254740991:10:mt()}function Oo(s,e){if(s===e)return!0;const t=fs(s);if(t!==fs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return nl(s).isEqual(nl(e));case 3:return function(u,l){if("string"==typeof u.timestampValue&&"string"==typeof l.timestampValue&&u.timestampValue.length===l.timestampValue.length)return u.timestampValue===l.timestampValue;const h=ls(u.timestampValue),g=ls(l.timestampValue);return h.seconds===g.seconds&&h.nanos===g.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return l=e,ds(s.bytesValue).isEqual(ds(l.bytesValue));case 7:return s.referenceValue===e.referenceValue;case 8:return function(u,l){return hr(u.geoPointValue.latitude)===hr(l.geoPointValue.latitude)&&hr(u.geoPointValue.longitude)===hr(l.geoPointValue.longitude)}(s,e);case 2:return function(u,l){if("integerValue"in u&&"integerValue"in l)return hr(u.integerValue)===hr(l.integerValue);if("doubleValue"in u&&"doubleValue"in l){const h=hr(u.doubleValue),g=hr(l.doubleValue);return h===g?Nf(h)===Nf(g):isNaN(h)&&isNaN(g)}return!1}(s,e);case 9:return us(s.arrayValue.values||[],e.arrayValue.values||[],Oo);case 10:return function(u,l){const h=u.mapValue.fields||{},g=l.mapValue.fields||{};if(Fu(h)!==Fu(g))return!1;for(const E in h)if(h.hasOwnProperty(E)&&(void 0===g[E]||!Oo(h[E],g[E])))return!1;return!0}(s,e);default:return mt()}var l}function il(s,e){return void 0!==(s.values||[]).find(t=>Oo(t,e))}function Li(s,e){if(s===e)return 0;const t=fs(s),i=fs(e);if(t!==i)return jt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return jt(s.booleanValue,e.booleanValue);case 2:return function(l,h){const g=hr(l.integerValue||l.doubleValue),E=hr(h.integerValue||h.doubleValue);return g<E?-1:g>E?1:g===E?0:isNaN(g)?isNaN(E)?0:-1:1}(s,e);case 3:return AI(s.timestampValue,e.timestampValue);case 4:return AI(nl(s),nl(e));case 5:return jt(s.stringValue,e.stringValue);case 6:return function(l,h){const g=ds(l),E=ds(h);return g.compareTo(E)}(s.bytesValue,e.bytesValue);case 7:return function(l,h){const g=l.split("/"),E=h.split("/");for(let b=0;b<g.length&&b<E.length;b++){const x=jt(g[b],E[b]);if(0!==x)return x}return jt(g.length,E.length)}(s.referenceValue,e.referenceValue);case 8:return function(l,h){const g=jt(hr(l.latitude),hr(h.latitude));return 0!==g?g:jt(hr(l.longitude),hr(h.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return function(l,h){const g=l.values||[],E=h.values||[];for(let b=0;b<g.length&&b<E.length;++b){const x=Li(g[b],E[b]);if(x)return x}return jt(g.length,E.length)}(s.arrayValue,e.arrayValue);case 10:return function(l,h){if(l===hs.mapValue&&h===hs.mapValue)return 0;if(l===hs.mapValue)return 1;if(h===hs.mapValue)return-1;const g=l.fields||{},E=Object.keys(g),b=h.fields||{},x=Object.keys(b);E.sort(),x.sort();for(let B=0;B<E.length&&B<x.length;++B){const Y=jt(E[B],x[B]);if(0!==Y)return Y;const ce=Li(g[E[B]],b[x[B]]);if(0!==ce)return ce}return jt(E.length,x.length)}(s.mapValue,e.mapValue);default:throw mt()}}function AI(s,e){if("string"==typeof s&&"string"==typeof e&&s.length===e.length)return jt(s,e);const t=ls(s),i=ls(e),u=jt(t.seconds,i.seconds);return 0!==u?u:jt(t.nanos,i.nanos)}function Na(s){return ol(s)}function ol(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(t){const i=ls(t);return`time(${i.seconds},${i.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?ds(s.bytesValue).toBase64():"referenceValue"in s?ut.fromName(s.referenceValue).toString():"geoPointValue"in s?function(t){return`geo(${t.latitude},${t.longitude})`}(s.geoPointValue):"arrayValue"in s?function(t){let i="[",u=!0;for(const l of t.values||[])u?u=!1:i+=",",i+=ol(l);return i+"]"}(s.arrayValue):"mapValue"in s?function(t){const i=Object.keys(t.fields||{}).sort();let u="{",l=!0;for(const h of i)l?l=!1:u+=",",u+=`${h}:${ol(t.fields[h])}`;return u+"}"}(s.mapValue):mt()}function sl(s){return!!s&&"integerValue"in s}function Vi(s){return!!s&&"arrayValue"in s}function Vu(s){return!!s&&"nullValue"in s}function $f(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Hf(s){return!!s&&"mapValue"in s}function Pd(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&"object"==typeof s.timestampValue)return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return xa(s.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Pd(i)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(s.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Pd(s.arrayValue.values[t]);return e}return Object.assign({},s)}function Wm(s){return"__max__"===(((s.mapValue||{}).fields||{}).__type__||{}).stringValue}class Lr{constructor(e){this.value=e}static empty(){return new Lr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Hf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pd(t)}setAll(e){let t=dr.emptyPath(),i={},u=[];e.forEach((h,g)=>{if(!t.isImmediateParentOf(g)){const E=this.getFieldsMap(t);this.applyChanges(E,i,u),i={},u=[],t=g.popLast()}h?i[g.lastSegment()]=Pd(h):u.push(g.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,u)}delete(e){const t=this.field(e.popLast());Hf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Oo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let u=t.mapValue.fields[e.get(i)];Hf(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=u),t=u}return t.mapValue.fields}applyChanges(e,t,i){xa(t,(u,l)=>e[u]=l);for(const u of i)delete e[u]}clone(){return new Lr(Pd(this.value))}}class sr{constructor(e,t,i,u,l,h,g){this.key=e,this.documentType=t,this.version=i,this.readTime=u,this.createTime=l,this.data=h,this.documentState=g}static newInvalidDocument(e){return new sr(e,0,At.min(),At.min(),At.min(),Lr.empty(),0)}static newFoundDocument(e,t,i,u){return new sr(e,1,t,At.min(),i,u,0)}static newNoDocument(e,t){return new sr(e,2,t,At.min(),At.min(),Lr.empty(),0)}static newUnknownDocument(e,t){return new sr(e,3,t,At.min(),At.min(),Lr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(At.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Lr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Lr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof sr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Qs{constructor(e,t){this.position=e,this.inclusive=t}}function Gf(s,e,t){let i=0;for(let u=0;u<s.position.length;u++){const l=e[u],h=s.position[u];if(i=l.field.isKeyField()?ut.comparator(ut.fromName(h.referenceValue),t.key):Li(h,t.data.field(l.field)),"desc"===l.dir&&(i*=-1),0!==i)break}return i}function pD(s,e){if(null===s)return null===e;if(null===e||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let t=0;t<s.position.length;t++)if(!Oo(s.position[t],e.position[t]))return!1;return!0}class zf{constructor(e,t="asc"){this.field=e,this.dir=t}}function gD(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class SI{}class Tn extends SI{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new Qf(e,t,i):"array-contains"===t?new Zf(e,i):"in"===t?new mD(e,i):"not-in"===t?new Ym(e,i):"array-contains-any"===t?new xd(e,i):new Tn(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new cl(e,i):new Qm(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Li(t,this.value)):null!==t&&fs(this.value)===fs(t)&&this.matchesComparison(Li(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return mt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gn extends SI{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Gn(e,t)}matches(e){return Ys(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Ys(s){return"and"===s.op}function Md(s){return function Wf(s){for(const e of s.filters)if(e instanceof Gn)return!1;return!0}(s)&&Ys(s)}function Oa(s){if(s instanceof Tn)return s.field.canonicalString()+s.op.toString()+Na(s.value);if(Md(s))return s.filters.map(e=>Oa(e)).join(",");{const e=s.filters.map(t=>Oa(t)).join(",");return`${s.op}(${e})`}}function qf(s,e){return s instanceof Tn?(i=s,(u=e)instanceof Tn&&i.op===u.op&&i.field.isEqual(u.field)&&Oo(i.value,u.value)):s instanceof Gn?function(i,u){return u instanceof Gn&&i.op===u.op&&i.filters.length===u.filters.length&&i.filters.reduce((l,h,g)=>l&&qf(h,u.filters[g]),!0)}(s,e):void mt();var i,u}function ul(s){return s instanceof Tn?`${(t=s).field.canonicalString()} ${t.op} ${Na(t.value)}`:s instanceof Gn?function(t){return t.op.toString()+" {"+t.getFilters().map(ul).join(" ,")+"}"}(s):"Filter";var t}class Qf extends Tn{constructor(e,t,i){super(e,t,i),this.key=ut.fromName(i.referenceValue)}matches(e){const t=ut.comparator(e.key,this.key);return this.matchesComparison(t)}}class cl extends Tn{constructor(e,t){super(e,"in",t),this.keys=Yf(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Qm extends Tn{constructor(e,t){super(e,"not-in",t),this.keys=Yf(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Yf(s,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>ut.fromName(i.referenceValue))}class Zf extends Tn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Vi(t)&&il(t.arrayValue,this.value)}}class mD extends Tn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&il(this.value.arrayValue,t)}}class Ym extends Tn{constructor(e,t){super(e,"not-in",t)}matches(e){if(il(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!il(this.value.arrayValue,t)}}class xd extends Tn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Vi(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>il(this.value.arrayValue,i))}}class _D{constructor(e,t=null,i=[],u=[],l=null,h=null,g=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=u,this.limit=l,this.startAt=h,this.endAt=g,this.ue=null}}function Jf(s,e=null,t=[],i=[],u=null,l=null,h=null){return new _D(s,e,t,i,u,l,h)}function Uu(s){const e=it(s);if(null===e.ue){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Oa(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(l=i).field.canonicalString()+l.dir;var l}).join(","),xf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Na(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Na(i)).join(",")),e.ue=t}return e.ue}function Nd(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<s.orderBy.length;t++)if(!gD(s.orderBy[t],e.orderBy[t]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let t=0;t<s.filters.length;t++)if(!qf(s.filters[t],e.filters[t]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!pD(s.startAt,e.startAt)&&pD(s.endAt,e.endAt)}function ll(s){return ut.isDocumentKey(s.path)&&null===s.collectionGroup&&0===s.filters.length}class ka{constructor(e,t=null,i=[],u=[],l=null,h="F",g=null,E=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=u,this.limit=l,this.limitType=h,this.startAt=g,this.endAt=E,this.ce=null,this.le=null,this.he=null}}function Zs(s){return new ka(s)}function Xf(s){return 0===s.filters.length&&null===s.limit&&null==s.startAt&&null==s.endAt&&(0===s.explicitOrderBy.length||1===s.explicitOrderBy.length&&s.explicitOrderBy[0].field.isKeyField())}function Bu(s){const e=it(s);if(null===e.ce){e.ce=[];const t=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let g=new Hn(dr.comparator);return h.filters.forEach(E=>{E.getFlattenedFilters().forEach(b=>{b.isInequality()&&(g=g.add(b.field))})}),g})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.ce.push(new zf(l,i))}),t.has(dr.keyField().canonicalString())||e.ce.push(new zf(dr.keyField(),i))}return e.ce}function Wr(s){const e=it(s);return e.le||(e.le=function xI(s,e){if("F"===s.limitType)return Jf(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(u=>new zf(u.field,"desc"===u.dir?"asc":"desc"));const t=s.endAt?new Qs(s.endAt.position,s.endAt.inclusive):null,i=s.startAt?new Qs(s.startAt.position,s.startAt.inclusive):null;return Jf(s.path,s.collectionGroup,e,s.filters,s.limit,t,i)}}(e,Bu(s))),e.le}function tp(s,e,t){return new ka(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,t,s.startAt,s.endAt)}function dl(s,e){return Nd(Wr(s),Wr(e))&&s.limitType===e.limitType}function yD(s){return`${Uu(Wr(s))}|lt:${s.limitType}`}function hl(s){return`Query(target=${function(t){let i=t.path.canonicalString();return null!==t.collectionGroup&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(u=>ul(u)).join(", ")}]`),xf(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(u=>{return`${(h=u).field.canonicalString()} (${h.dir})`;var h}).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(u=>Na(u)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(u=>Na(u)).join(",")),`Target(${i})`}(Wr(s))}; limitType=${s.limitType})`}function Fa(s,e){return e.isFoundDocument()&&function(i,u){const l=u.key.path;return null!==i.collectionGroup?u.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):ut.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(s,e)&&function(i,u){for(const l of Bu(i))if(!l.field.isKeyField()&&null===u.data.field(l.field))return!1;return!0}(s,e)&&function(i,u){for(const l of i.filters)if(!l.matches(u))return!1;return!0}(s,e)&&(u=e,!((i=s).startAt&&!function(h,g,E){const b=Gf(h,g,E);return h.inclusive?b<=0:b<0}(i.startAt,Bu(i),u)||i.endAt&&!function(h,g,E){const b=Gf(h,g,E);return h.inclusive?b>=0:b>0}(i.endAt,Bu(i),u)));var i,u}function ju(s){return(e,t)=>{let i=!1;for(const u of Bu(s)){const l=Fd(u,e,t);if(0!==l)return l;i=i||u.field.isKeyField()}return 0}}function Fd(s,e,t){const i=s.field.isKeyField()?ut.comparator(e.key,t.key):function(l,h,g){const E=h.data.field(l),b=g.data.field(l);return null!==E&&null!==b?Li(E,b):mt()}(s.field,e,t);switch(s.dir){case"asc":return i;case"desc":return-1*i;default:return mt()}}class Js{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[u,l]of i)if(this.equalsFn(u,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),u=this.inner[i];if(void 0===u)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<u.length;l++)if(this.equalsFn(u[l][0],e))return void(u[l]=[e,t]);u.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let u=0;u<i.length;u++)if(this.equalsFn(i[u][0],e))return 1===i.length?delete this.inner[t]:i.splice(u,1),this.innerSize--,!0;return!1}forEach(e){xa(this.inner,(t,i)=>{for(const[u,l]of i)e(u,l)})}isEmpty(){return function zm(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}(this.inner)}size(){return this.innerSize}}const OI=new qn(ut.comparator);function Ui(){return OI}const kI=new qn(ut.comparator);function Ld(...s){let e=kI;for(const t of s)e=e.insert(t.key,t);return e}function Jm(s){let e=kI;return s.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function ko(){return rp()}function np(){return rp()}function rp(){return new Js(s=>s.toString(),(s,e)=>s.isEqual(e))}new qn(ut.comparator);const FI=new Hn(ut.comparator);function rn(...s){let e=FI;for(const t of s)e=e.add(t);return e}const vD=new Hn(jt);class op{constructor(){this._=void 0}}function SC(s,e,t){return s instanceof di?function(u,l){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return l&&Vf(l)&&(l=Rd(l)),l&&(h.fields.__previous_value__=l),{mapValue:h}}(t,e):s instanceof La?ID(s,e):s instanceof Xs?ea(s,e):function(u,l){const h=function t_(s,e){return s instanceof Va?sl(i=e)||(l=i)&&"doubleValue"in l?e:{integerValue:0}:null;var i,l}(u,l),g=BI(h)+BI(u.Pe);return sl(h)&&sl(u.Pe)?function e_(s){return{integerValue:""+s}}(g):function LI(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nf(e)?"-0":e}}(u.serializer,g)}(s,e)}function UI(s,e,t){return s instanceof La?ID(s,e):s instanceof Xs?ea(s,e):t}class di extends op{}class La extends op{constructor(e){super(),this.elements=e}}function ID(s,e){const t=ED(e);for(const i of s.elements)t.some(u=>Oo(u,i))||t.push(i);return{arrayValue:{values:t}}}class Xs extends op{constructor(e){super(),this.elements=e}}function ea(s,e){let t=ED(e);for(const i of s.elements)t=t.filter(u=>!Oo(u,i));return{arrayValue:{values:t}}}class Va extends op{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function BI(s){return hr(s.integerValue||s.doubleValue)}function ED(s){return Vi(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class ar{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ar}static exists(e){return new ar(void 0,e)}static updateTime(e){return new ar(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sp(s,e){return void 0!==s.updateTime?e.isFoundDocument()&&e.version.isEqual(s.updateTime):void 0===s.exists||s.exists===e.isFoundDocument()}class jI{}function Vr(s,e){if(!s.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return s.isNoDocument()?new Hu(s.key,ar.none()):new Ua(s.key,s.data,ar.none());{const t=s.data,i=Lr.empty();let u=new Hn(dr.comparator);for(let l of e.fields)if(!u.has(l)){let h=t.field(l);null===h&&l.length>1&&(l=l.popLast(),h=t.field(l)),null===h?i.delete(l):i.set(l,h),u=u.add(l)}return new gs(s.key,i,new io(u.toArray()),ar.none())}}function TD(s,e,t){s instanceof Ua?function(u,l,h){const g=u.value.clone(),E=HI(u.fieldTransforms,l,h.transformResults);g.setAll(E),l.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(s,e,t):s instanceof gs?function(u,l,h){if(!sp(u.precondition,l))return void l.convertToUnknownDocument(h.version);const g=HI(u.fieldTransforms,l,h.transformResults),E=l.data;E.setAll(r_(u)),E.setAll(g),l.convertToFoundDocument(h.version,E).setHasCommittedMutations()}(s,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function $u(s,e,t,i){return s instanceof Ua?function(l,h,g,E){if(!sp(l.precondition,h))return g;const b=l.value.clone(),x=i_(l.fieldTransforms,E,h);return b.setAll(x),h.convertToFoundDocument(h.version,b).setHasLocalMutations(),null}(s,e,t,i):s instanceof gs?function(l,h,g,E){if(!sp(l.precondition,h))return g;const b=i_(l.fieldTransforms,E,h),x=h.data;return x.setAll(r_(l)),x.setAll(b),h.convertToFoundDocument(h.version,x).setHasLocalMutations(),null===g?null:g.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(B=>B.field))}(s,e,t,i):(g=t,sp(s.precondition,h=e)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):g);var h,g}function $I(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&(u=e.fieldTransforms,!!(void 0===(i=s.fieldTransforms)&&void 0===u||i&&u&&us(i,u,(l,h)=>function n_(s,e){return s.field.isEqual(e.field)&&(u=e.transform,(i=s.transform)instanceof La&&u instanceof La||i instanceof Xs&&u instanceof Xs?us(i.elements,u.elements,Oo):i instanceof Va&&u instanceof Va?Oo(i.Pe,u.Pe):i instanceof di&&u instanceof di);var i,u}(l,h))))&&(0===s.type?s.value.isEqual(e.value):1!==s.type||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask));var i,u}class Ua extends jI{constructor(e,t,i,u=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class gs extends jI{constructor(e,t,i,u,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=u,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function r_(s){const e=new Map;return s.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=s.data.field(t);e.set(t,i)}}),e}function HI(s,e,t){const i=new Map;Tt(s.length===t.length);for(let u=0;u<t.length;u++){const l=s[u],h=l.transform,g=e.data.field(l.field);i.set(l.field,UI(h,g,t[u]))}return i}function i_(s,e,t){const i=new Map;for(const u of s){const l=u.transform,h=t.data.field(u.field);i.set(u.field,SC(l,h,e))}return i}class Hu extends jI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class s_{constructor(e,t,i,u){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=u}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let u=0;u<this.mutations.length;u++){const l=this.mutations[u];l.key.isEqual(e.key)&&TD(l,e,i[u])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=$u(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=$u(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=np();return this.mutations.forEach(u=>{const l=e.get(u.key),h=l.overlayedDocument;let g=this.applyToLocalView(h,l.mutatedFields);g=t.has(u.key)?null:g;const E=Vr(h,g);null!==E&&i.set(u.key,E),h.isValidDocument()||h.convertToNoDocument(At.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),rn())}isEqual(e){return this.batchId===e.batchId&&us(this.mutations,e.mutations,(t,i)=>$I(t,i))&&us(this.baseMutations,e.baseMutations,(t,i)=>$I(t,i))}}class ap{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ta{constructor(e,t){this.count=e,this.unchangedNames=t}}var ur,An;function u_(s){if(void 0===s)return br("GRPC error has no .code"),Te.UNKNOWN;switch(s){case ur.OK:return Te.OK;case ur.CANCELLED:return Te.CANCELLED;case ur.UNKNOWN:return Te.UNKNOWN;case ur.DEADLINE_EXCEEDED:return Te.DEADLINE_EXCEEDED;case ur.RESOURCE_EXHAUSTED:return Te.RESOURCE_EXHAUSTED;case ur.INTERNAL:return Te.INTERNAL;case ur.UNAVAILABLE:return Te.UNAVAILABLE;case ur.UNAUTHENTICATED:return Te.UNAUTHENTICATED;case ur.INVALID_ARGUMENT:return Te.INVALID_ARGUMENT;case ur.NOT_FOUND:return Te.NOT_FOUND;case ur.ALREADY_EXISTS:return Te.ALREADY_EXISTS;case ur.PERMISSION_DENIED:return Te.PERMISSION_DENIED;case ur.FAILED_PRECONDITION:return Te.FAILED_PRECONDITION;case ur.ABORTED:return Te.ABORTED;case ur.OUT_OF_RANGE:return Te.OUT_OF_RANGE;case ur.UNIMPLEMENTED:return Te.UNIMPLEMENTED;case ur.DATA_LOSS:return Te.DATA_LOSS;default:return mt()}}(An=ur||(ur={}))[An.OK=0]="OK",An[An.CANCELLED=1]="CANCELLED",An[An.UNKNOWN=2]="UNKNOWN",An[An.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",An[An.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",An[An.NOT_FOUND=5]="NOT_FOUND",An[An.ALREADY_EXISTS=6]="ALREADY_EXISTS",An[An.PERMISSION_DENIED=7]="PERMISSION_DENIED",An[An.UNAUTHENTICATED=16]="UNAUTHENTICATED",An[An.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",An[An.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",An[An.ABORTED=10]="ABORTED",An[An.OUT_OF_RANGE=11]="OUT_OF_RANGE",An[An.UNIMPLEMENTED=12]="UNIMPLEMENTED",An[An.INTERNAL=13]="INTERNAL",An[An.UNAVAILABLE=14]="UNAVAILABLE",An[An.DATA_LOSS=15]="DATA_LOSS";const Bd=new Mu([4294967295,4294967295],0);function jd(s){const e=function up(){return new TextEncoder}().encode(s),t=new bf;return t.update(e),new Uint8Array(t.digest())}function c_(s){const e=new DataView(s.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),u=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Mu([t,i],0),new Mu([u,l],0)]}class cp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new $d(`Invalid padding: ${t}`);if(i<0)throw new $d(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new $d(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new $d(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Mu.fromNumber(this.Ie)}Ee(e,t,i){let u=e.add(t.multiply(Mu.fromNumber(i)));return 1===u.compare(Bd)&&(u=new Mu([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=jd(e),[i,u]=c_(t);for(let l=0;l<this.hashCount;l++){const h=this.Ee(i,u,l);if(!this.de(h))return!1}return!0}static create(e,t,i){const u=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new cp(l,u,t);return i.forEach(g=>h.insert(g)),h}insert(e){if(0===this.Ie)return;const t=jd(e),[i,u]=c_(t);for(let l=0;l<this.hashCount;l++){const h=this.Ee(i,u,l);this.Ae(h)}}Ae(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class $d extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Hd{constructor(e,t,i,u,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=u,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const u=new Map;return u.set(e,Gd.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Hd(At.min(),u,new qn(jt),Ui(),rn())}}class Gd{constructor(e,t,i,u,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=u,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Gd(i,t,rn(),rn(),rn())}}class lp{constructor(e,t,i,u){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=u}}class l_{constructor(e,t){this.targetId=e,this.me=t}}class DD{constructor(e,t,i=_r.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=u}}class zI{constructor(){this.fe=0,this.ge=d_(),this.pe=_r.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=rn(),t=rn(),i=rn();return this.ge.forEach((u,l)=>{switch(l){case 0:e=e.add(u);break;case 2:t=t.add(u);break;case 1:i=i.add(u);break;default:mt()}}),new Gd(this.pe,this.ye,e,t,i)}ve(){this.we=!1,this.ge=d_()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Tt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class RC{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ui(),this.qe=AD(),this.Qe=new qn(jt)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const i=this.Ge(t);switch(e.state){case 0:this.ze(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.ve(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),i.De(e.resumeToken));break;default:mt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,u)=>{this.ze(u)&&t(u)})}He(e){const t=e.targetId,i=e.me.count,u=this.Je(t);if(u){const l=u.target;if(ll(l))if(0===i){const h=new ut(l.path);this.Ue(t,h,sr.newNoDocument(h,At.min()))}else Tt(1===i);else{const h=this.Ye(t);if(h!==i){const g=this.Ze(e),E=g?this.Xe(g,e,h):1;0!==E&&(this.je(t),this.Qe=this.Qe.insert(t,2===E?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:u=0},hashCount:l=0}=t;let h,g;try{h=ds(i).toUint8Array()}catch(E){if(E instanceof hD)return Fi("Decoding the base64 bloom filter in existence filter failed ("+E.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw E}try{g=new cp(h,u,l)}catch(E){return Fi(E instanceof $d?"BloomFilter error: ":"Applying bloom filter failed: ",E),null}return 0===g.Ie?null:g}Xe(e,t,i){return t.me.count===i-this.nt(e,t.targetId)?0:2}nt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let u=0;return i.forEach(l=>{const h=this.Le.tt(),g=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(g)||(this.Ue(t,l,null),u++)}),u}rt(e){const t=new Map;this.Be.forEach((l,h)=>{const g=this.Je(h);if(g){if(l.current&&ll(g.target)){const E=new ut(g.target.path);null!==this.ke.get(E)||this.it(h,E)||this.Ue(h,E,sr.newNoDocument(E,e))}l.be&&(t.set(h,l.Ce()),l.ve())}});let i=rn();this.qe.forEach((l,h)=>{let g=!0;h.forEachWhile(E=>{const b=this.Je(E);return!b||"TargetPurposeLimboResolution"===b.purpose||(g=!1,!1)}),g&&(i=i.add(l))}),this.ke.forEach((l,h)=>h.setReadTime(e));const u=new Hd(e,t,this.Qe,this.ke,i);return this.ke=Ui(),this.qe=AD(),this.Qe=new qn(jt),u}$e(e,t){if(!this.ze(e))return;const i=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,i){if(!this.ze(e))return;const u=this.Ge(e);this.it(e,t)?u.Fe(t,1):u.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new zI,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Hn(jt),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||We("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new zI),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function AD(){return new qn(ut.comparator)}function d_(){return new qn(ut.comparator)}const WI={asc:"ASCENDING",desc:"DESCENDING"},PC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dp={and:"AND",or:"OR"};class qI{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function hp(s,e){return s.useProto3Json||xf(e)?e:{value:e}}function Et(s){return Tt(!!s),At.fromTimestamp(function(t){const i=ls(t);return new or(i.seconds,i.nanos)}(s))}function pp(s,e){const t=(u=s,new cn(["projects",u.projectId,"databases",u.database])).child("documents");var u;return void 0===e?t:t.child(e)}function zu(s){const e=cn.fromString(s);return Tt(eE(e)),e}function ms(s,e){const t=zu(e);if(t.get(1)!==s.databaseId.projectId)throw new qe(Te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+s.databaseId.projectId);if(t.get(3)!==s.databaseId.database)throw new qe(Te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+s.databaseId.database);return new ut(gl(t))}function zd(s,e){return function fp(s,e){return pp(s,e).canonicalString()}(s.databaseId,e)}function Wd(s){return new cn(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function gl(s){return Tt(s.length>4&&"documents"===s.get(4)),s.popFirst(5)}function QI(s,e){return{documents:[zd(s,e.path)]}}function mp(s,e){const t={structuredQuery:{}},i=e.path;let u;null!==e.collectionGroup?(u=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=zd(s,u);const l=function(b){if(0!==b.length)return Bi(Gn.create(b,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const h=function(b){if(0!==b.length)return b.map(x=>{return{field:Ba((Y=x).field),direction:SD(Y.dir)};var Y})}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const g=hp(s,e.limit);return null!==g&&(t.structuredQuery.limit=g),e.startAt&&(t.structuredQuery.startAt={before:(b=e.startAt).inclusive,values:b.position}),e.endAt&&(t.structuredQuery.endAt=function(b){return{before:!b.inclusive,values:b.position}}(e.endAt)),{_t:t,parent:u};var b}function YI(s){let e=function Wu(s){const e=zu(s);return 4===e.length?cn.emptyPath():gl(e)}(s.parent);const t=s.structuredQuery,i=t.from?t.from.length:0;let u=null;if(i>0){Tt(1===i);const x=t.from[0];x.allDescendants?u=x.collectionId:e=e.child(x.collectionId)}let l=[];t.where&&(l=function(B){const Y=ZI(B);return Y instanceof Gn&&Md(Y)?Y.getFilters():[Y]}(t.where));let h=[];t.orderBy&&(h=t.orderBy.map(Y=>{return new zf(_l((Ne=Y).field),function(Ue){switch(Ue){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ne.direction));var Ne}));let g=null;t.limit&&(g=function(B){let Y;return Y="object"==typeof B?B.value:B,xf(Y)?null:Y}(t.limit));let E=null;var B;t.startAt&&(E=new Qs((B=t.startAt).values||[],!!B.before));let b=null;return t.endAt&&(b=function(B){return new Qs(B.values||[],!B.before)}(t.endAt)),function MI(s,e,t,i,u,l,h,g){return new ka(s,e,t,i,u,l,h,g)}(e,u,h,l,g,"F",E,b)}function ZI(s){return void 0!==s.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=_l(t.unaryFilter.field);return Tn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const u=_l(t.unaryFilter.field);return Tn.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=_l(t.unaryFilter.field);return Tn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=_l(t.unaryFilter.field);return Tn.create(h,"!=",{nullValue:"NULL_VALUE"});default:return mt()}}(s):void 0!==s.fieldFilter?Tn.create(_l((t=s).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return mt()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==s.compositeFilter?function(t){return Gn.create(t.compositeFilter.filters.map(i=>ZI(i)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return mt()}}(t.compositeFilter.op))}(s):mt();var t}function SD(s){return WI[s]}function JI(s){return PC[s]}function XI(s){return dp[s]}function Ba(s){return{fieldPath:s.canonicalString()}}function _l(s){return dr.fromServerFormat(s.fieldPath)}function Bi(s){return s instanceof Tn?function(t){if("=="===t.op){if($f(t.value))return{unaryFilter:{field:Ba(t.field),op:"IS_NAN"}};if(Vu(t.value))return{unaryFilter:{field:Ba(t.field),op:"IS_NULL"}}}else if("!="===t.op){if($f(t.value))return{unaryFilter:{field:Ba(t.field),op:"IS_NOT_NAN"}};if(Vu(t.value))return{unaryFilter:{field:Ba(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ba(t.field),op:JI(t.op),value:t.value}}}(s):s instanceof Gn?function(t){const i=t.getFilters().map(u=>Bi(u));return 1===i.length?i[0]:{compositeFilter:{op:XI(t.op),filters:i}}}(s):mt()}function eE(s){return s.length>=4&&"projects"===s.get(0)&&"databases"===s.get(2)}class ja{constructor(e,t,i,u,l=At.min(),h=At.min(),g=_r.EMPTY_BYTE_STRING,E=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=u,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=g,this.expectedCount=E}withSequenceNumber(e){return new ja(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ja(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class _p{constructor(e){this.ct=e}}function __(s){const e=YI({parent:s.parent,structuredQuery:s.structuredQuery});return"LAST"===s.limitType?tp(e,e.limit,"L"):e}class Qu{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(hr(e.integerValue));else if("doubleValue"in e){const i=hr(e.doubleValue);isNaN(i)?this.Et(t,13):(this.Et(t,15),Nf(i)?t.dt(0):t.dt(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Et(t,20),"string"==typeof i&&(i=ls(i)),t.At(`${i.seconds||""}`),t.dt(i.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(ds(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.Et(t,45),t.dt(i.latitude||0),t.dt(i.longitude||0)}else"mapValue"in e?Wm(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):mt()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const i=e.fields||{};this.Et(t,55);for(const u of Object.keys(i))this.Rt(u,t),this.It(i[u],t)}wt(e,t){const i=e.values||[];this.Et(t,50);for(const u of i)this.It(u,t)}gt(e,t){this.Et(t,37),ut.fromName(e).path.forEach(i=>{this.Et(t,60),this.St(i,t)})}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}Qu.bt=new Qu;class aE{constructor(){this._n=new Il}addToCollectionParentIndex(e,t){return this._n.add(t),de.resolve()}getCollectionParents(e,t){return de.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return de.resolve()}deleteFieldIndex(e,t){return de.resolve()}deleteAllFieldIndexes(e){return de.resolve()}createTargetIndexes(e,t){return de.resolve()}getDocumentsMatchingTarget(e,t){return de.resolve(null)}getIndexType(e,t){return de.resolve(0)}getFieldIndexes(e,t){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,t){return de.resolve(no.min())}getMinOffsetFromCollectionGroup(e,t){return de.resolve(no.min())}updateCollectionGroup(e,t,i){return de.resolve()}updateIndexEntries(e,t){return de.resolve()}}class Il{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),u=this.index[t]||new Hn(cn.comparator),l=!u.has(i);return this.index[t]=u.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),u=this.index[t];return u&&u.has(i)}getEntries(e){return(this.index[e]||new Hn(cn.comparator)).toArray()}}new Uint8Array(0);class Mr{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Mr(e,Mr.DEFAULT_COLLECTION_PERCENTILE,Mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Mr.DEFAULT_COLLECTION_PERCENTILE=10,Mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mr.DEFAULT=new Mr(41943040,Mr.DEFAULT_COLLECTION_PERCENTILE,Mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mr.DISABLED=new Mr(-1,0,0);class Zu{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Zu(0)}static Ln(){return new Zu(-1)}}class kD{constructor(){this.changes=new Js(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,sr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?de.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class xC{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class P_{constructor(e,t,i,u){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=u}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(u=>(i=u,this.remoteDocumentCache.getEntry(e,t))).next(u=>(null!==i&&$u(i.mutation,u,io.empty(),or.now()),u))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,rn()).next(()=>i))}getLocalViewOfDocuments(e,t,i=rn()){const u=ko();return this.populateOverlays(e,u,t).next(()=>this.computeViews(e,t,u,i).next(l=>{let h=Ld();return l.forEach((g,E)=>{h=h.insert(g,E.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const i=ko();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,rn()))}populateOverlays(e,t,i){const u=[];return i.forEach(l=>{t.has(l)||u.push(l)}),this.documentOverlayCache.getOverlays(e,u).next(l=>{l.forEach((h,g)=>{t.set(h,g)})})}computeViews(e,t,i,u){let l=Ui();const h=rp(),g=rp();return t.forEach((E,b)=>{const x=i.get(b.key);u.has(b.key)&&(void 0===x||x.mutation instanceof gs)?l=l.insert(b.key,b):void 0!==x?(h.set(b.key,x.mutation.getFieldMask()),$u(x.mutation,b,x.mutation.getFieldMask(),or.now())):h.set(b.key,io.empty())}),this.recalculateAndSaveOverlays(e,l).next(E=>(E.forEach((b,x)=>h.set(b,x)),t.forEach((b,x)=>{var B;return g.set(b,new xC(x,null!==(B=h.get(b))&&void 0!==B?B:null))}),g))}recalculateAndSaveOverlays(e,t){const i=rp();let u=new qn((h,g)=>h-g),l=rn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const g of h)g.keys().forEach(E=>{const b=t.get(E);if(null===b)return;let x=i.get(E)||io.empty();x=g.applyToLocalView(b,x),i.set(E,x);const B=(u.get(g.batchId)||rn()).add(E);u=u.insert(g.batchId,B)})}).next(()=>{const h=[],g=u.getReverseIterator();for(;g.hasNext();){const E=g.getNext(),b=E.key,x=E.value,B=np();x.forEach(Y=>{if(!l.has(Y)){const ce=Vr(t.get(Y),i.get(Y));null!==ce&&B.set(Y,ce),l=l.add(Y)}}),h.push(this.documentOverlayCache.saveOverlays(e,b,B))}return de.waitFor(h)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,u){return ut.isDocumentKey((h=t).path)&&null===h.collectionGroup&&0===h.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function Zm(s){return null!==s.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,u):this.getDocumentsMatchingCollectionQuery(e,t,i,u);var h}getNextDocuments(e,t,i,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,u).next(l=>{const h=u-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,u-l.size):de.resolve(ko());let g=-1,E=l;return h.next(b=>de.forEach(b,(x,B)=>(g<B.largestBatchId&&(g=B.largestBatchId),l.get(x)?de.resolve():this.remoteDocumentCache.getEntry(e,x).next(Y=>{E=E.insert(x,Y)}))).next(()=>this.populateOverlays(e,b,l)).next(()=>this.computeViews(e,E,b,rn())).next(x=>({batchId:g,changes:Jm(x)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ut(t)).next(i=>{let u=Ld();return i.isFoundDocument()&&(u=u.insert(i.key,i)),u})}getDocumentsMatchingCollectionGroupQuery(e,t,i,u){const l=t.collectionGroup;let h=Ld();return this.indexManager.getCollectionParents(e,l).next(g=>de.forEach(g,E=>{const b=(B=t,Y=E.child(l),new ka(Y,null,B.explicitOrderBy.slice(),B.filters.slice(),B.limit,B.limitType,B.startAt,B.endAt));var B,Y;return this.getDocumentsMatchingCollectionQuery(e,b,i,u).next(x=>{x.forEach((B,Y)=>{h=h.insert(B,Y)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,i,u){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,u))).next(h=>{l.forEach((E,b)=>{const x=b.getKey();null===h.get(x)&&(h=h.insert(x,sr.newInvalidDocument(x)))});let g=Ld();return h.forEach((E,b)=>{const x=l.get(E);void 0!==x&&$u(x.mutation,b,io.empty(),or.now()),Fa(t,b)&&(g=g.insert(E,b))}),g})}}class yE{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return de.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,{id:(u=t).id,version:u.version,createTime:Et(u.createTime)}),de.resolve();var u}getNamedQuery(e,t){return de.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,{name:(u=t).name,query:__(u.bundledQuery),readTime:Et(u.readTime)}),de.resolve();var u}}class NC{constructor(){this.overlays=new qn(ut.comparator),this.hr=new Map}getOverlay(e,t){return de.resolve(this.overlays.get(t))}getOverlays(e,t){const i=ko();return de.forEach(t,u=>this.getOverlay(e,u).next(l=>{null!==l&&i.set(u,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((u,l)=>{this.ht(e,t,l)}),de.resolve()}removeOverlaysForBatchId(e,t,i){const u=this.hr.get(i);return void 0!==u&&(u.forEach(l=>this.overlays=this.overlays.remove(l)),this.hr.delete(i)),de.resolve()}getOverlaysForCollection(e,t,i){const u=ko(),l=t.length+1,h=new ut(t.child("")),g=this.overlays.getIteratorFrom(h);for(;g.hasNext();){const E=g.getNext().value,b=E.getKey();if(!t.isPrefixOf(b.path))break;b.path.length===l&&E.largestBatchId>i&&u.set(E.getKey(),E)}return de.resolve(u)}getOverlaysForCollectionGroup(e,t,i,u){let l=new qn((b,x)=>b-x);const h=this.overlays.getIterator();for(;h.hasNext();){const b=h.getNext().value;if(b.getKey().getCollectionGroup()===t&&b.largestBatchId>i){let x=l.get(b.largestBatchId);null===x&&(x=ko(),l=l.insert(b.largestBatchId,x)),x.set(b.getKey(),b)}}const g=ko(),E=l.getIterator();for(;E.hasNext()&&(E.getNext().value.forEach((b,x)=>g.set(b,x)),!(g.size()>=u)););return de.resolve(g)}ht(e,t,i){const u=this.overlays.get(i.key);if(null!==u){const h=this.hr.get(u.largestBatchId).delete(i.key);this.hr.set(u.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new ap(t,i));let l=this.hr.get(t);void 0===l&&(l=rn(),this.hr.set(t,l)),this.hr.set(t,l.add(i.key))}}class Dl{constructor(){this.Pr=new Hn(qr.Ir),this.Tr=new Hn(qr.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const i=new qr(e,t);this.Pr=this.Pr.add(i),this.Tr=this.Tr.add(i)}dr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Ar(new qr(e,t))}Rr(e,t){e.forEach(i=>this.removeReference(i,t))}Vr(e){const t=new ut(new cn([])),i=new qr(t,e),u=new qr(t,e+1),l=[];return this.Tr.forEachInRange([i,u],h=>{this.Ar(h),l.push(h.key)}),l}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new ut(new cn([])),i=new qr(t,e),u=new qr(t,e+1);let l=rn();return this.Tr.forEachInRange([i,u],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new qr(e,0),i=this.Pr.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class qr{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return ut.comparator(e.key,t.key)||jt(e.pr,t.pr)}static Er(e,t){return jt(e.pr,t.pr)||ut.comparator(e.key,t.key)}}class VD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new Hn(qr.Ir)}checkEmpty(e){return de.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,u){const l=this.yr;this.yr++;const h=new s_(l,t,i,u);this.mutationQueue.push(h);for(const g of u)this.wr=this.wr.add(new qr(g.key,l)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return de.resolve(h)}lookupMutationBatch(e,t){return de.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const u=this.br(t+1),l=u<0?0:u;return de.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new qr(t,0),u=new qr(t,Number.POSITIVE_INFINITY),l=[];return this.wr.forEachInRange([i,u],h=>{const g=this.Sr(h.pr);l.push(g)}),de.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Hn(jt);return t.forEach(u=>{const l=new qr(u,0),h=new qr(u,Number.POSITIVE_INFINITY);this.wr.forEachInRange([l,h],g=>{i=i.add(g.pr)})}),de.resolve(this.Dr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,u=i.length+1;let l=i;ut.isDocumentKey(l)||(l=l.child(""));const h=new qr(new ut(l),0);let g=new Hn(jt);return this.wr.forEachWhile(E=>{const b=E.key.path;return!!i.isPrefixOf(b)&&(b.length===u&&(g=g.add(E.pr)),!0)},h),de.resolve(this.Dr(g))}Dr(e){const t=[];return e.forEach(i=>{const u=this.Sr(i);null!==u&&t.push(u)}),t}removeMutationBatch(e,t){Tt(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let i=this.wr;return de.forEach(t.mutations,u=>{const l=new qr(u.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.wr=i})}Mn(e){}containsKey(e,t){const i=new qr(t,0),u=this.wr.firstAfterOrEqual(i);return de.resolve(t.isEqual(u&&u.key))}performConsistencyCheck(e){return de.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class M_{constructor(e){this.vr=e,this.docs=new qn(ut.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,u=this.docs.get(i),l=u?u.size:0,h=this.vr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return de.resolve(i?i.document.mutableCopy():sr.newInvalidDocument(t))}getEntries(e,t){let i=Ui();return t.forEach(u=>{const l=this.docs.get(u);i=i.insert(u,l?l.document.mutableCopy():sr.newInvalidDocument(u))}),de.resolve(i)}getDocumentsMatchingQuery(e,t,i,u){let l=Ui();const h=t.path,g=new ut(h.child("")),E=this.docs.getIteratorFrom(g);for(;E.hasNext();){const{key:b,value:{document:x}}=E.getNext();if(!h.isPrefixOf(b.path))break;b.path.length>h.length+1||lI(new no((s=x).readTime,s.key,-1),i)<=0||(u.has(x.key)||Fa(t,x))&&(l=l.insert(x.key,x.mutableCopy()))}var s;return de.resolve(l)}getAllFromCollectionGroup(e,t,i,u){mt()}Fr(e,t){return de.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new UD(this)}getSize(e){return de.resolve(this.size)}}class UD extends kD{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach((i,u)=>{u.isValidDocument()?t.push(this.ar.addEntry(e,u)):this.ar.removeEntry(i)}),de.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class vs{constructor(e){this.persistence=e,this.Mr=new Js(t=>Uu(t),Nd),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Dl,this.targetCount=0,this.Lr=Zu.Nn()}forEachTarget(e,t){return this.Mr.forEach((i,u)=>t(u)),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Or&&(this.Or=t),de.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Lr=new Zu(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,de.resolve()}updateTargetData(e,t){return this.qn(t),de.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,t,i){let u=0;const l=[];return this.Mr.forEach((h,g)=>{g.sequenceNumber<=t&&null===i.get(g.targetId)&&(this.Mr.delete(h),l.push(this.removeMatchingKeysForTargetId(e,g.targetId)),u++)}),de.waitFor(l).next(()=>u)}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,t){const i=this.Mr.get(t)||null;return de.resolve(i)}addMatchingKeys(e,t,i){return this.Nr.dr(t,i),de.resolve()}removeMatchingKeys(e,t,i){this.Nr.Rr(t,i);const u=this.persistence.referenceDelegate,l=[];return u&&t.forEach(h=>{l.push(u.markPotentiallyOrphaned(e,h))}),de.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),de.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Nr.gr(t);return de.resolve(i)}containsKey(e,t){return de.resolve(this.Nr.containsKey(t))}}class Xu{constructor(e,t){this.Br={},this.overlays={},this.kr=new ro(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new vs(this),this.indexManager=new aE,this.remoteDocumentCache=new M_(i=>this.referenceDelegate.Kr(i)),this.serializer=new _p(t),this.$r=new yE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new NC,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Br[e.toKey()];return i||(i=new VD(t,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,i){We("MemoryPersistence","Starting transaction:",e);const u=new hi(this.kr.next());return this.referenceDelegate.Ur(),i(u).next(l=>this.referenceDelegate.Wr(u).next(()=>l)).toPromise().then(l=>(u.raiseOnCommittedEvent(),l))}Gr(e,t){return de.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,t)))}}class hi extends Lm{constructor(e){super(),this.currentSequenceNumber=e}}class Is{constructor(e){this.persistence=e,this.zr=new Dl,this.jr=null}static Hr(e){return new Is(e)}get Jr(){if(this.jr)return this.jr;throw mt()}addReference(e,t,i){return this.zr.addReference(i,t),this.Jr.delete(i.toString()),de.resolve()}removeReference(e,t,i){return this.zr.removeReference(i,t),this.Jr.add(i.toString()),de.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),de.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach(u=>this.Jr.add(u.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(u=>{u.forEach(l=>this.Jr.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.Jr,i=>{const u=ut.fromPath(i);return this.Yr(e,u).next(l=>{l||t.removeEntry(u,At.min())})}).next(()=>(this.jr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Yr(e,t).next(i=>{i?this.Jr.delete(t.toString()):this.Jr.add(t.toString())})}Kr(e){return 0}Yr(e,t){return de.or([()=>de.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class Ya{constructor(e,t,i,u){this.targetId=e,this.fromCache=t,this.qi=i,this.Qi=u}static Ki(e,t){let i=rn(),u=rn();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:u=u.add(l.doc.key)}return new Ya(e,t.fromCache,i,u)}}class Al{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class tc{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,be.G6)()?8:function Vm(s){const e=s.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}((0,be.z$)())>0?6:4}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,i,u){const l={result:null};return this.ji(e,t).next(h=>{l.result=h}).next(()=>{if(!l.result)return this.Hi(e,t,u,i).next(h=>{l.result=h})}).next(()=>{if(l.result)return;const h=new Al;return this.Ji(e,t,h).next(g=>{if(l.result=g,this.Ui)return this.Yi(e,t,h,g.size)})}).next(()=>l.result)}Yi(e,t,i,u){return i.documentReadCount<this.Wi?(Yc()<=tt.in.DEBUG&&We("QueryEngine","SDK will not create cache indexes for query:",hl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),de.resolve()):(Yc()<=tt.in.DEBUG&&We("QueryEngine","Query:",hl(t),"scans",i.documentReadCount,"local documents and returns",u,"documents as results."),i.documentReadCount>this.Gi*u?(Yc()<=tt.in.DEBUG&&We("QueryEngine","The SDK decides to create cache indexes for query:",hl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wr(t))):de.resolve())}ji(e,t){if(Xf(t))return de.resolve(null);let i=Wr(t);return this.indexManager.getIndexType(e,i).next(u=>0===u?null:(null!==t.limit&&1===u&&(t=tp(t,null,"F"),i=Wr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const h=rn(...l);return this.zi.getDocuments(e,h).next(g=>this.indexManager.getMinOffset(e,i).next(E=>{const b=this.Zi(t,g);return this.Xi(t,b,h,E.readTime)?this.ji(e,tp(t,null,"F")):this.es(e,b,t,E)}))})))}Hi(e,t,i,u){return Xf(t)||u.isEqual(At.min())?de.resolve(null):this.zi.getDocuments(e,i).next(l=>{const h=this.Zi(t,l);return this.Xi(t,h,i,u)?de.resolve(null):(Yc()<=tt.in.DEBUG&&We("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),hl(t)),this.es(e,h,t,function Ou(s,e){const t=s.toTimestamp().seconds,i=s.toTimestamp().nanoseconds+1,u=At.fromTimestamp(1e9===i?new or(t+1,0):new or(t,i));return new no(u,ut.empty(),e)}(u,-1)).next(g=>g))})}Zi(e,t){let i=new Hn(ju(e));return t.forEach((u,l)=>{Fa(e,l)&&(i=i.add(l))}),i}Xi(e,t,i,u){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const l="F"===e.limitType?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(u)>0)}Ji(e,t,i){return Yc()<=tt.in.DEBUG&&We("QueryEngine","Using full collection scan to execute query:",hl(t)),this.zi.getDocumentsMatchingQuery(e,t,no.min(),i)}es(e,t,i,u){return this.zi.getDocumentsMatchingQuery(e,i,u).next(l=>(t.forEach(h=>{l=l.insert(h.key,h)}),l))}}class Cl{constructor(e,t,i,u){this.persistence=e,this.ts=t,this.serializer=u,this.ns=new qn(jt),this.rs=new Js(l=>Uu(l),Nd),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(i)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new P_(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ns))}}function N_(s,e){return Sp.apply(this,arguments)}function Sp(){return(Sp=(0,W.Z)(function*(s,e){const t=it(s);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let u;return t.mutationQueue.getAllMutationBatches(i).next(l=>(u=l,t._s(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const h=[],g=[];let E=rn();for(const b of u){h.push(b.batchId);for(const x of b.mutations)E=E.add(x.key)}for(const b of l){g.push(b.batchId);for(const x of b.mutations)E=E.add(x.key)}return t.localDocuments.getDocuments(i,E).next(b=>({us:b,removedBatchIds:h,addedBatchIds:g}))})})})).apply(this,arguments)}function O_(s){const e=it(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Qr.getLastRemoteSnapshotVersion(t))}function Za(s,e,t){return F_.apply(this,arguments)}function F_(){return(F_=(0,W.Z)(function*(s,e,t){const i=it(s),u=i.ns.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",l,h=>i.persistence.referenceDelegate.removeTarget(h,u)))}catch(h){if(!Pa(h))throw h;We("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}i.ns=i.ns.remove(e),i.rs.delete(u.target)})).apply(this,arguments)}function L_(s,e,t){const i=it(s);let u=At.min(),l=rn();return i.persistence.runTransaction("Execute query","readwrite",h=>function(E,b,x){const B=it(E),Y=B.rs.get(x);return void 0!==Y?de.resolve(B.ns.get(Y)):B.Qr.getTargetData(b,x)}(i,h,Wr(e)).next(g=>{if(g)return u=g.lastLimboFreeSnapshotVersion,i.Qr.getMatchingKeysForTargetId(h,g.targetId).next(E=>{l=E})}).next(()=>i.ts.getDocumentsMatchingQuery(h,e,t?u:At.min(),t?l:rn())).next(g=>(function wE(s,e,t){let i=s.ss.get(e)||At.min();t.forEach((u,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),s.ss.set(e,i)}(i,function NI(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}(e),g),{documents:g,hs:l})))}class oc{constructor(){this.activeTargetIds=function ip(){return vD}()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class CE{constructor(){this.no=new oc,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,i){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new oc,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class th{io(e){}shutdown(){}}class bE{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){We("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){We("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Mp=null;function B_(){return null===Mp?Mp=268435456+Math.round(2147483648*Math.random()):Mp++,"0x"+Mp.toString(16)}const jD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class j_{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}const Ur="WebChannelConnection";class xp extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.wo=i+"://"+t.host,this.So=`projects/${u}/databases/${l}`,this.bo="(default)"===this.databaseId.database?`project_id=${u}`:`project_id=${u}&database_id=${l}`}get Do(){return!1}Co(t,i,u,l,h){const g=B_(),E=this.vo(t,i.toUriEncodedString());We("RestConnection",`Sending RPC '${t}' ${g}:`,E,u);const b={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(b,l,h),this.Mo(t,E,b,u).then(x=>(We("RestConnection",`Received RPC '${t}' ${g}: `,x),x),x=>{throw Fi("RestConnection",`RPC '${t}' ${g} failed with error: `,x,"url: ",E,"request:",u),x})}xo(t,i,u,l,h,g){return this.Co(t,i,u,l,h)}Fo(t,i,u){t["X-Goog-Api-Client"]="gl-js/ fire/"+Qc,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,h)=>t[h]=l),u&&u.headers.forEach((l,h)=>t[h]=l)}vo(t,i){return`${this.wo}/v1/${i}:${jD[t]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,t,i,u){const l=B_();return new Promise((h,g)=>{const E=new Kc;E.setWithCredentials(!0),E.listenOnce(Rm.COMPLETE,()=>{try{switch(E.getLastErrorCode()){case wd.NO_ERROR:const x=E.getResponseJson();We(Ur,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(x)),h(x);break;case wd.TIMEOUT:We(Ur,`RPC '${e}' ${l} timed out`),g(new qe(Te.DEADLINE_EXCEEDED,"Request time out"));break;case wd.HTTP_ERROR:const B=E.getStatus();if(We(Ur,`RPC '${e}' ${l} failed with status:`,B,"response text:",E.getResponseText()),B>0){let Y=E.getResponseJson();Array.isArray(Y)&&(Y=Y[0]);const ce=Y?.error;if(ce&&ce.status&&ce.message){const Ne=function(Ue){const _t=Ue.toLowerCase().replace(/_/g,"-");return Object.values(Te).indexOf(_t)>=0?_t:Te.UNKNOWN}(ce.status);g(new qe(Ne,ce.message))}else g(new qe(Te.UNKNOWN,"Server responded with status "+E.getStatus()))}else g(new qe(Te.UNAVAILABLE,"Connection failed."));break;default:mt()}}finally{We(Ur,`RPC '${e}' ${l} completed.`)}});const b=JSON.stringify(u);We(Ur,`RPC '${e}' ${l} sending request:`,u),E.send(t,"POST",b,i,15)})}Oo(e,t,i){const u=B_(),l=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Pm(),g=Dd(),E={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},b=this.longPollingOptions.timeoutSeconds;void 0!==b&&(E.longPollingTimeout=Math.round(1e3*b)),this.useFetchStreams&&(E.xmlHttpFactory=new oI({})),this.Fo(E.initMessageHeaders,t,i),E.encodeInitMessageHeaders=!0;const x=l.join("");We(Ur,`Creating RPC '${e}' stream ${u}: ${x}`,E);const B=h.createWebChannel(x,E);let Y=!1,ce=!1;const Ne=new j_({lo:Ue=>{ce?We(Ur,`Not sending because RPC '${e}' stream ${u} is closed:`,Ue):(Y||(We(Ur,`Opening RPC '${e}' stream ${u} transport.`),B.open(),Y=!0),We(Ur,`RPC '${e}' stream ${u} sending:`,Ue),B.send(Ue))},ho:()=>B.close()}),Ye=(Ue,_t,Pt)=>{Ue.listen(_t,yt=>{try{Pt(yt)}catch(Qt){setTimeout(()=>{throw Qt},0)}})};return Ye(B,Td.EventType.OPEN,()=>{ce||(We(Ur,`RPC '${e}' stream ${u} transport opened.`),Ne.mo())}),Ye(B,Td.EventType.CLOSE,()=>{ce||(ce=!0,We(Ur,`RPC '${e}' stream ${u} transport closed`),Ne.po())}),Ye(B,Td.EventType.ERROR,Ue=>{ce||(ce=!0,Fi(Ur,`RPC '${e}' stream ${u} transport errored:`,Ue),Ne.po(new qe(Te.UNAVAILABLE,"The operation could not be completed")))}),Ye(B,Td.EventType.MESSAGE,Ue=>{var _t;if(!ce){const Pt=Ue.data[0];Tt(!!Pt);const Qt=Pt.error||(null===(_t=Pt[0])||void 0===_t?void 0:_t.error);if(Qt){We(Ur,`RPC '${e}' stream ${u} received error:`,Qt);const Ht=Qt.status;let Xt=function(ee){const re=ur[ee];if(void 0!==re)return u_(re)}(Ht),ne=Qt.message;void 0===Xt&&(Xt=Te.INTERNAL,ne="Unknown error status: "+Ht+" with message "+Qt.message),ce=!0,Ne.po(new qe(Xt,ne)),B.close()}else We(Ur,`RPC '${e}' stream ${u} received:`,Pt),Ne.yo(Pt)}}),Ye(g,xu.STAT_EVENT,Ue=>{Ue.stat===Sf.PROXY?We(Ur,`RPC '${e}' stream ${u} detected buffering proxy`):Ue.stat===Sf.NOPROXY&&We(Ur,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{Ne.fo()},0),Ne}}function Np(){return typeof document<"u"?document:null}function nh(s){return new qI(s,!0)}class rh{constructor(e,t,i=1e3,u=1.5,l=6e4){this.oi=e,this.timerId=t,this.No=i,this.Lo=u,this.Bo=l,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const t=Math.floor(this.ko+this.Uo()),i=Math.max(0,Date.now()-this.Qo),u=Math.max(0,t-i);u>0&&We("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.ko} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,u,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class HD{constructor(e,t,i,u,l,h,g,E){this.oi=e,this.Go=i,this.zo=u,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=g,this.listener=E,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new rh(e,t)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}stop(){var e=this;return(0,W.Z)(function*(){e.Zo()&&(yield e.close(0))})()}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){var e=this;return(0,W.Z)(function*(){if(e.Xo())return e.close(0)})()}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,t){var i=this;return(0,W.Z)(function*(){i.s_(),i.o_(),i.Yo.cancel(),i.jo++,4!==e?i.Yo.reset():t&&t.code===Te.RESOURCE_EXHAUSTED?(br(t.toString()),br("Using maximum backoff delay to prevent overloading the backend."),i.Yo.Ko()):t&&t.code===Te.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.__(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Ao(t)})()}__(){}auth(){this.state=1;const e=this.a_(this.jo),t=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,u])=>{this.jo===t&&this.u_(i,u)},i=>{e(()=>{const u=new qe(Te.UNKNOWN,"Fetching auth token failed: "+i.message);return this.c_(u)})})}u_(e,t){const i=this.a_(this.jo);this.stream=this.l_(e,t),this.stream.Po(()=>{i(()=>this.listener.Po())}),this.stream.To(()=>{i(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(u=>{i(()=>this.c_(u))}),this.stream.onMessage(u=>{i(()=>this.onMessage(u))})}e_(){var e=this;this.state=5,this.Yo.$o((0,W.Z)(function*(){e.state=0,e.start()}))}c_(e){return We("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return t=>{this.oi.enqueueAndForget(()=>this.jo===e?t():(We("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class SE extends HD{constructor(e,t,i,u,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,u,h),this.serializer=l}l_(e,t){return this.connection.Oo("Listen",e,t)}onMessage(e){this.Yo.reset();const t=function g_(s,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(b=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===b?1:"REMOVE"===b?2:"CURRENT"===b?3:"RESET"===b?4:mt(),u=e.targetChange.targetIds||[],l=function(b,x){return b.useProto3Json?(Tt(void 0===x||"string"==typeof x),_r.fromBase64String(x||"")):(Tt(void 0===x||x instanceof Buffer||x instanceof Uint8Array),_r.fromUint8Array(x||new Uint8Array))}(s,e.targetChange.resumeToken),h=e.targetChange.cause,g=h&&function(b){const x=void 0===b.code?Te.UNKNOWN:u_(b.code);return new qe(x,b.message||"")}(h);t=new DD(i,u,l,g||null)}else if("documentChange"in e){const i=e.documentChange,u=ms(s,i.document.name),l=Et(i.document.updateTime),h=i.document.createTime?Et(i.document.createTime):At.min(),g=new Lr({mapValue:{fields:i.document.fields}}),E=sr.newFoundDocument(u,l,h,g);t=new lp(i.targetIds||[],i.removedTargetIds||[],E.key,E)}else if("documentDelete"in e){const i=e.documentDelete,u=ms(s,i.document),l=i.readTime?Et(i.readTime):At.min(),h=sr.newNoDocument(u,l);t=new lp([],i.removedTargetIds||[],h.key,h)}else if("documentRemove"in e){const i=e.documentRemove,u=ms(s,i.document);t=new lp([],i.removedTargetIds||[],u,null)}else{if(!("filter"in e))return mt();{const i=e.filter,{count:u=0,unchangedNames:l}=i,h=new ta(u,l);t=new l_(i.targetId,h)}}var b;return t}(this.serializer,e),i=function(l){if(!("targetChange"in l))return At.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?At.min():h.readTime?Et(h.readTime):At.min()}(e);return this.listener.h_(t,i)}P_(e){const t={};t.database=Wd(this.serializer),t.addTarget=function(l,h){let g;const E=h.target;if(g=ll(E)?{documents:QI(l,E)}:{query:mp(l,E)._t},g.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){g.resumeToken=function h_(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}(l,h.resumeToken);const b=hp(l,h.expectedCount);null!==b&&(g.expectedCount=b)}else if(h.snapshotVersion.compareTo(At.min())>0){g.readTime=function fl(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}(l,h.snapshotVersion.toTimestamp());const b=hp(l,h.expectedCount);null!==b&&(g.expectedCount=b)}return g}(this.serializer,e);const i=function bD(s,e){const t=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.i_(t)}I_(e){const t={};t.database=Wd(this.serializer),t.removeTarget=e,this.i_(t)}}class zD extends class{}{constructor(e,t,i,u){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=u,this.m_=!1}f_(){if(this.m_)throw new qe(Te.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,t,i,u){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.Co(e,pp(t,i),u,l,h)).catch(l=>{throw"FirebaseError"===l.name?(l.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new qe(Te.UNKNOWN,l.toString())})}xo(e,t,i,u,l){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,g])=>this.connection.xo(e,pp(t,i),u,h,g,l)).catch(h=>{throw"FirebaseError"===h.name?(h.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new qe(Te.UNKNOWN,h.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class RE{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(br(t),this.y_=!1):We("OnlineStateTracker",t)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class PE{constructor(e,t,i,u,l){var h=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=l,this.O_.io(g=>{i.enqueueAndForget((0,W.Z)(function*(){var E;Ts(h)&&(We("RemoteStore","Restarting streams for network reachability change."),yield(E=(0,W.Z)(function*(x){const B=it(x);B.M_.add(4),yield Sl(B),B.N_.set("Unknown"),B.M_.delete(4),yield bl(B)}),function b(x){return E.apply(this,arguments)})(h))}))}),this.N_=new RE(i,u)}}function bl(s){return $_.apply(this,arguments)}function $_(){return($_=(0,W.Z)(function*(s){if(Ts(s))for(const e of s.x_)yield e(!0)})).apply(this,arguments)}function Sl(s){return H_.apply(this,arguments)}function H_(){return(H_=(0,W.Z)(function*(s){for(const e of s.x_)yield e(!1)})).apply(this,arguments)}function Op(s,e){const t=it(s);t.F_.has(e.targetId)||(t.F_.set(e.targetId,e),Pl(t)?Rl(t):ac(t).Xo()&&ih(t,e))}function Xa(s,e){const t=it(s),i=ac(t);t.F_.delete(e),i.Xo()&&ME(t,e),0===t.F_.size&&(i.Xo()?i.n_():Ts(t)&&t.N_.set("Unknown"))}function ih(s,e){if(s.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(At.min())>0){const t=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ac(s).P_(e)}function ME(s,e){s.L_.xe(e),ac(s).I_(e)}function Rl(s){s.L_=new RC({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>s.F_.get(e)||null,tt:()=>s.datastore.serializer.databaseId}),ac(s).start(),s.N_.w_()}function Pl(s){return Ts(s)&&!ac(s).Zo()&&s.F_.size>0}function Ts(s){return 0===it(s).M_.size}function G_(s){s.L_=void 0}function WD(s){return z_.apply(this,arguments)}function z_(){return(z_=(0,W.Z)(function*(s){s.N_.set("Online")})).apply(this,arguments)}function qD(s){return oh.apply(this,arguments)}function oh(){return(oh=(0,W.Z)(function*(s){s.F_.forEach((e,t)=>{ih(s,e)})})).apply(this,arguments)}function W_(s,e){return kp.apply(this,arguments)}function kp(){return(kp=(0,W.Z)(function*(s,e){G_(s),Pl(s)?(s.N_.D_(e),Rl(s)):s.N_.set("Unknown")})).apply(this,arguments)}function xE(s,e,t){return q_.apply(this,arguments)}function q_(){return q_=(0,W.Z)(function*(s,e,t){if(s.N_.set("Online"),e instanceof DD&&2===e.state&&e.cause)try{yield(i=(0,W.Z)(function*(l,h){const g=h.cause;for(const E of h.targetIds)l.F_.has(E)&&(yield l.remoteSyncer.rejectListen(E,g),l.F_.delete(E),l.L_.removeTarget(E))}),function u(l,h){return i.apply(this,arguments)})(s,e)}catch(i){We("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Fp(s,i)}else if(e instanceof lp?s.L_.Ke(e):e instanceof l_?s.L_.He(e):s.L_.We(e),!t.isEqual(At.min()))try{const i=yield O_(s.localStore);t.compareTo(i)>=0&&(yield function(l,h){const g=l.L_.rt(h);return g.targetChanges.forEach((E,b)=>{if(E.resumeToken.approximateByteSize()>0){const x=l.F_.get(b);x&&l.F_.set(b,x.withResumeToken(E.resumeToken,h))}}),g.targetMismatches.forEach((E,b)=>{const x=l.F_.get(E);if(!x)return;l.F_.set(E,x.withResumeToken(_r.EMPTY_BYTE_STRING,x.snapshotVersion)),ME(l,E);const B=new ja(x.target,E,b,x.sequenceNumber);ih(l,B)}),l.remoteSyncer.applyRemoteEvent(g)}(s,t))}catch(i){We("RemoteStore","Failed to raise snapshot:",i),yield Fp(s,i)}var i}),q_.apply(this,arguments)}function Fp(s,e,t){return Lp.apply(this,arguments)}function Lp(){return(Lp=(0,W.Z)(function*(s,e,t){if(!Pa(e))throw e;s.M_.add(1),yield Sl(s),s.N_.set("Offline"),t||(t=()=>O_(s.localStore)),s.asyncQueue.enqueueRetryable((0,W.Z)(function*(){We("RemoteStore","Retrying IndexedDB access"),yield t(),s.M_.delete(1),yield bl(s)}))})).apply(this,arguments)}function J_(s,e){return $p.apply(this,arguments)}function $p(){return($p=(0,W.Z)(function*(s,e){const t=it(s);t.asyncQueue.verifyOperationInProgress(),We("RemoteStore","RemoteStore received new credentials");const i=Ts(t);t.M_.add(3),yield Sl(t),i&&t.N_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.M_.delete(3),yield bl(t)})).apply(this,arguments)}function Hp(s,e){return Gp.apply(this,arguments)}function Gp(){return(Gp=(0,W.Z)(function*(s,e){const t=it(s);e?(t.M_.delete(2),yield bl(t)):e||(t.M_.add(2),yield Sl(t),t.N_.set("Unknown"))})).apply(this,arguments)}function ac(s){return s.B_||(s.B_=function(t,i,u){const l=it(t);return l.f_(),new SE(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,u)}(s.datastore,s.asyncQueue,{Po:WD.bind(null,s),To:qD.bind(null,s),Ao:W_.bind(null,s),h_:xE.bind(null,s)}),s.x_.push(function(){var e=(0,W.Z)(function*(t){t?(s.B_.t_(),Pl(s)?Rl(s):s.N_.set("Unknown")):(yield s.B_.stop(),G_(s))});return function(t){return e.apply(this,arguments)}}())),s.B_}class zp{constructor(e,t,i,u,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=u,this.removalCallback=l,this.deferred=new ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,u,l){const h=Date.now()+i,g=new zp(e,t,h,u,l);return g.start(i),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new qe(Te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function oa(s,e){if(br("AsyncQueue",`${e}: ${s}`),Pa(s))return new qe(Te.UNAVAILABLE,`${e}: ${s}`);throw s}class oo{constructor(e){this.comparator=e?(t,i)=>e(t,i)||ut.comparator(t.key,i.key):(t,i)=>ut.comparator(t.key,i.key),this.keyedMap=Ld(),this.sortedSet=new qn(this.comparator)}static emptySet(e){return new oo(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof oo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const u=t.getNext().key,l=i.getNext().key;if(!u.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new oo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class kE{constructor(){this.q_=new qn(ut.comparator)}track(e){const t=e.doc.key,i=this.q_.get(t);i?0!==e.type&&3===i.type?this.q_=this.q_.insert(t,e):3===e.type&&1!==i.type?this.q_=this.q_.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.q_=this.q_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.q_=this.q_.remove(t):1===e.type&&2===i.type?this.q_=this.q_.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):mt():this.q_=this.q_.insert(t,e)}Q_(){const e=[];return this.q_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Ml{constructor(e,t,i,u,l,h,g,E,b){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=u,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=g,this.excludesMetadataChanges=E,this.hasCachedResults=b}static fromInitialDocuments(e,t,i,u,l){const h=[];return t.forEach(g=>{h.push({type:0,doc:g})}),new Ml(e,t,oo.emptySet(t),h,i,u,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let u=0;u<t.length;u++)if(t[u].type!==i[u].type||!t[u].doc.isEqual(i[u].doc))return!1;return!0}}class X_{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class uc{constructor(){this.queries=new Js(e=>yD(e),dl),this.onlineState="Unknown",this.z_=new Set}}function ey(){return(ey=(0,W.Z)(function*(s,e){const t=it(s);let i=3;const u=e.query;let l=t.queries.get(u);l?!l.W_()&&e.G_()&&(i=2):(l=new X_,i=e.G_()?0:1);try{switch(i){case 0:l.K_=yield t.onListen(u,!0);break;case 1:l.K_=yield t.onListen(u,!1);break;case 2:yield t.onFirstRemoteStoreListen(u)}}catch(h){const g=oa(h,`Initialization of query '${hl(e.query)}' failed`);return void e.onError(g)}t.queries.set(u,l),l.U_.push(e),e.j_(t.onlineState),l.K_&&e.H_(l.K_)&&ty(t)})).apply(this,arguments)}function FE(){return(FE=(0,W.Z)(function*(s,e){const t=it(s),i=e.query;let u=3;const l=t.queries.get(i);if(l){const h=l.U_.indexOf(e);h>=0&&(l.U_.splice(h,1),0===l.U_.length?u=e.G_()?0:1:!l.W_()&&e.G_()&&(u=2))}switch(u){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}})).apply(this,arguments)}function FC(s,e){const t=it(s);let i=!1;for(const u of e){const h=t.queries.get(u.query);if(h){for(const g of h.U_)g.H_(u)&&(i=!0);h.K_=u}}i&&ty(t)}function ZD(s,e,t){const i=it(s),u=i.queries.get(e);if(u)for(const l of u.U_)l.onError(t);i.queries.delete(e)}function ty(s){s.z_.forEach(e=>{e.next()})}var Wp,LE;(LE=Wp||(Wp={})).J_="default",LE.Cache="cache";class Sr{constructor(e,t,i){this.query=e,this.Y_=t,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=i||{}}H_(e){if(!this.options.includeMetadataChanges){const i=[];for(const u of e.docChanges)3!==u.type&&i.push(u);e=new Ml(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),t=!0):this.ta(e,this.onlineState)&&(this.na(e),t=!0),this.X_=e,t}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let t=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),t=!0),t}ta(e,t){return!e.fromCache||!this.G_()||(!this.options.ra||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ea(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}na(e){e=Ml.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==Wp.Cache}}class BE{constructor(e){this.key=e}}class ry{constructor(e){this.key=e}}class iy{constructor(e,t){this.query=e,this.la=t,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=rn(),this.mutatedKeys=rn(),this.Ia=ju(e),this.Ta=new oo(this.Ia)}get Ea(){return this.la}da(e,t){const i=t?t.Aa:new kE,u=t?t.Ta:this.Ta;let l=t?t.mutatedKeys:this.mutatedKeys,h=u,g=!1;const E="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,b="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((x,B)=>{const Y=u.get(x),ce=Fa(this.query,B)?B:null,Ne=!!Y&&this.mutatedKeys.has(Y.key),Ye=!!ce&&(ce.hasLocalMutations||this.mutatedKeys.has(ce.key)&&ce.hasCommittedMutations);let Ue=!1;Y&&ce?Y.data.isEqual(ce.data)?Ne!==Ye&&(i.track({type:3,doc:ce}),Ue=!0):this.Ra(Y,ce)||(i.track({type:2,doc:ce}),Ue=!0,(E&&this.Ia(ce,E)>0||b&&this.Ia(ce,b)<0)&&(g=!0)):!Y&&ce?(i.track({type:0,doc:ce}),Ue=!0):Y&&!ce&&(i.track({type:1,doc:Y}),Ue=!0,(E||b)&&(g=!0)),Ue&&(ce?(h=h.add(ce),l=Ye?l.add(x):l.delete(x)):(h=h.delete(x),l=l.delete(x)))}),null!==this.query.limit)for(;h.size>this.query.limit;){const x="F"===this.query.limitType?h.last():h.first();h=h.delete(x.key),l=l.delete(x.key),i.track({type:1,doc:x})}return{Ta:h,Aa:i,Xi:g,mutatedKeys:l}}Ra(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,u){const l=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const h=e.Aa.Q_();h.sort((x,B)=>function(ce,Ne){const Ye=Ue=>{switch(Ue){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt()}};return Ye(ce)-Ye(Ne)}(x.type,B.type)||this.Ia(x.doc,B.doc)),this.Va(i),u=null!=u&&u;const g=t&&!u?this.ma():[],E=0===this.Pa.size&&this.current&&!u?1:0,b=E!==this.ha;return this.ha=E,0!==h.length||b?{snapshot:new Ml(this.query,e.Ta,l,h,e.mutatedKeys,0===E,b,!1,!!i&&i.resumeToken.approximateByteSize()>0),fa:g}:{fa:g}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new kE,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(t=>this.la=this.la.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.la=this.la.delete(t)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=rn(),this.Ta.forEach(i=>{this.ga(i.key)&&(this.Pa=this.Pa.add(i.key))});const t=[];return e.forEach(i=>{this.Pa.has(i)||t.push(new ry(i))}),this.Pa.forEach(i=>{e.has(i)||t.push(new BE(i))}),t}pa(e){this.la=e.hs,this.Pa=rn();const t=this.da(e.documents);return this.applyChanges(t,!0)}ya(){return Ml.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class xl{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class XD{constructor(e){this.key=e,this.wa=!1}}class e0{constructor(e,t,i,u,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=u,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.Sa={},this.ba=new Js(g=>yD(g),dl),this.Da=new Map,this.Ca=new Set,this.va=new qn(ut.comparator),this.Fa=new Map,this.Ma=new Dl,this.xa={},this.Oa=new Map,this.Na=Zu.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}function jE(s,e){return oy.apply(this,arguments)}function oy(){return(oy=(0,W.Z)(function*(s,e,t=!0){const i=rg(s);let u;const l=i.ba.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),u=l.view.ya()):u=yield sy(i,e,t,!0),u})).apply(this,arguments)}function $E(s,e){return HE.apply(this,arguments)}function HE(){return(HE=(0,W.Z)(function*(s,e){const t=rg(s);yield sy(t,e,!0,!1)})).apply(this,arguments)}function sy(s,e,t,i){return qp.apply(this,arguments)}function qp(){return(qp=(0,W.Z)(function*(s,e,t,i){const u=yield function nc(s,e){const t=it(s);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let u;return t.Qr.getTargetData(i,e).next(l=>l?(u=l,de.resolve(u)):t.Qr.allocateTargetId(i).next(h=>(u=new ja(e,h,"TargetPurposeListen",i.currentSequenceNumber),t.Qr.addTargetData(i,u).next(()=>u))))}).then(i=>{const u=t.ns.get(i.targetId);return(null===u||i.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(t.ns=t.ns.insert(i.targetId,i),t.rs.set(e,i.targetId)),i})}(s.localStore,Wr(e)),l=u.targetId,h=t?s.sharedClientState.addLocalQueryTarget(l):"not-current";let g;return i&&(g=yield function Do(s,e,t,i,u){return ay.apply(this,arguments)}(s,e,l,"current"===h,u.resumeToken)),s.isPrimaryClient&&t&&Op(s.remoteStore,u),g})).apply(this,arguments)}function ay(){return ay=(0,W.Z)(function*(s,e,t,i,u){s.Ba=(B,Y,ce)=>{return(Ne=(0,W.Z)(function*(Ue,_t,Pt,yt){let Qt=_t.view.da(Pt);Qt.Xi&&(Qt=yield L_(Ue.localStore,_t.query,!1).then(({documents:K})=>_t.view.da(K,Qt)));const Ht=yt&&yt.targetChanges.get(_t.targetId),Xt=yt&&null!=yt.targetMismatches.get(_t.targetId),ne=_t.view.applyChanges(Qt,Ue.isPrimaryClient,Ht,Xt);return Zp(Ue,_t.targetId,ne.fa),ne.snapshot}),function Ye(Ue,_t,Pt,yt){return Ne.apply(this,arguments)})(s,B,Y,ce);var Ne};const l=yield L_(s.localStore,e,!0),h=new iy(e,l.hs),g=h.da(l.documents),E=Gd.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==s.onlineState,u),b=h.applyChanges(g,s.isPrimaryClient,E);Zp(s,t,b.fa);const x=new xl(e,t,h);return s.ba.set(e,x),s.Da.has(t)?s.Da.get(t).push(e):s.Da.set(t,[e]),b.snapshot}),ay.apply(this,arguments)}function t0(s,e,t){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,W.Z)(function*(s,e,t){const i=it(s),u=i.ba.get(e),l=i.Da.get(u.targetId);if(l.length>1)return i.Da.set(u.targetId,l.filter(h=>!dl(h,e))),void i.ba.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(u.targetId),i.sharedClientState.isActiveQueryTarget(u.targetId)||(yield Za(i.localStore,u.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(u.targetId),t&&Xa(i.remoteStore,u.targetId),Ol(i,u.targetId)}).catch(Sa))):(Ol(i,u.targetId),yield Za(i.localStore,u.targetId,!0))})).apply(this,arguments)}function Lo(s,e){return so.apply(this,arguments)}function so(){return(so=(0,W.Z)(function*(s,e){const t=it(s),i=t.ba.get(e),u=t.Da.get(i.targetId);t.isPrimaryClient&&1===u.length&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Xa(t.remoteStore,i.targetId))})).apply(this,arguments)}function zE(s,e){return uy.apply(this,arguments)}function uy(){return(uy=(0,W.Z)(function*(s,e){const t=it(s);try{const i=yield function IE(s,e){const t=it(s),i=e.snapshotVersion;let u=t.ns;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.os.newChangeBuffer({trackRemovals:!0});u=t.ns;const g=[];e.targetChanges.forEach((x,B)=>{const Y=u.get(B);if(!Y)return;g.push(t.Qr.removeMatchingKeys(l,x.removedDocuments,B).next(()=>t.Qr.addMatchingKeys(l,x.addedDocuments,B)));let ce=Y.withSequenceNumber(l.currentSequenceNumber);var Ye,Ue,_t;null!==e.targetMismatches.get(B)?ce=ce.withResumeToken(_r.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):x.resumeToken.approximateByteSize()>0&&(ce=ce.withResumeToken(x.resumeToken,i)),u=u.insert(B,ce),Ue=ce,_t=x,(0===(Ye=Y).resumeToken.approximateByteSize()||Ue.snapshotVersion.toMicroseconds()-Ye.snapshotVersion.toMicroseconds()>=3e8||_t.addedDocuments.size+_t.modifiedDocuments.size+_t.removedDocuments.size>0)&&g.push(t.Qr.updateTargetData(l,ce))});let E=Ui(),b=rn();if(e.documentUpdates.forEach(x=>{e.resolvedLimboDocuments.has(x)&&g.push(t.persistence.referenceDelegate.updateLimboDocument(l,x))}),g.push(function k_(s,e,t){let i=rn(),u=rn();return t.forEach(l=>i=i.add(l)),e.getEntries(s,i).next(l=>{let h=Ui();return t.forEach((g,E)=>{const b=l.get(g);E.isFoundDocument()!==b.isFoundDocument()&&(u=u.add(g)),E.isNoDocument()&&E.version.isEqual(At.min())?(e.removeEntry(g,E.readTime),h=h.insert(g,E)):!b.isValidDocument()||E.version.compareTo(b.version)>0||0===E.version.compareTo(b.version)&&b.hasPendingWrites?(e.addEntry(E),h=h.insert(g,E)):We("LocalStore","Ignoring outdated watch update for ",g,". Current version:",b.version," Watch version:",E.version)}),{cs:h,ls:u}})}(l,h,e.documentUpdates).next(x=>{E=x.cs,b=x.ls})),!i.isEqual(At.min())){const x=t.Qr.getLastRemoteSnapshotVersion(l).next(B=>t.Qr.setTargetsMetadata(l,l.currentSequenceNumber,i));g.push(x)}return de.waitFor(g).next(()=>h.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,E,b)).next(()=>E)}).then(l=>(t.ns=u,l))}(t.localStore,e);e.targetChanges.forEach((u,l)=>{const h=t.Fa.get(l);h&&(Tt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?h.wa=!0:u.modifiedDocuments.size>0?Tt(h.wa):u.removedDocuments.size>0&&(Tt(h.wa),h.wa=!1))}),yield sa(t,i,e)}catch(i){yield Sa(i)}})).apply(this,arguments)}function WE(s,e,t){const i=it(s);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const u=[];i.ba.forEach((l,h)=>{const g=h.view.j_(e);g.snapshot&&u.push(g.snapshot)}),function(h,g){const E=it(h);E.onlineState=g;let b=!1;E.queries.forEach((x,B)=>{for(const Y of B.U_)Y.j_(g)&&(b=!0)}),b&&ty(E)}(i.eventManager,e),u.length&&i.Sa.h_(u),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function n0(s,e,t){return ch.apply(this,arguments)}function ch(){return(ch=(0,W.Z)(function*(s,e,t){const i=it(s);i.sharedClientState.updateQueryState(e,"rejected",t);const u=i.Fa.get(e),l=u&&u.key;if(l){let h=new qn(ut.comparator);h=h.insert(l,sr.newNoDocument(l,At.min()));const g=rn().add(l),E=new Hd(At.min(),new Map,new qn(jt),h,g);yield zE(i,E),i.va=i.va.remove(l),i.Fa.delete(e),hy(i)}else yield Za(i.localStore,e,!1).then(()=>Ol(i,e,t)).catch(Sa)})).apply(this,arguments)}function Ol(s,e,t=null){s.sharedClientState.removeLocalQueryTarget(e);for(const i of s.Da.get(e))s.ba.delete(i),t&&s.Sa.ka(i,t);s.Da.delete(e),s.isPrimaryClient&&s.Ma.Vr(e).forEach(i=>{s.Ma.containsKey(i)||dy(s,i)})}function dy(s,e){s.Ca.delete(e.path.canonicalString());const t=s.va.get(e);null!==t&&(Xa(s.remoteStore,t),s.va=s.va.remove(e),s.Fa.delete(t),hy(s))}function Zp(s,e,t){for(const i of t)i instanceof BE?(s.Ma.addReference(i.key,e),KE(s,i)):i instanceof ry?(We("SyncEngine","Document no longer in limbo: "+i.key),s.Ma.removeReference(i.key,e),s.Ma.containsKey(i.key)||dy(s,i.key)):mt()}function KE(s,e){const t=e.key,i=t.path.canonicalString();s.va.get(t)||s.Ca.has(i)||(We("SyncEngine","New document in limbo: "+t),s.Ca.add(i),hy(s))}function hy(s){for(;s.Ca.size>0&&s.va.size<s.maxConcurrentLimboResolutions;){const e=s.Ca.values().next().value;s.Ca.delete(e);const t=new ut(cn.fromString(e)),i=s.Na.next();s.Fa.set(i,new XD(t)),s.va=s.va.insert(t,i),Op(s.remoteStore,new ja(Wr(Zs(t.path)),i,"TargetPurposeLimboResolution",ro.oe))}}function sa(s,e,t){return dh.apply(this,arguments)}function dh(){return dh=(0,W.Z)(function*(s,e,t){const i=it(s),u=[],l=[],h=[];var g;i.ba.isEmpty()||(i.ba.forEach((g,E)=>{h.push(i.Ba(E,e,t).then(b=>{if((b||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(E.targetId,b&&!b.fromCache?"current":"not-current"),b){u.push(b);const x=Ya.Ki(E.targetId,b);l.push(x)}}))}),yield Promise.all(h),i.Sa.h_(u),yield(g=(0,W.Z)(function*(b,x){const B=it(b);try{yield B.persistence.runTransaction("notifyLocalViewChanges","readwrite",Y=>de.forEach(x,ce=>de.forEach(ce.qi,Ne=>B.persistence.referenceDelegate.addReference(Y,ce.targetId,Ne)).next(()=>de.forEach(ce.Qi,Ne=>B.persistence.referenceDelegate.removeReference(Y,ce.targetId,Ne)))))}catch(Y){if(!Pa(Y))throw Y;We("LocalStore","Failed to update sequence numbers: "+Y)}for(const Y of x){const ce=Y.targetId;if(!Y.fromCache){const Ne=B.ns.get(ce),Ue=Ne.withLastLimboFreeSnapshotVersion(Ne.snapshotVersion);B.ns=B.ns.insert(ce,Ue)}}}),function E(b,x){return g.apply(this,arguments)})(i.localStore,l))}),dh.apply(this,arguments)}function Jp(s,e){return Xp.apply(this,arguments)}function Xp(){return(Xp=(0,W.Z)(function*(s,e){const t=it(s);if(!t.currentUser.isEqual(e)){We("SyncEngine","User change. New user:",e.toKey());const i=yield N_(t.localStore,e);t.currentUser=e,(l=t).Oa.forEach(g=>{g.forEach(E=>{E.reject(new qe(Te.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.Oa.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield sa(t,i.us)}var l})).apply(this,arguments)}function QE(s,e){const t=it(s),i=t.Fa.get(e);if(i&&i.wa)return rn().add(i.key);{let u=rn();const l=t.Da.get(e);if(!l)return u;for(const h of l){const g=t.ba.get(h);u=u.unionWith(g.view.Ea)}return u}}function rg(s){const e=it(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=zE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QE.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=n0.bind(null,e),e.Sa.h_=FC.bind(null,e.eventManager),e.Sa.ka=ZD.bind(null,e.eventManager),e}class ig{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,W.Z)(function*(){t.serializer=nh(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function x_(s,e,t,i){return new Cl(s,e,t,i)}(this.persistence,new tc,e.initialUser,this.serializer)}createPersistence(e){return new Xu(Is.Hr,this.serializer)}createSharedClientState(e){return new CE}terminate(){var e=this;return(0,W.Z)(function*(){var t,i;null===(t=e.gcScheduler)||void 0===t||t.stop(),null===(i=e.indexBackfillerScheduler)||void 0===i||i.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class kl{initialize(e,t){var i=this;return(0,W.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=u=>WE(i.syncEngine,u,1),i.remoteStore.remoteSyncer.handleCredentialChange=Jp.bind(null,i.syncEngine),yield Hp(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new uc}createDatastore(e){const t=nh(e.databaseInfo.databaseId),i=new xp(e.databaseInfo);return new zD(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return i=this.localStore,u=this.datastore,l=e.asyncQueue,h=t=>WE(this.syncEngine,t,0),g=bE.D()?new bE:new th,new PE(i,u,l,h,g);var i,u,l,h,g}createSyncEngine(e,t){return function(u,l,h,g,E,b,x){const B=new e0(u,l,h,g,E,b);return x&&(B.La=!0),B}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){var e=this;return(0,W.Z)(function*(){var t,i;yield(i=(0,W.Z)(function*(l){const h=it(l);We("RemoteStore","RemoteStore shutting down."),h.M_.add(5),yield Sl(h),h.O_.shutdown(),h.N_.set("Unknown")}),function u(l){return i.apply(this,arguments)})(e.remoteStore),null===(t=e.datastore)||void 0===t||t.terminate()})()}}class hh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):br("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class sT{constructor(e,t,i,u){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=u,this.user=Cr.UNAUTHENTICATED,this.clientId=Om.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var h=(0,W.Z)(function*(g){We("FirestoreClient","Received user=",g.uid),yield l.authCredentialListener(g),l.user=g});return function(g){return h.apply(this,arguments)}}()),this.appCheckCredentials.start(i,h=>(We("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new qe(Te.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,W.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const u=oa(i,"Failed to shutdown persistence");t.reject(u)}})),t.promise}}function fh(s,e){return og.apply(this,arguments)}function og(){return og=(0,W.Z)(function*(s,e){s.asyncQueue.verifyOperationInProgress(),We("FirestoreClient","Initializing OfflineComponentProvider");const t=s.configuration;yield e.initialize(t);let i=t.initialUser;s.setCredentialChangeListener(function(){var u=(0,W.Z)(function*(l){i.isEqual(l)||(yield N_(e.localStore,l),i=l)});return function(l){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}),og.apply(this,arguments)}function sg(s,e){return ag.apply(this,arguments)}function ag(){return(ag=(0,W.Z)(function*(s,e){s.asyncQueue.verifyOperationInProgress();const t=yield function aa(s){return Iy.apply(this,arguments)}(s);We("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,s.configuration),s.setCredentialChangeListener(i=>J_(e.remoteStore,i)),s.setAppCheckTokenChangeListener((i,u)=>J_(e.remoteStore,u)),s._onlineComponents=e})).apply(this,arguments)}function Iy(){return(Iy=(0,W.Z)(function*(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){We("FirestoreClient","Using user provided OfflineComponentProvider");try{yield fh(s,s._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function vy(s){return"FirebaseError"===s.name?s.code===Te.FAILED_PRECONDITION||s.code===Te.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||22===s.code||20===s.code||11===s.code}(t))throw t;Fi("Error using user provided cache. Falling back to memory cache: "+t),yield fh(s,new ig)}}else We("FirestoreClient","Using default OfflineComponentProvider"),yield fh(s,new ig);return s._offlineComponents})).apply(this,arguments)}function eu(){return(eu=(0,W.Z)(function*(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(We("FirestoreClient","Using user provided OnlineComponentProvider"),yield sg(s,s._uninitializedComponentsProvider._online)):(We("FirestoreClient","Using default OnlineComponentProvider"),yield sg(s,new kl))),s._onlineComponents})).apply(this,arguments)}function ph(s){return nu.apply(this,arguments)}function nu(){return(nu=(0,W.Z)(function*(s){const e=yield function ug(s){return eu.apply(this,arguments)}(s),t=e.eventManager;return t.onListen=jE.bind(null,e.syncEngine),t.onUnlisten=t0.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=$E.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Lo.bind(null,e.syncEngine),t})).apply(this,arguments)}function Ty(s){const e={};return void 0!==s.timeoutSeconds&&(e.timeoutSeconds=s.timeoutSeconds),e}const wy=new Map;function dT(s){if(ut.isDocumentKey(s))throw new qe(Te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function ln(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new qe(Te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=function ru(s){if(void 0===s)return"undefined";if(null===s)return"null";if("string"==typeof s)return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if("number"==typeof s||"boolean"==typeof s)return""+s;if("object"==typeof s){if(s instanceof Array)return"an array";{const e=(i=s).constructor?i.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var i;return"function"==typeof s?"a function":mt()}(s);throw new qe(Te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return s}class fT{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new qe(Te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new qe(Te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function y0(s,e,t,i){if(!0===e&&!0===i)throw new qe(Te.INVALID_ARGUMENT,`${s} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Ty(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(l){if(void 0!==l.timeoutSeconds){if(isNaN(l.timeoutSeconds))throw new qe(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new qe(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new qe(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class iu{constructor(e,t,i,u){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fT({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new qe(Te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new qe(Te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fT(e),void 0!==e.credentials&&(this._authCredentials=function(i){if(!i)return new sI;switch(i.type){case"firstParty":return new oD(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new qe(Te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=wy.get(t);i&&(We("ComponentProvider","Removing Datastore"),wy.delete(t),i.terminate())}(this),Promise.resolve()}}class Kr{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Kr(this.firestore,e,this._query)}}class Er{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ws(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Er(this.firestore,e,this._key)}}class ws extends Kr{constructor(e,t,i){super(e,t,Zs(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Er(this.firestore,null,new ut(e))}withConverter(e){return new ws(this.firestore,e,this._path)}}function mh(s,e,...t){if(s=(0,be.m9)(s),function dg(s,e,t){if(!t)throw new qe(Te.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}("collection","path",e),s instanceof iu){const i=cn.fromString(e,...t);return dT(i),new ws(s,null,i)}{if(!(s instanceof Er||s instanceof ws))throw new qe(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=s._path.child(cn.fromString(e,...t));return dT(i),new ws(s.firestore,null,i)}}class mT{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new rh(this,"async_queue_retry"),this.hu=()=>{const t=Np();t&&We("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Yo.Wo()};const e=Np();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const t=Np();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const t=new ir;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){var e=this;return(0,W.Z)(function*(){if(0!==e.su.length){try{yield e.su[0](),e.su.shift(),e.Yo.reset()}catch(t){if(!Pa(t))throw t;We("AsyncQueue","Operation failed with retryable error: "+t)}e.su.length>0&&e.Yo.$o(()=>e.Tu())}})()}Iu(e){const t=this.iu.then(()=>(this.uu=!0,e().catch(i=>{throw this.au=i,this.uu=!1,br("INTERNAL UNHANDLED ERROR: ",function(h){let g=h.message||"";return h.stack&&(g=h.stack.includes(h.message)?h.stack:h.message+"\n"+h.stack),g}(i)),i}).then(i=>(this.uu=!1,i))));return this.iu=t,t}enqueueAfterDelay(e,t,i){this.Pu(),this.lu.indexOf(e)>-1&&(t=0);const u=zp.createAndSchedule(this,e,t,i,l=>this.Eu(l));return this._u.push(u),u}Pu(){this.au&&mt()}verifyOperationInProgress(){}du(){var e=this;return(0,W.Z)(function*(){let t;do{t=e.iu,yield t}while(t!==e.iu)})()}Au(e){for(const t of this._u)if(t.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this._u)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const t=this._u.indexOf(e);this._u.splice(t,1)}}function fg(s){return function(t,i){if("object"!=typeof t||null===t)return!1;const u=t;for(const l of["next","error","complete"])if(l in u&&"function"==typeof u[l])return!0;return!1}(s)}class jn extends iu{constructor(e,t,i,u){super(e,t,i,u),this.type="firestore",this._queue=new mT,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||E0(this),this._firestoreClient.terminate()}}function I0(s,e){const t="object"==typeof s?s:(0,ye.Mq)(),i="string"==typeof s?s:e||"(default)",u=(0,ye.qX)(t,"firestore").getImmediate({identifier:i});if(!u._initialized){const l=(0,be.P0)("firestore");l&&function pT(s,e,t,i={}){var u;const l=(s=ln(s,iu))._getSettings(),h=`${e}:${t}`;if("firestore.googleapis.com"!==l.host&&l.host!==h&&Fi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),s._setSettings(Object.assign(Object.assign({},l),{host:h,ssl:!1})),i.mockUserToken){let g,E;if("string"==typeof i.mockUserToken)g=i.mockUserToken,E=Cr.MOCK_USER;else{g=(0,be.Sg)(i.mockUserToken,null===(u=s._app)||void 0===u?void 0:u.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new qe(Te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Cr(b)}s._authCredentials=new iD(new Mm(g,E))}}(u,...l)}return u}function E0(s){var e,t,i;const u=s._freezeSettings(),l=(E=(null===(e=s._app)||void 0===e?void 0:e.options.appId)||"",new Uf(s._databaseId,E,s._persistenceKey,(x=u).host,x.ssl,x.experimentalForceLongPolling,x.experimentalAutoDetectLongPolling,Ty(x.experimentalLongPollingOptions),x.useFetchStreams));var E,x;s._firestoreClient=new sT(s._authCredentials,s._appCheckCredentials,s._queue,l),null!==(t=u.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=u.localCache)&&void 0!==i&&i._onlineComponentProvider&&(s._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.localCache.kind,_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider})}class lc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new lc(_r.fromBase64String(e))}catch(t){throw new qe(Te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new lc(_r.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class dc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new qe(Te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class hc{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new qe(Te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new qe(Te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return jt(this._lat,e._lat)||jt(this._long,e._long)}}const D0=new RegExp("[~\\*/\\[\\]]");function vg(s,e,t,i,u){const l=i&&!i.isEmpty(),h=void 0!==u;let g=`Function ${e}() called with invalid data`;t&&(g+=" (via `toFirestore()`)"),g+=". ";let E="";return(l||h)&&(E+=" (found",l&&(E+=` in field ${i}`),h&&(E+=` in document ${u}`),E+=")"),new qe(Te.INVALID_ARGUMENT,g+s+E)}class Ig{constructor(e,t,i,u,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=u,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Er(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new A0(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Eg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class A0 extends Ig{data(){return super.data()}}function Eg(s,e){return"string"==typeof e?function yg(s,e,t){if(e.search(D0)>=0)throw vg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,t);try{return new dc(...e.split("."))._internalPath}catch{throw vg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,t)}}(s,e):e instanceof dc?e._internalPath:e._delegate._internalPath}class By{convertValue(e,t="none"){switch(fs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return hr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ds(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw mt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return xa(e,(u,l)=>{i[u]=this.convertValue(l,t)}),i}convertGeoPoint(e){return new hc(hr(e.latitude),hr(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Rd(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(nl(e));default:return null}}convertTimestamp(e){const t=ls(e);return new or(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=cn.fromString(e);Tt(eE(i));const u=new rl(i.get(1),i.get(3)),l=new ut(i.popFirst(5));return u.isEqual(t)||br(`Document ${l} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}class pc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gc extends Ig{constructor(e,t,i,u,l,h){super(e,t,i,u,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new jy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Eg("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class jy extends gc{data(e={}){return super.data(e)}}class mc{constructor(e,t,i,u){this._firestore=e,this._userDataWriter=t,this._snapshot=u,this.metadata=new pc(u.hasPendingWrites,u.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new jy(this._firestore,this._userDataWriter,i.key,i,new pc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new qe(Te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(u,l){if(u._snapshot.oldDocs.isEmpty()){let h=0;return u._snapshot.docChanges.map(g=>({type:"added",doc:new jy(u._firestore,u._userDataWriter,g.doc.key,g.doc,new pc(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:h++}))}{let h=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(g=>l||3!==g.type).map(g=>{const E=new jy(u._firestore,u._userDataWriter,g.doc.key,g.doc,new pc(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);let b=-1,x=-1;return 0!==g.type&&(b=h.indexOf(g.doc.key),h=h.delete(g.doc.key)),1!==g.type&&(h=h.add(g.doc),x=h.indexOf(g.doc.key)),{type:N0(g.type),doc:E,oldIndex:b,newIndex:x}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function N0(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt()}}class su extends By{constructor(e){super(),this.firestore=e}convertBytes(e){return new lc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Er(this.firestore,null,t)}}!function(e,t=!0){Qc=ye.Jn,(0,ye.Xd)(new Q.wA("firestore",(i,{instanceIdentifier:u,options:l})=>{const h=i.getProvider("app").getImmediate(),g=new jn(new EC(i.getProvider("auth-internal")),new aI(i.getProvider("app-check-internal")),function(b,x){if(!Object.prototype.hasOwnProperty.apply(b.options,["projectId"]))throw new qe(Te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rl(b.options.projectId,x)}(h,u),h);return l=Object.assign({useFetchStreams:t},l),g._setSettings(l),g},"PUBLIC").setMultipleInstances(!0)),(0,ye.KN)(Rf,"4.6.3",e),(0,ye.KN)(Rf,"4.6.3","esm2017")}();var UT=H(5592),bg=H(7398),wh=function(){return wh=Object.assign||function(e){for(var t,i=1,u=arguments.length;i<u;i++)for(var l in t=arguments[i])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e},wh.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var BT={includeMetadataChanges:!1};function Sg(s,e){return void 0===e&&(e=BT),new UT.y(function(t){var i=function O0(s,...e){var t,i,u;s=(0,be.m9)(s);let l={includeMetadataChanges:!1,source:"default"},h=0;"object"!=typeof e[h]||fg(e[h])||(l=e[h],h++);const g={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(fg(e[h])){const B=e[h];e[h]=null===(t=B.next)||void 0===t?void 0:t.bind(B),e[h+1]=null===(i=B.error)||void 0===i?void 0:i.bind(B),e[h+2]=null===(u=B.complete)||void 0===u?void 0:u.bind(B)}let E,b,x;if(s instanceof Er)b=ln(s.firestore,jn),x=Zs(s._key.path),E={next:B=>{e[h]&&e[h](function wg(s,e,t){const i=t.docs.get(e._key),u=new su(s);return new gc(s,u,e._key,i,new pc(t.hasPendingWrites,t.fromCache),e.converter)}(b,s,B))},error:e[h+1],complete:e[h+2]};else{const B=ln(s,Kr);b=ln(B.firestore,jn),x=B._query;const Y=new su(b);E={next:ce=>{e[h]&&e[h](new mc(b,Y,B,ce))},error:e[h+1],complete:e[h+2]},function Oy(s){if("L"===s.limitType&&0===s.explicitOrderBy.length)throw new qe(Te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(s._query)}return function(Y,ce,Ne,Ye){const Ue=new hh(Ye),_t=new Sr(ce,Ue,Ne);return Y.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return function ah(s,e){return ey.apply(this,arguments)}(yield ph(Y),_t)})),()=>{Ue.$a(),Y.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return function uh(s,e){return FE.apply(this,arguments)}(yield ph(Y),_t)}))}}(function Tr(s){return s._firestoreClient||E0(s),s._firestoreClient.verifyNotTerminated(),s._firestoreClient}(b),x,g,E)}(s,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:i}})}function HT(s,e){return void 0===e&&(e={}),function Zy(s){return Sg(s,{includeMetadataChanges:!0}).pipe((0,bg.U)(function(e){return e.docs}))}(s).pipe((0,bg.U)(function(t){return t.map(function(i){return function Rg(s,e){var t;void 0===e&&(e={});var i=s.data(e);return s.exists()&&"object"==typeof i&&null!==i&&e.idField?wh(wh({},i),((t={})[e.idField]=s.id,t)):i}(i,e)})}))}class Ah{constructor(e){return e}}const Jy="firestore",Xy=new te.OlP("angularfire2.firestore-instances");function Vl(s){return(e,t)=>{const i=e.runOutsideAngular(()=>s(t));return new Ah(i)}}const Z0={provide:class Q0{constructor(){return(0,A.vb)(Jy)}},deps:[[new te.FiY,Xy]]},J0={provide:Ah,useFactory:function Ci(s,e){const t=(0,A.JM)(Jy,s,e);return t&&new Ah(t)},deps:[[new te.FiY,Xy],Re.Ot]};let Ab=(()=>{class s{constructor(){(0,we.KN)("angularfire",A.q4.full,"fst")}static \u0275fac=function(i){return new(i||s)};static \u0275mod=te.oAB({type:s});static \u0275inj=te.cJS({providers:[J0,Z0]})}return s})();function Cb(s,...e){return{ngModule:Ab,providers:[{provide:Xy,useFactory:Vl(s),multi:!0,deps:[te.R0b,te.zs3,A.HU,Re.z6,[new te.FiY,Jv],[new te.FiY,A.Rf],...e]}]}}const bb=(0,A.u3)(HT,!0),QT=(0,A.u3)(mh,!0),ZT=(0,A.u3)(I0,!0)},4810:(xt,Ge,H)=>{H.d(Ge,{q4:()=>Se,HU:()=>xr,Rf:()=>ft,vb:()=>lt,JM:()=>Oe,u3:()=>De});var A=H(4946),te=H(3182),Re=H(7394);class we extends Re.w0{constructor(ie,Ce){super()}schedule(ie,Ce=0){return this}}const W={setInterval(le,ie,...Ce){const{delegate:Je}=W;return Je?.setInterval?Je.setInterval(le,ie,...Ce):setInterval(le,ie,...Ce)},clearInterval(le){const{delegate:ie}=W;return(ie?.clearInterval||clearInterval)(le)},delegate:void 0};var ye=H(9039);class be extends we{constructor(ie,Ce){super(ie,Ce),this.scheduler=ie,this.work=Ce,this.pending=!1}schedule(ie,Ce=0){var Je;if(this.closed)return this;this.state=ie;const dt=this.id,ze=this.scheduler;return null!=dt&&(this.id=this.recycleAsyncId(ze,dt,Ce)),this.pending=!0,this.delay=Ce,this.id=null!==(Je=this.id)&&void 0!==Je?Je:this.requestAsyncId(ze,this.id,Ce),this}requestAsyncId(ie,Ce,Je=0){return W.setInterval(ie.flush.bind(ie,this),Je)}recycleAsyncId(ie,Ce,Je=0){if(null!=Je&&this.delay===Je&&!1===this.pending)return Ce;null!=Ce&&W.clearInterval(Ce)}execute(ie,Ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Je=this._execute(ie,Ce);if(Je)return Je;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ie,Ce){let dt,Je=!1;try{this.work(ie)}catch(ze){Je=!0,dt=ze||new Error("Scheduled action threw falsy error")}if(Je)return this.unsubscribe(),dt}unsubscribe(){if(!this.closed){const{id:ie,scheduler:Ce}=this,{actions:Je}=Ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ye.P)(Je,this),null!=ie&&(this.id=this.recycleAsyncId(Ce,ie,null)),this.delay=null,super.unsubscribe()}}}const je={now:()=>(je.delegate||Date).now(),delegate:void 0};class Q{constructor(ie,Ce=Q.now){this.schedulerActionCtor=ie,this.now=Ce}schedule(ie,Ce=0,Je){return new this.schedulerActionCtor(this,ie).schedule(Je,Ce)}}Q.now=je.now;class X extends Q{constructor(ie,Ce=Q.now){super(ie,Ce),this.actions=[],this._active=!1}flush(ie){const{actions:Ce}=this;if(this._active)return void Ce.push(ie);let Je;this._active=!0;do{if(Je=ie.execute(ie.state,ie.delay))break}while(ie=Ce.shift());if(this._active=!1,Je){for(;ie=Ce.shift();)ie.unsubscribe();throw Je}}}const Xe=new class ve extends X{}(class tt extends be{constructor(ie,Ce){super(ie,Ce),this.scheduler=ie,this.work=Ce}schedule(ie,Ce=0){return Ce>0?super.schedule(ie,Ce):(this.delay=Ce,this.state=ie,this.scheduler.flush(this),this)}execute(ie,Ce){return Ce>0||this.closed?super.execute(ie,Ce):this._execute(ie,Ce)}requestAsyncId(ie,Ce,Je=0){return null!=Je&&Je>0||null==Je&&this.delay>0?super.requestAsyncId(ie,Ce,Je):(ie.flush(this),0)}}),Qe=new X(be);var Ot=H(5592),Nt=H(9397),dn=H(5137),kn=H(3093);const Se=new A.GfV("ANGULARFIRE2_VERSION");function Oe(le,ie,Ce){if(ie){if(1===ie.length)return ie[0];const ze=ie.filter(Ct=>Ct.app===Ce);if(1===ze.length)return ze[0]}return Ce.container.getProvider(le).getImmediate({optional:!0})}const lt=(le,ie)=>{const Ce=ie?[ie]:(0,te.C6)(),Je=[];return Ce.forEach(dt=>{dt.container.getProvider(le).instances.forEach(Ct=>{Je.includes(Ct)||Je.push(Ct)})}),Je};class ft{constructor(){return lt(nt)}}const nt="app-check";function Ze(){}class wt{zone;delegate;constructor(ie,Ce=Xe){this.zone=ie,this.delegate=Ce}now(){return this.delegate.now()}schedule(ie,Ce,Je){const dt=this.zone;return this.delegate.schedule(function(Ct){dt.runGuarded(()=>{ie.apply(this,[Ct])})},Ce,Je)}}class pr{zone;task=null;constructor(ie){this.zone=ie}call(ie,Ce){const Je=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ze,{},Ze,Ze)),Ce.pipe((0,Nt.b)({next:Je,complete:Je,error:Je})).subscribe(ie).add(Je)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let xr=(()=>{class le{ngZone;outsideAngular;insideAngular;constructor(Ce){this.ngZone=Ce,this.outsideAngular=Ce.runOutsideAngular(()=>new wt(Zone.current)),this.insideAngular=Ce.run(()=>new wt(Zone.current,Qe)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(Je){return new(Je||le)(A.LFG(A.R0b))};static \u0275prov=A.Yz7({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})();function $e(){const le=globalThis.\u0275AngularFireScheduler;if(!le)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return le}function hn(le){return $e().ngZone.run(()=>le())}function Ee(le){return function me(le){return function(Ce){return(Ce=Ce.lift(new pr(le.ngZone))).pipe((0,dn.R)(le.outsideAngular),(0,kn.Q)(le.insideAngular))}}($e())(le)}const Pe=(le,ie)=>function(){const Je=arguments;return ie&&setTimeout(()=>{"scheduled"===ie.state&&ie.invoke()},10),hn(()=>le.apply(void 0,Je))},De=(le,ie)=>function(){let Ce;const Je=arguments;for(let ze=0;ze<arguments.length;ze++)"function"==typeof Je[ze]&&(ie&&(Ce||=hn(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ze,{},Ze,Ze))),Je[ze]=Pe(Je[ze],Ce));const dt=function et(le){return $e().ngZone.runOutsideAngular(()=>le())}(()=>le.apply(this,Je));if(!ie){if(dt instanceof Ot.y){const ze=$e();return dt.pipe((0,dn.R)(ze.outsideAngular),(0,kn.Q)(ze.insideAngular))}return hn(()=>dt)}return dt instanceof Ot.y?dt.pipe(Ee):dt instanceof Promise?hn(()=>new Promise((ze,Ct)=>dt.then(yn=>hn(()=>ze(yn)),yn=>hn(()=>Ct(yn))))):"function"==typeof dt&&Ce?function(){return setTimeout(()=>{Ce&&"scheduled"===Ce.state&&Ce.invoke()},10),dt.apply(this,arguments)}:hn(()=>dt)}},6593:(xt,Ge,H)=>{H.d(Ge,{Dx:()=>pi,b2:()=>vn,q6:()=>yn});var A=H(4946),te=H(6814);class Re extends te.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class we extends Re{static makeCurrent(){(0,te.HT)(new we)}onAndCancel(V,L,U){return V.addEventListener(L,U),()=>{V.removeEventListener(L,U)}}dispatchEvent(V,L){V.dispatchEvent(L)}remove(V){V.parentNode&&V.parentNode.removeChild(V)}createElement(V,L){return(L=L||this.getDefaultDocument()).createElement(V)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(V){return V.nodeType===Node.ELEMENT_NODE}isShadowRoot(V){return V instanceof DocumentFragment}getGlobalEventTarget(V,L){return"window"===L?window:"document"===L?V:"body"===L?V.body:null}getBaseHref(V){const L=function ye(){return W=W||document.querySelector("base"),W?W.getAttribute("href"):null}();return null==L?null:function tt(F){be=be||document.createElement("a"),be.setAttribute("href",F);const V=be.pathname;return"/"===V.charAt(0)?V:`/${V}`}(L)}resetBaseElement(){W=null}getUserAgent(){return window.navigator.userAgent}getCookie(V){return(0,te.Mx)(document.cookie,V)}}let be,W=null,Q=(()=>{class F{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(U){return new(U||F)};static#t=this.\u0275prov=A.Yz7({token:F,factory:F.\u0275fac})}return F})();const X=new A.OlP("EventManagerPlugins");let ve=(()=>{class F{constructor(L,U){this._zone=U,this._eventNameToPlugin=new Map,L.forEach(se=>{se.manager=this}),this._plugins=L.slice().reverse()}addEventListener(L,U,se){return this._findPluginFor(U).addEventListener(L,U,se)}getZone(){return this._zone}_findPluginFor(L){let U=this._eventNameToPlugin.get(L);if(U)return U;if(U=this._plugins.find(Le=>Le.supports(L)),!U)throw new A.vHH(5101,!1);return this._eventNameToPlugin.set(L,U),U}static#e=this.\u0275fac=function(U){return new(U||F)(A.LFG(X),A.LFG(A.R0b))};static#t=this.\u0275prov=A.Yz7({token:F,factory:F.\u0275fac})}return F})();class Xe{constructor(V){this._doc=V}}const Be="ng-app-id";let Qe=(()=>{class F{constructor(L,U,se,Le={}){this.doc=L,this.appId=U,this.nonce=se,this.platformId=Le,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,te.PM)(Le),this.resetHostNodes()}addStyles(L){for(const U of L)1===this.changeUsageCount(U,1)&&this.onStyleAdded(U)}removeStyles(L){for(const U of L)this.changeUsageCount(U,-1)<=0&&this.onStyleRemoved(U)}ngOnDestroy(){const L=this.styleNodesInDOM;L&&(L.forEach(U=>U.remove()),L.clear());for(const U of this.getAllStyles())this.onStyleRemoved(U);this.resetHostNodes()}addHost(L){this.hostNodes.add(L);for(const U of this.getAllStyles())this.addStyleToHost(L,U)}removeHost(L){this.hostNodes.delete(L)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(L){for(const U of this.hostNodes)this.addStyleToHost(U,L)}onStyleRemoved(L){const U=this.styleRef;U.get(L)?.elements?.forEach(se=>se.remove()),U.delete(L)}collectServerRenderedStyles(){const L=this.doc.head?.querySelectorAll(`style[${Be}="${this.appId}"]`);if(L?.length){const U=new Map;return L.forEach(se=>{null!=se.textContent&&U.set(se.textContent,se)}),U}return null}changeUsageCount(L,U){const se=this.styleRef;if(se.has(L)){const Le=se.get(L);return Le.usage+=U,Le.usage}return se.set(L,{usage:U,elements:[]}),U}getStyleElement(L,U){const se=this.styleNodesInDOM,Le=se?.get(U);if(Le?.parentNode===L)return se.delete(U),Le.removeAttribute(Be),Le;{const rt=this.doc.createElement("style");return this.nonce&&rt.setAttribute("nonce",this.nonce),rt.textContent=U,this.platformIsServer&&rt.setAttribute(Be,this.appId),rt}}addStyleToHost(L,U){const se=this.getStyleElement(L,U);L.appendChild(se);const Le=this.styleRef,rt=Le.get(U)?.elements;rt?rt.push(se):Le.set(U,{elements:[se],usage:1})}resetHostNodes(){const L=this.hostNodes;L.clear(),L.add(this.doc.head)}static#e=this.\u0275fac=function(U){return new(U||F)(A.LFG(te.K0),A.LFG(A.AFp),A.LFG(A.Ojb,8),A.LFG(A.Lbi))};static#t=this.\u0275prov=A.Yz7({token:F,factory:F.\u0275fac})}return F})();const en={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ot=/%COMP%/g,Ke=new A.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function ft(F,V){return V.map(L=>L.replace(Ot,F))}let nt=(()=>{class F{constructor(L,U,se,Le,rt,Rt,Dt,sn=null){this.eventManager=L,this.sharedStylesHost=U,this.appId=se,this.removeStylesOnCompDestroy=Le,this.doc=rt,this.platformId=Rt,this.ngZone=Dt,this.nonce=sn,this.rendererByCompId=new Map,this.platformIsServer=(0,te.PM)(Rt),this.defaultRenderer=new Ze(L,rt,Dt,this.platformIsServer)}createRenderer(L,U){if(!L||!U)return this.defaultRenderer;this.platformIsServer&&U.encapsulation===A.ifc.ShadowDom&&(U={...U,encapsulation:A.ifc.Emulated});const se=this.getOrCreateRenderer(L,U);return se instanceof hn?se.applyToHost(L):se instanceof et&&se.applyStyles(),se}getOrCreateRenderer(L,U){const se=this.rendererByCompId;let Le=se.get(U.id);if(!Le){const rt=this.doc,Rt=this.ngZone,Dt=this.eventManager,sn=this.sharedStylesHost,Mt=this.removeStylesOnCompDestroy,Yn=this.platformIsServer;switch(U.encapsulation){case A.ifc.Emulated:Le=new hn(Dt,sn,U,this.appId,Mt,rt,Rt,Yn);break;case A.ifc.ShadowDom:return new $e(Dt,sn,L,U,rt,Rt,this.nonce,Yn);default:Le=new et(Dt,sn,U,Mt,rt,Rt,Yn)}se.set(U.id,Le)}return Le}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(U){return new(U||F)(A.LFG(ve),A.LFG(Qe),A.LFG(A.AFp),A.LFG(Ke),A.LFG(te.K0),A.LFG(A.Lbi),A.LFG(A.R0b),A.LFG(A.Ojb))};static#t=this.\u0275prov=A.Yz7({token:F,factory:F.\u0275fac})}return F})();class Ze{constructor(V,L,U,se){this.eventManager=V,this.doc=L,this.ngZone=U,this.platformIsServer=se,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(V,L){return L?this.doc.createElementNS(en[L]||L,V):this.doc.createElement(V)}createComment(V){return this.doc.createComment(V)}createText(V){return this.doc.createTextNode(V)}appendChild(V,L){(xr(V)?V.content:V).appendChild(L)}insertBefore(V,L,U){V&&(xr(V)?V.content:V).insertBefore(L,U)}removeChild(V,L){V&&V.removeChild(L)}selectRootElement(V,L){let U="string"==typeof V?this.doc.querySelector(V):V;if(!U)throw new A.vHH(-5104,!1);return L||(U.textContent=""),U}parentNode(V){return V.parentNode}nextSibling(V){return V.nextSibling}setAttribute(V,L,U,se){if(se){L=se+":"+L;const Le=en[se];Le?V.setAttributeNS(Le,L,U):V.setAttribute(L,U)}else V.setAttribute(L,U)}removeAttribute(V,L,U){if(U){const se=en[U];se?V.removeAttributeNS(se,L):V.removeAttribute(`${U}:${L}`)}else V.removeAttribute(L)}addClass(V,L){V.classList.add(L)}removeClass(V,L){V.classList.remove(L)}setStyle(V,L,U,se){se&(A.JOm.DashCase|A.JOm.Important)?V.style.setProperty(L,U,se&A.JOm.Important?"important":""):V.style[L]=U}removeStyle(V,L,U){U&A.JOm.DashCase?V.style.removeProperty(L):V.style[L]=""}setProperty(V,L,U){V[L]=U}setValue(V,L){V.nodeValue=L}listen(V,L,U){if("string"==typeof V&&!(V=(0,te.q)().getGlobalEventTarget(this.doc,V)))throw new Error(`Unsupported event target ${V} for event ${L}`);return this.eventManager.addEventListener(V,L,this.decoratePreventDefault(U))}decoratePreventDefault(V){return L=>{if("__ngUnwrap__"===L)return V;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>V(L)):V(L))&&L.preventDefault()}}}function xr(F){return"TEMPLATE"===F.tagName&&void 0!==F.content}class $e extends Ze{constructor(V,L,U,se,Le,rt,Rt,Dt){super(V,Le,rt,Dt),this.sharedStylesHost=L,this.hostEl=U,this.shadowRoot=U.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const sn=ft(se.id,se.styles);for(const Mt of sn){const Yn=document.createElement("style");Rt&&Yn.setAttribute("nonce",Rt),Yn.textContent=Mt,this.shadowRoot.appendChild(Yn)}}nodeOrShadowRoot(V){return V===this.hostEl?this.shadowRoot:V}appendChild(V,L){return super.appendChild(this.nodeOrShadowRoot(V),L)}insertBefore(V,L,U){return super.insertBefore(this.nodeOrShadowRoot(V),L,U)}removeChild(V,L){return super.removeChild(this.nodeOrShadowRoot(V),L)}parentNode(V){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(V)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class et extends Ze{constructor(V,L,U,se,Le,rt,Rt,Dt){super(V,Le,rt,Rt),this.sharedStylesHost=L,this.removeStylesOnCompDestroy=se,this.styles=Dt?ft(Dt,U.styles):U.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class hn extends et{constructor(V,L,U,se,Le,rt,Rt,Dt){const sn=se+"-"+U.id;super(V,L,U,Le,rt,Rt,Dt,sn),this.contentAttr=function Oe(F){return"_ngcontent-%COMP%".replace(Ot,F)}(sn),this.hostAttr=function lt(F){return"_nghost-%COMP%".replace(Ot,F)}(sn)}applyToHost(V){this.applyStyles(),this.setAttribute(V,this.hostAttr,"")}createElement(V,L){const U=super.createElement(V,L);return super.setAttribute(U,this.contentAttr,""),U}}let vt=(()=>{class F extends Xe{constructor(L){super(L)}supports(L){return!0}addEventListener(L,U,se){return L.addEventListener(U,se,!1),()=>this.removeEventListener(L,U,se)}removeEventListener(L,U,se){return L.removeEventListener(U,se)}static#e=this.\u0275fac=function(U){return new(U||F)(A.LFG(te.K0))};static#t=this.\u0275prov=A.Yz7({token:F,factory:F.\u0275fac})}return F})();const Ft=["alt","control","meta","shift"],Ee={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},me={alt:F=>F.altKey,control:F=>F.ctrlKey,meta:F=>F.metaKey,shift:F=>F.shiftKey};let Pe=(()=>{class F extends Xe{constructor(L){super(L)}supports(L){return null!=F.parseEventName(L)}addEventListener(L,U,se){const Le=F.parseEventName(U),rt=F.eventCallback(Le.fullKey,se,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,te.q)().onAndCancel(L,Le.domEventName,rt))}static parseEventName(L){const U=L.toLowerCase().split("."),se=U.shift();if(0===U.length||"keydown"!==se&&"keyup"!==se)return null;const Le=F._normalizeKey(U.pop());let rt="",Rt=U.indexOf("code");if(Rt>-1&&(U.splice(Rt,1),rt="code."),Ft.forEach(sn=>{const Mt=U.indexOf(sn);Mt>-1&&(U.splice(Mt,1),rt+=sn+".")}),rt+=Le,0!=U.length||0===Le.length)return null;const Dt={};return Dt.domEventName=se,Dt.fullKey=rt,Dt}static matchEventFullKeyCode(L,U){let se=Ee[L.key]||L.key,Le="";return U.indexOf("code.")>-1&&(se=L.code,Le="code."),!(null==se||!se)&&(se=se.toLowerCase()," "===se?se="space":"."===se&&(se="dot"),Ft.forEach(rt=>{rt!==se&&(0,me[rt])(L)&&(Le+=rt+".")}),Le+=se,Le===U)}static eventCallback(L,U,se){return Le=>{F.matchEventFullKeyCode(Le,L)&&se.runGuarded(()=>U(Le))}}static _normalizeKey(L){return"esc"===L?"escape":L}static#e=this.\u0275fac=function(U){return new(U||F)(A.LFG(te.K0))};static#t=this.\u0275prov=A.Yz7({token:F,factory:F.\u0275fac})}return F})();const yn=(0,A.eFA)(A._c5,"browser",[{provide:A.Lbi,useValue:te.bD},{provide:A.g9A,useValue:function Je(){we.makeCurrent()},multi:!0},{provide:te.K0,useFactory:function ze(){return(0,A.RDi)(document),document},deps:[]}]),Rn=new A.OlP(""),Fn=[{provide:A.rWj,useClass:class je{addToWindow(V){A.dqk.getAngularTestability=(U,se=!0)=>{const Le=V.findTestabilityInTree(U,se);if(null==Le)throw new A.vHH(5103,!1);return Le},A.dqk.getAllAngularTestabilities=()=>V.getAllTestabilities(),A.dqk.getAllAngularRootElements=()=>V.getAllRootElements(),A.dqk.frameworkStabilizers||(A.dqk.frameworkStabilizers=[]),A.dqk.frameworkStabilizers.push(U=>{const se=A.dqk.getAllAngularTestabilities();let Le=se.length,rt=!1;const Rt=function(Dt){rt=rt||Dt,Le--,0==Le&&U(rt)};se.forEach(Dt=>{Dt.whenStable(Rt)})})}findTestabilityInTree(V,L,U){return null==L?null:V.getTestability(L)??(U?(0,te.q)().isShadowRoot(L)?this.findTestabilityInTree(V,L.host,!0):this.findTestabilityInTree(V,L.parentElement,!0):null)}},deps:[]},{provide:A.lri,useClass:A.dDg,deps:[A.R0b,A.eoX,A.rWj]},{provide:A.dDg,useClass:A.dDg,deps:[A.R0b,A.eoX,A.rWj]}],Kn=[{provide:A.zSh,useValue:"root"},{provide:A.qLn,useFactory:function dt(){return new A.qLn},deps:[]},{provide:X,useClass:vt,multi:!0,deps:[te.K0,A.R0b,A.Lbi]},{provide:X,useClass:Pe,multi:!0,deps:[te.K0]},nt,Qe,ve,{provide:A.FYo,useExisting:nt},{provide:te.JF,useClass:Q,deps:[]},[]];let vn=(()=>{class F{constructor(L){}static withServerTransition(L){return{ngModule:F,providers:[{provide:A.AFp,useValue:L.appId}]}}static#e=this.\u0275fac=function(U){return new(U||F)(A.LFG(Rn,12))};static#t=this.\u0275mod=A.oAB({type:F});static#n=this.\u0275inj=A.cJS({providers:[...Kn,...Fn],imports:[te.ez,A.hGG]})}return F})(),pi=(()=>{class F{constructor(L){this._doc=L}getTitle(){return this._doc.title}setTitle(L){this._doc.title=L||""}static#e=this.\u0275fac=function(U){return new(U||F)(A.LFG(te.K0))};static#t=this.\u0275prov=A.Yz7({token:F,factory:function(U){let se=null;return se=U?new U:function uo(){return new pi((0,A.LFG)(te.K0))}(),se},providedIn:"root"})}return F})();typeof window<"u"&&window},4330:(xt,Ge,H)=>{H.d(Ge,{Bz:()=>Sv,lC:()=>yi});var A=H(4946),te=H(5592),Re=H(4674),W=H(2459),ye=H(2096),be=H(5619);const{isArray:tt}=Array,{getPrototypeOf:je,prototype:Q,keys:X}=Object;var Be=H(2737),Qe=H(7398);const{isArray:en}=Array;var dn=H(4564),Se=H(8251),Ke=H(7103);function Oe(..._){const I=(0,dn.yG)(_),m=(0,dn.jO)(_),{args:w,keys:S}=function ve(_){if(1===_.length){const I=_[0];if(tt(I))return{args:I,keys:null};if(function Xe(_){return _&&"object"==typeof _&&je(_)===Q}(I)){const m=X(I);return{args:m.map(w=>I[w]),keys:m}}}return{args:_,keys:null}}(_);if(0===w.length)return(0,W.D)([],I);const k=new te.y(function lt(_,I,m=Be.y){return w=>{ft(I,()=>{const{length:S}=_,k=new Array(S);let G=S,ge=S;for(let fe=0;fe<S;fe++)ft(I,()=>{const at=(0,W.D)(_[fe],I);let $t=!1;at.subscribe((0,Se.x)(w,Jt=>{k[fe]=Jt,$t||($t=!0,ge--),ge||w.next(m(k.slice()))},()=>{--G||w.complete()}))},w)},w)}}(w,I,S?G=>function kn(_,I){return _.reduce((m,w,S)=>(m[w]=I[S],m),{})}(S,G):Be.y));return m?k.pipe(function Nt(_){return(0,Qe.U)(I=>function Ot(_,I){return en(I)?_(...I):_(I)}(_,I))}(m)):k}function ft(_,I,m){_?(0,Ke.f)(m,_,I):I()}const Ze=(0,H(2306).d)(_=>function(){_(this),this.name="EmptyError",this.message="no elements in sequence"});var wt=H(7537);function xr(..._){return function pr(){return(0,wt.J)(1)}()((0,W.D)(_,(0,dn.yG)(_)))}var $e=H(4829);function et(_){return new te.y(I=>{(0,$e.Xf)(_()).subscribe(I)})}var hn=H(8407);function vt(_,I){const m=(0,Re.m)(_)?_:()=>_,w=S=>S.error(m());return new te.y(I?S=>I.schedule(w,0,S):w)}var Ft=H(6232),Ee=H(7394),me=H(9360);function Pe(){return(0,me.e)((_,I)=>{let m=null;_._refCount++;const w=(0,Se.x)(I,void 0,void 0,void 0,()=>{if(!_||_._refCount<=0||0<--_._refCount)return void(m=null);const S=_._connection,k=m;m=null,S&&(!k||S===k)&&S.unsubscribe(),I.unsubscribe()});_.subscribe(w),w.closed||(m=_.connect())})}class De extends te.y{constructor(I,m){super(),this.source=I,this.subjectFactory=m,this._subject=null,this._refCount=0,this._connection=null,(0,me.A)(I)&&(this.lift=I.lift)}_subscribe(I){return this.getSubject().subscribe(I)}getSubject(){const I=this._subject;return(!I||I.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:I}=this;this._subject=this._connection=null,I?.unsubscribe()}connect(){let I=this._connection;if(!I){I=this._connection=new Ee.w0;const m=this.getSubject();I.add(this.source.subscribe((0,Se.x)(m,void 0,()=>{this._teardown(),m.complete()},w=>{this._teardown(),m.error(w)},()=>this._teardown()))),I.closed&&(this._connection=null,I=Ee.w0.EMPTY)}return I}refCount(){return Pe()(this)}}var le=H(8645),ie=H(6814),Ce=H(4664);function Je(_){return _<=0?()=>Ft.E:(0,me.e)((I,m)=>{let w=0;I.subscribe((0,Se.x)(m,S=>{++w<=_&&(m.next(S),_<=w&&m.complete())}))})}function ze(_,I){return(0,me.e)((m,w)=>{let S=0;m.subscribe((0,Se.x)(w,k=>_.call(I,k,S++)&&w.next(k)))})}var Ct=H(1631);function yn(_){return(0,me.e)((I,m)=>{let w=!1;I.subscribe((0,Se.x)(m,S=>{w=!0,m.next(S)},()=>{w||m.next(_),m.complete()}))})}function Rn(_=Fn){return(0,me.e)((I,m)=>{let w=!1;I.subscribe((0,Se.x)(m,S=>{w=!0,m.next(S)},()=>w?m.complete():m.error(_())))})}function Fn(){return new Ze}function Kn(_,I){const m=arguments.length>=2;return w=>w.pipe(_?ze((S,k)=>_(S,k,w)):Be.y,Je(1),m?yn(I):Rn(()=>new Ze))}function vn(_,I){return(0,Re.m)(I)?(0,Ct.z)(_,I,1):(0,Ct.z)(_,1)}var Cn=H(9397);function bn(_){return(0,me.e)((I,m)=>{let k,w=null,S=!1;w=I.subscribe((0,Se.x)(m,void 0,void 0,G=>{k=(0,$e.Xf)(_(G,bn(_)(I))),w?(w.unsubscribe(),w=null,k.subscribe(m)):S=!0})),S&&(w.unsubscribe(),w=null,k.subscribe(m))})}function pi(_){return _<=0?()=>Ft.E:(0,me.e)((I,m)=>{let w=[];I.subscribe((0,Se.x)(m,S=>{w.push(S),_<w.length&&w.shift()},()=>{for(const S of w)m.next(S);m.complete()},void 0,()=>{w=null}))})}function wr(_){return(0,me.e)((I,m)=>{try{I.subscribe(m)}finally{m.add(_)}})}var Wt=H(2420),Br=H(6593);const bt="primary",Jn=Symbol("RouteTitle");class Nr{constructor(I){this.params=I||{}}has(I){return Object.prototype.hasOwnProperty.call(this.params,I)}get(I){if(this.has(I)){const m=this.params[I];return Array.isArray(m)?m[0]:m}return null}getAll(I){if(this.has(I)){const m=this.params[I];return Array.isArray(m)?m:[m]}return[]}get keys(){return Object.keys(this.params)}}function xn(_){return new Nr(_)}function ti(_,I,m){const w=m.path.split("/");if(w.length>_.length||"full"===m.pathMatch&&(I.hasChildren()||w.length<_.length))return null;const S={};for(let k=0;k<w.length;k++){const G=w[k],ge=_[k];if(G.startsWith(":"))S[G.substring(1)]=ge;else if(G!==ge.path)return null}return{consumed:_.slice(0,w.length),posParams:S}}function ni(_,I){const m=_?Object.keys(_):void 0,w=I?Object.keys(I):void 0;if(!m||!w||m.length!=w.length)return!1;let S;for(let k=0;k<m.length;k++)if(S=m[k],!pt(_[S],I[S]))return!1;return!0}function pt(_,I){if(Array.isArray(_)&&Array.isArray(I)){if(_.length!==I.length)return!1;const m=[..._].sort(),w=[...I].sort();return m.every((S,k)=>w[k]===S)}return _===I}function Ri(_){return _.length>0?_[_.length-1]:null}function Dr(_){return function we(_){return!!_&&(_ instanceof te.y||(0,Re.m)(_.lift)&&(0,Re.m)(_.subscribe))}(_)?_:(0,A.QGY)(_)?(0,W.D)(Promise.resolve(_)):(0,ye.of)(_)}const Xn={exact:function co(_,I,m){if(!L(_.segments,I.segments)||!jr(_.segments,I.segments,m)||_.numberOfChildren!==I.numberOfChildren)return!1;for(const w in I.children)if(!_.children[w]||!co(_.children[w],I.children[w],m))return!1;return!0},subset:Zt},Qn={exact:function wn(_,I){return ni(_,I)},subset:function Wi(_,I){return Object.keys(I).length<=Object.keys(_).length&&Object.keys(I).every(m=>pt(_[m],I[m]))},ignored:()=>!0};function Or(_,I,m){return Xn[m.paths](_.root,I.root,m.matrixParams)&&Qn[m.queryParams](_.queryParams,I.queryParams)&&!("exact"===m.fragment&&_.fragment!==I.fragment)}function Zt(_,I,m){return ri(_,I,I.segments,m)}function ri(_,I,m,w){if(_.segments.length>m.length){const S=_.segments.slice(0,m.length);return!(!L(S,m)||I.hasChildren()||!jr(S,m,w))}if(_.segments.length===m.length){if(!L(_.segments,m)||!jr(_.segments,m,w))return!1;for(const S in I.children)if(!_.children[S]||!Zt(_.children[S],I.children[S],w))return!1;return!0}{const S=m.slice(0,_.segments.length),k=m.slice(_.segments.length);return!!(L(_.segments,S)&&jr(_.segments,S,w)&&_.children[bt])&&ri(_.children[bt],I,k,w)}}function jr(_,I,m){return I.every((w,S)=>Qn[m](_[S].parameters,w.parameters))}class ii{constructor(I=new q([],{}),m={},w=null){this.root=I,this.queryParams=m,this.fragment=w}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=xn(this.queryParams)),this._queryParamMap}toString(){return rt.serialize(this)}}class q{constructor(I,m){this.segments=I,this.children=m,this.parent=null,Object.values(m).forEach(w=>w.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Rt(this)}}class F{constructor(I,m){this.path=I,this.parameters=m}get parameterMap(){return this._parameterMap||(this._parameterMap=xn(this.parameters)),this._parameterMap}toString(){return Cs(this)}}function L(_,I){return _.length===I.length&&_.every((m,w)=>m.path===I[w].path)}let se=(()=>{class _{static#e=this.\u0275fac=function(w){return new(w||_)};static#t=this.\u0275prov=A.Yz7({token:_,factory:function(){return new Le},providedIn:"root"})}return _})();class Le{parse(I){const m=new Bt(I);return new ii(m.parseRootSegment(),m.parseQueryParams(),m.parseFragment())}serialize(I){const m=`/${Dt(I.root,!0)}`,w=function bs(_){const I=Object.keys(_).map(m=>{const w=_[m];return Array.isArray(w)?w.map(S=>`${Mt(m)}=${Mt(S)}`).join("&"):`${Mt(m)}=${Mt(w)}`}).filter(m=>!!m);return I.length?`?${I.join("&")}`:""}(I.queryParams);return`${m}${w}${"string"==typeof I.fragment?`#${function Yn(_){return encodeURI(_)}(I.fragment)}`:""}`}}const rt=new Le;function Rt(_){return _.segments.map(I=>Cs(I)).join("/")}function Dt(_,I){if(!_.hasChildren())return Rt(_);if(I){const m=_.children[bt]?Dt(_.children[bt],!1):"",w=[];return Object.entries(_.children).forEach(([S,k])=>{S!==bt&&w.push(`${S}:${Dt(k,!1)}`)}),w.length>0?`${m}(${w.join("//")})`:m}{const m=function U(_,I){let m=[];return Object.entries(_.children).forEach(([w,S])=>{w===bt&&(m=m.concat(I(S,w)))}),Object.entries(_.children).forEach(([w,S])=>{w!==bt&&(m=m.concat(I(S,w)))}),m}(_,(w,S)=>S===bt?[Dt(_.children[bt],!1)]:[`${S}:${Dt(w,!1)}`]);return 1===Object.keys(_.children).length&&null!=_.children[bt]?`${Rt(_)}/${m[0]}`:`${Rt(_)}/(${m.join("//")})`}}function sn(_){return encodeURIComponent(_).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Mt(_){return sn(_).replace(/%3B/gi,";")}function $r(_){return sn(_).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function oi(_){return decodeURIComponent(_)}function Hr(_){return oi(_.replace(/\+/g,"%20"))}function Cs(_){return`${$r(_.path)}${function Gr(_){return Object.keys(_).map(I=>`;${$r(I)}=${$r(_[I])}`).join("")}(_.parameters)}`}const gr=/^[^\/()?;#]+/;function lo(_){const I=_.match(gr);return I?I[0]:""}const gn=/^[^\/()?;=#]+/,ae=/^[^=?&#]+/,ht=/^[^&#]+/;class Bt{constructor(I){this.url=I,this.remaining=I}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new q([],{}):new q([],this.parseChildren())}parseQueryParams(){const I={};if(this.consumeOptional("?"))do{this.parseQueryParam(I)}while(this.consumeOptional("&"));return I}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const I=[];for(this.peekStartsWith("(")||I.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),I.push(this.parseSegment());let m={};this.peekStartsWith("/(")&&(this.capture("/"),m=this.parseParens(!0));let w={};return this.peekStartsWith("(")&&(w=this.parseParens(!1)),(I.length>0||Object.keys(m).length>0)&&(w[bt]=new q(I,m)),w}parseSegment(){const I=lo(this.remaining);if(""===I&&this.peekStartsWith(";"))throw new A.vHH(4009,!1);return this.capture(I),new F(oi(I),this.parseMatrixParams())}parseMatrixParams(){const I={};for(;this.consumeOptional(";");)this.parseParam(I);return I}parseParam(I){const m=function Ie(_){const I=_.match(gn);return I?I[0]:""}(this.remaining);if(!m)return;this.capture(m);let w="";if(this.consumeOptional("=")){const S=lo(this.remaining);S&&(w=S,this.capture(w))}I[oi(m)]=oi(w)}parseQueryParam(I){const m=function Me(_){const I=_.match(ae);return I?I[0]:""}(this.remaining);if(!m)return;this.capture(m);let w="";if(this.consumeOptional("=")){const G=function Ut(_){const I=_.match(ht);return I?I[0]:""}(this.remaining);G&&(w=G,this.capture(w))}const S=Hr(m),k=Hr(w);if(I.hasOwnProperty(S)){let G=I[S];Array.isArray(G)||(G=[G],I[S]=G),G.push(k)}else I[S]=k}parseParens(I){const m={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const w=lo(this.remaining),S=this.remaining[w.length];if("/"!==S&&")"!==S&&";"!==S)throw new A.vHH(4010,!1);let k;w.indexOf(":")>-1?(k=w.slice(0,w.indexOf(":")),this.capture(k),this.capture(":")):I&&(k=bt);const G=this.parseChildren();m[k]=1===Object.keys(G).length?G[bt]:new q([],G),this.consumeOptional("//")}return m}peekStartsWith(I){return this.remaining.startsWith(I)}consumeOptional(I){return!!this.peekStartsWith(I)&&(this.remaining=this.remaining.substring(I.length),!0)}capture(I){if(!this.consumeOptional(I))throw new A.vHH(4011,!1)}}function kt(_){return _.segments.length>0?new q([],{[bt]:_}):_}function Nn(_){const I={};for(const w of Object.keys(_.children)){const k=Nn(_.children[w]);if(w===bt&&0===k.segments.length&&k.hasChildren())for(const[G,ge]of Object.entries(k.children))I[G]=ge;else(k.segments.length>0||k.hasChildren())&&(I[w]=k)}return function mn(_){if(1===_.numberOfChildren&&_.children[bt]){const I=_.children[bt];return new q(_.segments.concat(I.segments),I.children)}return _}(new q(_.segments,I))}function Sn(_){return _ instanceof ii}function Pi(_){let I;const S=kt(function m(k){const G={};for(const fe of k.children){const at=m(fe);G[fe.outlet]=at}const ge=new q(k.url,G);return k===_&&(I=ge),ge}(_.root));return I??S}function Ss(_,I,m,w){let S=_;for(;S.parent;)S=S.parent;if(0===I.length)return In(S,S,S,m,w);const k=function da(_){if("string"==typeof _[0]&&1===_.length&&"/"===_[0])return new qi(!0,0,_);let I=0,m=!1;const w=_.reduce((S,k,G)=>{if("object"==typeof k&&null!=k){if(k.outlets){const ge={};return Object.entries(k.outlets).forEach(([fe,at])=>{ge[fe]="string"==typeof at?at.split("/"):at}),[...S,{outlets:ge}]}if(k.segmentPath)return[...S,k.segmentPath]}return"string"!=typeof k?[...S,k]:0===G?(k.split("/").forEach((ge,fe)=>{0==fe&&"."===ge||(0==fe&&""===ge?m=!0:".."===ge?I++:""!=ge&&S.push(ge))}),S):[...S,k]},[]);return new qi(m,I,w)}(I);if(k.toRoot())return In(S,S,new q([],{}),m,w);const G=function Ic(_,I,m){if(_.isAbsolute)return new fo(I,!0,0);if(!m)return new fo(I,!1,NaN);if(null===m.parent)return new fo(m,!0,0);const w=Rs(_.commands[0])?0:1;return function Wl(_,I,m){let w=_,S=I,k=m;for(;k>S;){if(k-=S,w=w.parent,!w)throw new A.vHH(4005,!1);S=w.segments.length}return new fo(w,!1,S-k)}(m,m.segments.length-1+w,_.numberOfDoubleDots)}(k,S,_),ge=G.processChildren?Ps(G.segmentGroup,G.index,k.commands):fu(G.segmentGroup,G.index,k.commands);return In(S,G.segmentGroup,ge,m,w)}function Rs(_){return"object"==typeof _&&null!=_&&!_.outlets&&!_.segmentPath}function Co(_){return"object"==typeof _&&null!=_&&_.outlets}function In(_,I,m,w,S){let G,k={};w&&Object.entries(w).forEach(([fe,at])=>{k[fe]=Array.isArray(at)?at.map($t=>`${$t}`):`${at}`}),G=_===I?m:ho(_,I,m);const ge=kt(Nn(G));return new ii(ge,k,S)}function ho(_,I,m){const w={};return Object.entries(_.children).forEach(([S,k])=>{w[S]=k===I?m:ho(k,I,m)}),new q(_.segments,w)}class qi{constructor(I,m,w){if(this.isAbsolute=I,this.numberOfDoubleDots=m,this.commands=w,I&&w.length>0&&Rs(w[0]))throw new A.vHH(4003,!1);const S=w.find(Co);if(S&&S!==Ri(w))throw new A.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class fo{constructor(I,m,w){this.segmentGroup=I,this.processChildren=m,this.index=w}}function fu(_,I,m){if(_||(_=new q([],{})),0===_.segments.length&&_.hasChildren())return Ps(_,I,m);const w=function jh(_,I,m){let w=0,S=I;const k={match:!1,pathIndex:0,commandIndex:0};for(;S<_.segments.length;){if(w>=m.length)return k;const G=_.segments[S],ge=m[w];if(Co(ge))break;const fe=`${ge}`,at=w<m.length-1?m[w+1]:null;if(S>0&&void 0===fe)break;if(fe&&at&&"object"==typeof at&&void 0===at.outlets){if(!Rr(fe,at,G))return k;w+=2}else{if(!Rr(fe,{},G))return k;w++}S++}return{match:!0,pathIndex:S,commandIndex:w}}(_,I,m),S=m.slice(w.commandIndex);if(w.match&&w.pathIndex<_.segments.length){const k=new q(_.segments.slice(0,w.pathIndex),{});return k.children[bt]=new q(_.segments.slice(w.pathIndex),_.children),Ps(k,0,S)}return w.match&&0===S.length?new q(_.segments,{}):w.match&&!_.hasChildren()?ha(_,I,m):w.match?Ps(_,0,S):ha(_,I,m)}function Ps(_,I,m){if(0===m.length)return new q(_.segments,{});{const w=function jo(_){return Co(_[0])?_[0].outlets:{[bt]:_}}(m),S={};if(Object.keys(w).some(k=>k!==bt)&&_.children[bt]&&1===_.numberOfChildren&&0===_.children[bt].segments.length){const k=Ps(_.children[bt],I,m);return new q(_.segments,k.children)}return Object.entries(w).forEach(([k,G])=>{"string"==typeof G&&(G=[G]),null!==G&&(S[k]=fu(_.children[k],I,G))}),Object.entries(_.children).forEach(([k,G])=>{void 0===w[k]&&(S[k]=G)}),new q(_.segments,S)}}function ha(_,I,m){const w=_.segments.slice(0,I);let S=0;for(;S<m.length;){const k=m[S];if(Co(k)){const fe=si(k.outlets);return new q(w,fe)}if(0===S&&Rs(m[0])){w.push(new F(_.segments[I].path,fa(m[0]))),S++;continue}const G=Co(k)?k.outlets[bt]:`${k}`,ge=S<m.length-1?m[S+1]:null;G&&ge&&Rs(ge)?(w.push(new F(G,fa(ge))),S+=2):(w.push(new F(G,{})),S++)}return new q(w,{})}function si(_){const I={};return Object.entries(_).forEach(([m,w])=>{"string"==typeof w&&(w=[w]),null!==w&&(I[m]=ha(new q([],{}),0,w))}),I}function fa(_){const I={};return Object.entries(_).forEach(([m,w])=>I[m]=`${w}`),I}function Rr(_,I,m){return _==m.path&&ni(I,m.parameters)}const bo="imperative";class mi{constructor(I,m){this.id=I,this.url=m}}class $o extends mi{constructor(I,m,w="imperative",S=null){super(I,m),this.type=0,this.navigationTrigger=w,this.restoredState=S}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class po extends mi{constructor(I,m,w){super(I,m),this.urlAfterRedirects=w,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ms extends mi{constructor(I,m,w,S){super(I,m),this.reason=w,this.code=S,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ho extends mi{constructor(I,m,w,S){super(I,m),this.reason=w,this.code=S,this.type=16}}class Go extends mi{constructor(I,m,w,S){super(I,m),this.error=w,this.target=S,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ec extends mi{constructor(I,m,w,S){super(I,m),this.urlAfterRedirects=w,this.state=S,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tc extends mi{constructor(I,m,w,S){super(I,m),this.urlAfterRedirects=w,this.state=S,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ql extends mi{constructor(I,m,w,S,k){super(I,m),this.urlAfterRedirects=w,this.state=S,this.shouldActivate=k,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Kl extends mi{constructor(I,m,w,S){super(I,m),this.urlAfterRedirects=w,this.state=S,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wc extends mi{constructor(I,m,w,S){super(I,m),this.urlAfterRedirects=w,this.state=S,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pu{constructor(I){this.route=I,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ql{constructor(I){this.route=I,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class xs{constructor(I){this.snapshot=I,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yl{constructor(I){this.snapshot=I,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pa{constructor(I){this.snapshot=I,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gu{constructor(I){this.snapshot=I,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ns{constructor(I,m,w){this.routerEvent=I,this.position=m,this.anchor=w,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class an{}class er{constructor(I){this.url=I}}class Mi{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Pr,this.attachRef=null}}let Pr=(()=>{class _{constructor(){this.contexts=new Map}onChildOutletCreated(m,w){const S=this.getOrCreateContext(m);S.outlet=w,this.contexts.set(m,S)}onChildOutletDestroyed(m){const w=this.getContext(m);w&&(w.outlet=null,w.attachRef=null)}onOutletDeactivated(){const m=this.contexts;return this.contexts=new Map,m}onOutletReAttached(m){this.contexts=m}getOrCreateContext(m){let w=this.getContext(m);return w||(w=new Mi,this.contexts.set(m,w)),w}getContext(m){return this.contexts.get(m)||null}static#e=this.\u0275fac=function(w){return new(w||_)};static#t=this.\u0275prov=A.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();class ga{constructor(I){this._root=I}get root(){return this._root.value}parent(I){const m=this.pathFromRoot(I);return m.length>1?m[m.length-2]:null}children(I){const m=ma(I,this._root);return m?m.children.map(w=>w.value):[]}firstChild(I){const m=ma(I,this._root);return m&&m.children.length>0?m.children[0].value:null}siblings(I){const m=Ki(I,this._root);return m.length<2?[]:m[m.length-2].children.map(S=>S.value).filter(S=>S!==I)}pathFromRoot(I){return Ki(I,this._root).map(m=>m.value)}}function ma(_,I){if(_===I.value)return I;for(const m of I.children){const w=ma(_,m);if(w)return w}return null}function Ki(_,I){if(_===I.value)return[I];for(const m of I.children){const w=Ki(_,m);if(w.length)return w.unshift(I),w}return[]}class Qi{constructor(I,m){this.value=I,this.children=m}toString(){return`TreeNode(${this.value})`}}function go(_){const I={};return _&&_.children.forEach(m=>I[m.value.outlet]=m),I}class zn extends ga{constructor(I,m){super(I),this.snapshot=m,Bn(this,I)}toString(){return this.snapshot.toString()}}function st(_,I){const m=function Kt(_,I){const G=new tr([],{},{},"",{},bt,I,null,{});return new kr("",new Qi(G,[]))}(0,I),w=new be.X([new F("",{})]),S=new be.X({}),k=new be.X({}),G=new be.X({}),ge=new be.X(""),fe=new Dn(w,S,G,ge,k,bt,I,m.root);return fe.snapshot=m.root,new zn(new Qi(fe,[]),m)}class Dn{constructor(I,m,w,S,k,G,ge,fe){this.urlSubject=I,this.paramsSubject=m,this.queryParamsSubject=w,this.fragmentSubject=S,this.dataSubject=k,this.outlet=G,this.component=ge,this._futureSnapshot=fe,this.title=this.dataSubject?.pipe((0,Qe.U)(at=>at[Jn]))??(0,ye.of)(void 0),this.url=I,this.params=m,this.queryParams=w,this.fragment=S,this.data=k}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Qe.U)(I=>xn(I)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Qe.U)(I=>xn(I)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function _i(_,I="emptyOnly"){const m=_.pathFromRoot;let w=0;if("always"!==I)for(w=m.length-1;w>=1;){const S=m[w],k=m[w-1];if(S.routeConfig&&""===S.routeConfig.path)w--;else{if(k.component)break;w--}}return function zo(_){return _.reduce((I,m)=>({params:{...I.params,...m.params},data:{...I.data,...m.data},resolve:{...m.data,...I.resolve,...m.routeConfig?.data,...m._resolvedData}}),{params:{},data:{},resolve:{}})}(m.slice(w))}class tr{get title(){return this.data?.[Jn]}constructor(I,m,w,S,k,G,ge,fe,at){this.url=I,this.params=m,this.queryParams=w,this.fragment=S,this.data=k,this.outlet=G,this.component=ge,this.routeConfig=fe,this._resolve=at}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=xn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=xn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(w=>w.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class kr extends ga{constructor(I,m){super(m),this.url=I,Bn(this,m)}toString(){return mo(this._root)}}function Bn(_,I){I.value._routerState=_,I.children.forEach(m=>Bn(_,m))}function mo(_){const I=_.children.length>0?` { ${_.children.map(mo).join(", ")} } `:"";return`${_.value}${I}`}function ai(_){if(_.snapshot){const I=_.snapshot,m=_._futureSnapshot;_.snapshot=m,ni(I.queryParams,m.queryParams)||_.queryParamsSubject.next(m.queryParams),I.fragment!==m.fragment&&_.fragmentSubject.next(m.fragment),ni(I.params,m.params)||_.paramsSubject.next(m.params),function pn(_,I){if(_.length!==I.length)return!1;for(let m=0;m<_.length;++m)if(!ni(_[m],I[m]))return!1;return!0}(I.url,m.url)||_.urlSubject.next(m.url),ni(I.data,m.data)||_.dataSubject.next(m.data)}else _.snapshot=_._futureSnapshot,_.dataSubject.next(_._futureSnapshot.data)}function Lt(_,I){const m=ni(_.params,I.params)&&function V(_,I){return L(_,I)&&_.every((m,w)=>ni(m.parameters,I[w].parameters))}(_.url,I.url);return m&&!(!_.parent!=!I.parent)&&(!_.parent||Lt(_.parent,I.parent))}let yi=(()=>{class _{constructor(){this.activated=null,this._activatedRoute=null,this.name=bt,this.activateEvents=new A.vpe,this.deactivateEvents=new A.vpe,this.attachEvents=new A.vpe,this.detachEvents=new A.vpe,this.parentContexts=(0,A.f3M)(Pr),this.location=(0,A.f3M)(A.s_b),this.changeDetector=(0,A.f3M)(A.sBO),this.environmentInjector=(0,A.f3M)(A.lqb),this.inputBinder=(0,A.f3M)(vi,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(m){if(m.name){const{firstChange:w,previousValue:S}=m.name;if(w)return;this.isTrackedInParentContexts(S)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(S)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(m){return this.parentContexts.getContext(m)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const m=this.parentContexts.getContext(this.name);m?.route&&(m.attachRef?this.attach(m.attachRef,m.route):this.activateWith(m.route,m.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new A.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new A.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new A.vHH(4012,!1);this.location.detach();const m=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(m.instance),m}attach(m,w){this.activated=m,this._activatedRoute=w,this.location.insert(m.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(m.instance)}deactivate(){if(this.activated){const m=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(m)}}activateWith(m,w){if(this.isActivated)throw new A.vHH(4013,!1);this._activatedRoute=m;const S=this.location,G=m.snapshot.component,ge=this.parentContexts.getOrCreateContext(this.name).children,fe=new Zl(m,ge,S.injector);this.activated=S.createComponent(G,{index:S.length,injector:fe,environmentInjector:w??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(w){return new(w||_)};static#t=this.\u0275dir=A.lG2({type:_,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[A.TTD]})}return _})();class Zl{constructor(I,m,w){this.route=I,this.childContexts=m,this.parent=w}get(I,m){return I===Dn?this.route:I===Pr?this.childContexts:this.parent.get(I,m)}}const vi=new A.OlP("");let Zn=(()=>{class _{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(m){this.unsubscribeFromRouteData(m),this.subscribeToRouteData(m)}unsubscribeFromRouteData(m){this.outletDataSubscriptions.get(m)?.unsubscribe(),this.outletDataSubscriptions.delete(m)}subscribeToRouteData(m){const{activatedRoute:w}=m,S=Oe([w.queryParams,w.params,w.data]).pipe((0,Ce.w)(([k,G,ge],fe)=>(ge={...k,...G,...ge},0===fe?(0,ye.of)(ge):Promise.resolve(ge)))).subscribe(k=>{if(!m.isActivated||!m.activatedComponentRef||m.activatedRoute!==w||null===w.component)return void this.unsubscribeFromRouteData(m);const G=(0,A.qFp)(w.component);if(G)for(const{templateName:ge}of G.inputs)m.activatedComponentRef.setInput(ge,k[ge]);else this.unsubscribeFromRouteData(m)});this.outletDataSubscriptions.set(m,S)}static#e=this.\u0275fac=function(w){return new(w||_)};static#t=this.\u0275prov=A.Yz7({token:_,factory:_.\u0275fac})}return _})();function Qr(_,I,m){if(m&&_.shouldReuseRoute(I.value,m.value.snapshot)){const w=m.value;w._futureSnapshot=I.value;const S=function xi(_,I,m){return I.children.map(w=>{for(const S of m.children)if(_.shouldReuseRoute(w.value,S.value.snapshot))return Qr(_,w,S);return Qr(_,w)})}(_,I,m);return new Qi(w,S)}{if(_.shouldAttach(I.value)){const k=_.retrieve(I.value);if(null!==k){const G=k.route;return G.value._futureSnapshot=I.value,G.children=I.children.map(ge=>Qr(_,ge)),G}}const w=function Wo(_){return new Dn(new be.X(_.url),new be.X(_.params),new be.X(_.queryParams),new be.X(_.fragment),new be.X(_.data),_.outlet,_.component,_)}(I.value),S=I.children.map(k=>Qr(_,k));return new Qi(w,S)}}const _o="ngNavigationCancelingError";function Yi(_,I){const{redirectTo:m,navigationBehaviorOptions:w}=Sn(I)?{redirectTo:I,navigationBehaviorOptions:void 0}:I,S=Zi(!1,0,I);return S.url=m,S.navigationBehaviorOptions=w,S}function Zi(_,I,m){const w=new Error("NavigationCancelingError: "+(_||""));return w[_o]=!0,w.cancellationCode=I,m&&(w.url=m),w}function Os(_){return _&&_[_o]}let tn=(()=>{class _{static#e=this.\u0275fac=function(w){return new(w||_)};static#t=this.\u0275cmp=A.Xpm({type:_,selectors:[["ng-component"]],standalone:!0,features:[A.jDz],decls:1,vars:0,template:function(w,S){1&w&&A._UZ(0,"router-outlet")},dependencies:[yi],encapsulation:2})}return _})();function yr(_){const I=_.children&&_.children.map(yr),m=I?{..._,children:I}:{..._};return!m.component&&!m.loadComponent&&(I||m.loadChildren)&&m.outlet&&m.outlet!==bt&&(m.component=tn),m}function $n(_){return _.outlet||bt}function ui(_){if(!_)return null;if(_.routeConfig?._injector)return _.routeConfig._injector;for(let I=_.parent;I;I=I.parent){const m=I.routeConfig;if(m?._loadedInjector)return m._loadedInjector;if(m?._injector)return m._injector}return null}class Xl{constructor(I,m,w,S,k){this.routeReuseStrategy=I,this.futureState=m,this.currState=w,this.forwardEvent=S,this.inputBindingEnabled=k}activate(I){const m=this.futureState._root,w=this.currState?this.currState._root:null;this.deactivateChildRoutes(m,w,I),ai(this.futureState.root),this.activateChildRoutes(m,w,I)}deactivateChildRoutes(I,m,w){const S=go(m);I.children.forEach(k=>{const G=k.value.outlet;this.deactivateRoutes(k,S[G],w),delete S[G]}),Object.values(S).forEach(k=>{this.deactivateRouteAndItsChildren(k,w)})}deactivateRoutes(I,m,w){const S=I.value,k=m?m.value:null;if(S===k)if(S.component){const G=w.getContext(S.outlet);G&&this.deactivateChildRoutes(I,m,G.children)}else this.deactivateChildRoutes(I,m,w);else k&&this.deactivateRouteAndItsChildren(m,w)}deactivateRouteAndItsChildren(I,m){I.value.component&&this.routeReuseStrategy.shouldDetach(I.value.snapshot)?this.detachAndStoreRouteSubtree(I,m):this.deactivateRouteAndOutlet(I,m)}detachAndStoreRouteSubtree(I,m){const w=m.getContext(I.value.outlet),S=w&&I.value.component?w.children:m,k=go(I);for(const G of Object.keys(k))this.deactivateRouteAndItsChildren(k[G],S);if(w&&w.outlet){const G=w.outlet.detach(),ge=w.children.onOutletDeactivated();this.routeReuseStrategy.store(I.value.snapshot,{componentRef:G,route:I,contexts:ge})}}deactivateRouteAndOutlet(I,m){const w=m.getContext(I.value.outlet),S=w&&I.value.component?w.children:m,k=go(I);for(const G of Object.keys(k))this.deactivateRouteAndItsChildren(k[G],S);w&&(w.outlet&&(w.outlet.deactivate(),w.children.onOutletDeactivated()),w.attachRef=null,w.route=null)}activateChildRoutes(I,m,w){const S=go(m);I.children.forEach(k=>{this.activateRoutes(k,S[k.value.outlet],w),this.forwardEvent(new gu(k.value.snapshot))}),I.children.length&&this.forwardEvent(new Yl(I.value.snapshot))}activateRoutes(I,m,w){const S=I.value,k=m?m.value:null;if(ai(S),S===k)if(S.component){const G=w.getOrCreateContext(S.outlet);this.activateChildRoutes(I,m,G.children)}else this.activateChildRoutes(I,m,w);else if(S.component){const G=w.getOrCreateContext(S.outlet);if(this.routeReuseStrategy.shouldAttach(S.snapshot)){const ge=this.routeReuseStrategy.retrieve(S.snapshot);this.routeReuseStrategy.store(S.snapshot,null),G.children.onOutletReAttached(ge.contexts),G.attachRef=ge.componentRef,G.route=ge.route.value,G.outlet&&G.outlet.attach(ge.componentRef,ge.route.value),ai(ge.route.value),this.activateChildRoutes(I,null,G.children)}else{const ge=ui(S.snapshot);G.attachRef=null,G.route=S,G.injector=ge,G.outlet&&G.outlet.activateWith(S,G.injector),this.activateChildRoutes(I,null,G.children)}}else this.activateChildRoutes(I,null,w)}}class vu{constructor(I){this.path=I,this.route=this.path[this.path.length-1]}}class Ko{constructor(I,m){this.component=I,this.route=m}}function Hh(_,I,m){const w=_._root;return Qo(w,I?I._root:null,m,[w.value])}function _a(_,I){const m=Symbol(),w=I.get(_,m);return w===m?"function"!=typeof _||(0,A.Z0I)(_)?I.get(_):_:w}function Qo(_,I,m,w,S={canDeactivateChecks:[],canActivateChecks:[]}){const k=go(I);return _.children.forEach(G=>{(function td(_,I,m,w,S={canDeactivateChecks:[],canActivateChecks:[]}){const k=_.value,G=I?I.value:null,ge=m?m.getContext(_.value.outlet):null;if(G&&k.routeConfig===G.routeConfig){const fe=function nd(_,I,m){if("function"==typeof m)return m(_,I);switch(m){case"pathParamsChange":return!L(_.url,I.url);case"pathParamsOrQueryParamsChange":return!L(_.url,I.url)||!ni(_.queryParams,I.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Lt(_,I)||!ni(_.queryParams,I.queryParams);default:return!Lt(_,I)}}(G,k,k.routeConfig.runGuardsAndResolvers);fe?S.canActivateChecks.push(new vu(w)):(k.data=G.data,k._resolvedData=G._resolvedData),Qo(_,I,k.component?ge?ge.children:null:m,w,S),fe&&ge&&ge.outlet&&ge.outlet.isActivated&&S.canDeactivateChecks.push(new Ko(ge.outlet.component,G))}else G&&Yo(I,ge,S),S.canActivateChecks.push(new vu(w)),Qo(_,null,k.component?ge?ge.children:null:m,w,S)})(G,k[G.value.outlet],m,w.concat([G.value]),S),delete k[G.value.outlet]}),Object.entries(k).forEach(([G,ge])=>Yo(ge,m.getContext(G),S)),S}function Yo(_,I,m){const w=go(_),S=_.value;Object.entries(w).forEach(([k,G])=>{Yo(G,S.component?I?I.children.getContext(k):null:I,m)}),m.canDeactivateChecks.push(new Ko(S.component&&I&&I.outlet&&I.outlet.isActivated?I.outlet.component:null,S))}function Po(_){return"function"==typeof _}function Cc(_){return _ instanceof Ze||"EmptyError"===_?.name}const ya=Symbol("INITIAL_VALUE");function Ls(){return(0,Ce.w)(_=>Oe(_.map(I=>I.pipe(Je(1),function dt(..._){const I=(0,dn.yG)(_);return(0,me.e)((m,w)=>{(I?xr(_,m,I):xr(_,m)).subscribe(w)})}(ya)))).pipe((0,Qe.U)(I=>{for(const m of I)if(!0!==m){if(m===ya)return ya;if(!1===m||m instanceof ii)return m}return!0}),ze(I=>I!==ya),Je(1)))}function bc(_){return(0,hn.z)((0,Cn.b)(I=>{if(Sn(I))throw Yi(0,I)}),(0,Qe.U)(I=>!0===I))}class va{constructor(I){this.segmentGroup=I||null}}class Xo{constructor(I){this.urlTree=I}}function Us(_){return vt(new va(_))}function Bs(_){return vt(new Xo(_))}class zh{constructor(I,m){this.urlSerializer=I,this.urlTree=m}noMatchError(I){return new A.vHH(4002,!1)}lineralizeSegments(I,m){let w=[],S=m.root;for(;;){if(w=w.concat(S.segments),0===S.numberOfChildren)return(0,ye.of)(w);if(S.numberOfChildren>1||!S.children[bt])return vt(new A.vHH(4e3,!1));S=S.children[bt]}}applyRedirectCommands(I,m,w){return this.applyRedirectCreateUrlTree(m,this.urlSerializer.parse(m),I,w)}applyRedirectCreateUrlTree(I,m,w,S){const k=this.createSegmentGroup(I,m.root,w,S);return new ii(k,this.createQueryParams(m.queryParams,this.urlTree.queryParams),m.fragment)}createQueryParams(I,m){const w={};return Object.entries(I).forEach(([S,k])=>{if("string"==typeof k&&k.startsWith(":")){const ge=k.substring(1);w[S]=m[ge]}else w[S]=k}),w}createSegmentGroup(I,m,w,S){const k=this.createSegments(I,m.segments,w,S);let G={};return Object.entries(m.children).forEach(([ge,fe])=>{G[ge]=this.createSegmentGroup(I,fe,w,S)}),new q(k,G)}createSegments(I,m,w,S){return m.map(k=>k.path.startsWith(":")?this.findPosParam(I,k,S):this.findOrReturn(k,w))}findPosParam(I,m,w){const S=w[m.path.substring(1)];if(!S)throw new A.vHH(4001,!1);return S}findOrReturn(I,m){let w=0;for(const S of m){if(S.path===I.path)return m.splice(w),S;w++}return I}}const js={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Rc(_,I,m,w,S){const k=vo(_,I,m);return k.matched?(w=function qo(_,I){return _.providers&&!_._injector&&(_._injector=(0,A.MMx)(_.providers,I,`Route: ${_.path}`)),_._injector??I}(I,w),function wu(_,I,m,w){const S=I.canMatch;if(!S||0===S.length)return(0,ye.of)(!0);const k=S.map(G=>{const ge=_a(G,_);return Dr(function od(_){return _&&Po(_.canMatch)}(ge)?ge.canMatch(I,m):_.runInContext(()=>ge(I,m)))});return(0,ye.of)(k).pipe(Ls(),bc())}(w,I,m).pipe((0,Qe.U)(G=>!0===G?k:{...js}))):(0,ye.of)(k)}function vo(_,I,m){if(""===I.path)return"full"===I.pathMatch&&(_.hasChildren()||m.length>0)?{...js}:{matched:!0,consumedSegments:[],remainingSegments:m,parameters:{},positionalParamSegments:{}};const S=(I.matcher||ti)(m,_,I);if(!S)return{...js};const k={};Object.entries(S.posParams??{}).forEach(([ge,fe])=>{k[ge]=fe.path});const G=S.consumed.length>0?{...k,...S.consumed[S.consumed.length-1].parameters}:k;return{matched:!0,consumedSegments:S.consumed,remainingSegments:m.slice(S.consumed.length),parameters:G,positionalParamSegments:S.posParams??{}}}function $s(_,I,m,w){return m.length>0&&function Tv(_,I,m){return m.some(w=>N(_,I,w)&&$n(w)!==bt)}(_,m,w)?{segmentGroup:new q(I,Hs(w,new q(m,_.children))),slicedSegments:[]}:0===m.length&&function v(_,I,m){return m.some(w=>N(_,I,w))}(_,m,w)?{segmentGroup:new q(_.segments,Wh(_,0,m,w,_.children)),slicedSegments:m}:{segmentGroup:new q(_.segments,_.children),slicedSegments:m}}function Wh(_,I,m,w,S){const k={};for(const G of w)if(N(_,m,G)&&!S[$n(G)]){const ge=new q([],{});k[$n(G)]=ge}return{...S,...k}}function Hs(_,I){const m={};m[bt]=I;for(const w of _)if(""===w.path&&$n(w)!==bt){const S=new q([],{});m[$n(w)]=S}return m}function N(_,I,m){return(!(_.hasChildren()||I.length>0)||"full"!==m.pathMatch)&&""===m.path}class _e{constructor(I,m,w,S,k,G,ge){this.injector=I,this.configLoader=m,this.rootComponentType=w,this.config=S,this.urlTree=k,this.paramsInheritanceStrategy=G,this.urlSerializer=ge,this.allowRedirects=!0,this.applyRedirects=new zh(this.urlSerializer,this.urlTree)}noMatchError(I){return new A.vHH(4002,!1)}recognize(){const I=$s(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,I,bt).pipe(bn(m=>{if(m instanceof Xo)return this.allowRedirects=!1,this.urlTree=m.urlTree,this.match(m.urlTree);throw m instanceof va?this.noMatchError(m):m}),(0,Qe.U)(m=>{const w=new tr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},bt,this.rootComponentType,null,{}),S=new Qi(w,m),k=new kr("",S),G=function nn(_,I,m=null,w=null){return Ss(Pi(_),I,m,w)}(w,[],this.urlTree.queryParams,this.urlTree.fragment);return G.queryParams=this.urlTree.queryParams,k.url=this.urlSerializer.serialize(G),this.inheritParamsAndData(k._root),{state:k,tree:G}}))}match(I){return this.processSegmentGroup(this.injector,this.config,I.root,bt).pipe(bn(w=>{throw w instanceof va?this.noMatchError(w):w}))}inheritParamsAndData(I){const m=I.value,w=_i(m,this.paramsInheritanceStrategy);m.params=Object.freeze(w.params),m.data=Object.freeze(w.data),I.children.forEach(S=>this.inheritParamsAndData(S))}processSegmentGroup(I,m,w,S){return 0===w.segments.length&&w.hasChildren()?this.processChildren(I,m,w):this.processSegment(I,m,w,w.segments,S,!0)}processChildren(I,m,w){const S=[];for(const k of Object.keys(w.children))"primary"===k?S.unshift(k):S.push(k);return(0,W.D)(S).pipe(vn(k=>{const G=w.children[k],ge=function yu(_,I){const m=_.filter(w=>$n(w)===I);return m.push(..._.filter(w=>$n(w)!==I)),m}(m,k);return this.processSegmentGroup(I,ge,G,k)}),function uo(_,I){return(0,me.e)(function St(_,I,m,w,S){return(k,G)=>{let ge=m,fe=I,at=0;k.subscribe((0,Se.x)(G,$t=>{const Jt=at++;fe=ge?_(fe,$t,Jt):(ge=!0,$t),w&&G.next(fe)},S&&(()=>{ge&&G.next(fe),G.complete()})))}}(_,I,arguments.length>=2,!0))}((k,G)=>(k.push(...G),k)),yn(null),function gi(_,I){const m=arguments.length>=2;return w=>w.pipe(_?ze((S,k)=>_(S,k,w)):Be.y,pi(1),m?yn(I):Rn(()=>new Ze))}(),(0,Ct.z)(k=>{if(null===k)return Us(w);const G=Ln(k);return function ke(_){_.sort((I,m)=>I.value.outlet===bt?-1:m.value.outlet===bt?1:I.value.outlet.localeCompare(m.value.outlet))}(G),(0,ye.of)(G)}))}processSegment(I,m,w,S,k,G){return(0,W.D)(m).pipe(vn(ge=>this.processSegmentAgainstRoute(ge._injector??I,m,ge,w,S,k,G).pipe(bn(fe=>{if(fe instanceof va)return(0,ye.of)(null);throw fe}))),Kn(ge=>!!ge),bn(ge=>{if(Cc(ge))return function M(_,I,m){return 0===I.length&&!_.children[m]}(w,S,k)?(0,ye.of)([]):Us(w);throw ge}))}processSegmentAgainstRoute(I,m,w,S,k,G,ge){return function C(_,I,m,w){return!!($n(_)===w||w!==bt&&N(I,m,_))&&("**"===_.path||vo(I,_,m).matched)}(w,S,k,G)?void 0===w.redirectTo?this.matchSegmentAgainstRoute(I,S,w,k,G,ge):ge&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(I,S,m,w,k,G):Us(S):Us(S)}expandSegmentAgainstRouteUsingRedirect(I,m,w,S,k,G){return"**"===S.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(I,w,S,G):this.expandRegularSegmentAgainstRouteUsingRedirect(I,m,w,S,k,G)}expandWildCardWithParamsAgainstRouteUsingRedirect(I,m,w,S){const k=this.applyRedirects.applyRedirectCommands([],w.redirectTo,{});return w.redirectTo.startsWith("/")?Bs(k):this.applyRedirects.lineralizeSegments(w,k).pipe((0,Ct.z)(G=>{const ge=new q(G,{});return this.processSegment(I,m,ge,G,S,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(I,m,w,S,k,G){const{matched:ge,consumedSegments:fe,remainingSegments:at,positionalParamSegments:$t}=vo(m,S,k);if(!ge)return Us(m);const Jt=this.applyRedirects.applyRedirectCommands(fe,S.redirectTo,$t);return S.redirectTo.startsWith("/")?Bs(Jt):this.applyRedirects.lineralizeSegments(S,Jt).pipe((0,Ct.z)(on=>this.processSegment(I,w,m,on.concat(at),G,!1)))}matchSegmentAgainstRoute(I,m,w,S,k,G){let ge;if("**"===w.path){const fe=S.length>0?Ri(S).parameters:{},at=new tr(S,fe,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,En(w),$n(w),w.component??w._loadedComponent??null,w,Yt(w));ge=(0,ye.of)({snapshot:at,consumedSegments:[],remainingSegments:[]}),m.children={}}else ge=Rc(m,w,S,I).pipe((0,Qe.U)(({matched:fe,consumedSegments:at,remainingSegments:$t,parameters:Jt})=>fe?{snapshot:new tr(at,Jt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,En(w),$n(w),w.component??w._loadedComponent??null,w,Yt(w)),consumedSegments:at,remainingSegments:$t}:null));return ge.pipe((0,Ce.w)(fe=>null===fe?Us(m):this.getChildConfig(I=w._injector??I,w,S).pipe((0,Ce.w)(({routes:at})=>{const $t=w._loadedInjector??I,{snapshot:Jt,consumedSegments:on,remainingSegments:Mn}=fe,{segmentGroup:Su,slicedSegments:Gs}=$s(m,on,Mn,at);if(0===Gs.length&&Su.hasChildren())return this.processChildren($t,at,Su).pipe((0,Qe.U)(os=>null===os?null:[new Qi(Jt,os)]));if(0===at.length&&0===Gs.length)return(0,ye.of)([new Qi(Jt,[])]);const cf=$n(w)===k;return this.processSegment($t,at,Su,Gs,cf?bt:k,!0).pipe((0,Qe.U)(os=>[new Qi(Jt,os)]))}))))}getChildConfig(I,m,w){return m.children?(0,ye.of)({routes:m.children,injector:I}):m.loadChildren?void 0!==m._loadedRoutes?(0,ye.of)({routes:m._loadedRoutes,injector:m._loadedInjector}):function Tu(_,I,m,w){const S=I.canLoad;if(void 0===S||0===S.length)return(0,ye.of)(!0);const k=S.map(G=>{const ge=_a(G,_);return Dr(function Ac(_){return _&&Po(_.canLoad)}(ge)?ge.canLoad(I,m):_.runInContext(()=>ge(I,m)))});return(0,ye.of)(k).pipe(Ls(),bc())}(I,m,w).pipe((0,Ct.z)(S=>S?this.configLoader.loadChildren(I,m).pipe((0,Cn.b)(k=>{m._loadedRoutes=k.routes,m._loadedInjector=k.injector})):function Du(_){return vt(Zi(!1,3))}())):(0,ye.of)({routes:[],injector:I})}}function gt(_){const I=_.value.routeConfig;return I&&""===I.path}function Ln(_){const I=[],m=new Set;for(const w of _){if(!gt(w)){I.push(w);continue}const S=I.find(k=>w.value.routeConfig===k.value.routeConfig);void 0!==S?(S.children.push(...w.children),m.add(S)):I.push(w)}for(const w of m){const S=Ln(w.children);I.push(new Qi(w.value,S))}return I.filter(w=>!m.has(w))}function En(_){return _.data||{}}function Yt(_){return _.resolve||{}}function Zr(_){return"string"==typeof _.title||null===_.title}function Ei(_){return(0,Ce.w)(I=>{const m=_(I);return m?(0,W.D)(m).pipe((0,Qe.U)(()=>I)):(0,ye.of)(I)})}const Oi=new A.OlP("ROUTES");let Eo=(()=>{class _{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,A.f3M)(A.Sil)}loadComponent(m){if(this.componentLoaders.get(m))return this.componentLoaders.get(m);if(m._loadedComponent)return(0,ye.of)(m._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(m);const w=Dr(m.loadComponent()).pipe((0,Qe.U)(Kh),(0,Cn.b)(k=>{this.onLoadEndListener&&this.onLoadEndListener(m),m._loadedComponent=k}),wr(()=>{this.componentLoaders.delete(m)})),S=new De(w,()=>new le.x).pipe(Pe());return this.componentLoaders.set(m,S),S}loadChildren(m,w){if(this.childrenLoaders.get(w))return this.childrenLoaders.get(w);if(w._loadedRoutes)return(0,ye.of)({routes:w._loadedRoutes,injector:w._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(w);const k=function ud(_,I,m,w){return Dr(_.loadChildren()).pipe((0,Qe.U)(Kh),(0,Ct.z)(S=>S instanceof A.YKP||Array.isArray(S)?(0,ye.of)(S):(0,W.D)(I.compileModuleAsync(S))),(0,Qe.U)(S=>{w&&w(_);let k,G,ge=!1;return Array.isArray(S)?(G=S,!0):(k=S.create(m).injector,G=k.get(Oi,[],{optional:!0,self:!0}).flat()),{routes:G.map(yr),injector:k}}))}(w,this.compiler,m,this.onLoadEndListener).pipe(wr(()=>{this.childrenLoaders.delete(w)})),G=new De(k,()=>new le.x).pipe(Pe());return this.childrenLoaders.set(w,G),G}static#e=this.\u0275fac=function(w){return new(w||_)};static#t=this.\u0275prov=A.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();function Kh(_){return function qh(_){return _&&"object"==typeof _&&"default"in _}(_)?_.default:_}let cd=(()=>{class _{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new le.x,this.transitionAbortSubject=new le.x,this.configLoader=(0,A.f3M)(Eo),this.environmentInjector=(0,A.f3M)(A.lqb),this.urlSerializer=(0,A.f3M)(se),this.rootContexts=(0,A.f3M)(Pr),this.inputBindingEnabled=null!==(0,A.f3M)(vi,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ye.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=S=>this.events.next(new Ql(S)),this.configLoader.onLoadStartListener=S=>this.events.next(new pu(S))}complete(){this.transitions?.complete()}handleNavigationRequest(m){const w=++this.navigationId;this.transitions?.next({...this.transitions.value,...m,id:w})}setupNavigations(m,w,S){return this.transitions=new be.X({id:0,currentUrlTree:w,currentRawUrl:w,currentBrowserUrl:w,extractedUrl:m.urlHandlingStrategy.extract(w),urlAfterRedirects:m.urlHandlingStrategy.extract(w),rawUrl:w,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:bo,restoredState:null,currentSnapshot:S.snapshot,targetSnapshot:null,currentRouterState:S,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ze(k=>0!==k.id),(0,Qe.U)(k=>({...k,extractedUrl:m.urlHandlingStrategy.extract(k.rawUrl)})),(0,Ce.w)(k=>{this.currentTransition=k;let G=!1,ge=!1;return(0,ye.of)(k).pipe((0,Cn.b)(fe=>{this.currentNavigation={id:fe.id,initialUrl:fe.rawUrl,extractedUrl:fe.extractedUrl,trigger:fe.source,extras:fe.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Ce.w)(fe=>{const at=fe.currentBrowserUrl.toString(),$t=!m.navigated||fe.extractedUrl.toString()!==at||at!==fe.currentUrlTree.toString();if(!$t&&"reload"!==(fe.extras.onSameUrlNavigation??m.onSameUrlNavigation)){const on="";return this.events.next(new Ho(fe.id,this.urlSerializer.serialize(fe.rawUrl),on,0)),fe.resolve(null),Ft.E}if(m.urlHandlingStrategy.shouldProcessUrl(fe.rawUrl))return(0,ye.of)(fe).pipe((0,Ce.w)(on=>{const Mn=this.transitions?.getValue();return this.events.next(new $o(on.id,this.urlSerializer.serialize(on.extractedUrl),on.source,on.restoredState)),Mn!==this.transitions?.getValue()?Ft.E:Promise.resolve(on)}),function nr(_,I,m,w,S,k){return(0,Ct.z)(G=>function z(_,I,m,w,S,k,G="emptyOnly"){return new _e(_,I,m,w,S,G,k).recognize()}(_,I,m,w,G.extractedUrl,S,k).pipe((0,Qe.U)(({state:ge,tree:fe})=>({...G,targetSnapshot:ge,urlAfterRedirects:fe}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,m.config,this.urlSerializer,m.paramsInheritanceStrategy),(0,Cn.b)(on=>{k.targetSnapshot=on.targetSnapshot,k.urlAfterRedirects=on.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:on.urlAfterRedirects};const Mn=new Ec(on.id,this.urlSerializer.serialize(on.extractedUrl),this.urlSerializer.serialize(on.urlAfterRedirects),on.targetSnapshot);this.events.next(Mn)}));if($t&&m.urlHandlingStrategy.shouldProcessUrl(fe.currentRawUrl)){const{id:on,extractedUrl:Mn,source:Su,restoredState:Gs,extras:cf}=fe,os=new $o(on,this.urlSerializer.serialize(Mn),Su,Gs);this.events.next(os);const rm=st(0,this.rootComponentType).snapshot;return this.currentTransition=k={...fe,targetSnapshot:rm,urlAfterRedirects:Mn,extras:{...cf,skipLocationChange:!1,replaceUrl:!1}},(0,ye.of)(k)}{const on="";return this.events.next(new Ho(fe.id,this.urlSerializer.serialize(fe.extractedUrl),on,1)),fe.resolve(null),Ft.E}}),(0,Cn.b)(fe=>{const at=new Tc(fe.id,this.urlSerializer.serialize(fe.extractedUrl),this.urlSerializer.serialize(fe.urlAfterRedirects),fe.targetSnapshot);this.events.next(at)}),(0,Qe.U)(fe=>(this.currentTransition=k={...fe,guards:Hh(fe.targetSnapshot,fe.currentSnapshot,this.rootContexts)},k)),function Eu(_,I){return(0,Ct.z)(m=>{const{targetSnapshot:w,currentSnapshot:S,guards:{canActivateChecks:k,canDeactivateChecks:G}}=m;return 0===G.length&&0===k.length?(0,ye.of)({...m,guardsResult:!0}):function Vs(_,I,m,w){return(0,W.D)(_).pipe((0,Ct.z)(S=>function Yr(_,I,m,w,S){const k=I&&I.routeConfig?I.routeConfig.canDeactivate:null;if(!k||0===k.length)return(0,ye.of)(!0);const G=k.map(ge=>{const fe=ui(I)??S,at=_a(ge,fe);return Dr(function id(_){return _&&Po(_.canDeactivate)}(at)?at.canDeactivate(_,I,m,w):fe.runInContext(()=>at(_,I,m,w))).pipe(Kn())});return(0,ye.of)(G).pipe(Ls())}(S.component,S.route,m,I,w)),Kn(S=>!0!==S,!0))}(G,w,S,_).pipe((0,Ct.z)(ge=>ge&&function rd(_){return"boolean"==typeof _}(ge)?function Ji(_,I,m,w){return(0,W.D)(I).pipe(vn(S=>xr(function ad(_,I){return null!==_&&I&&I(new xs(_)),(0,ye.of)(!0)}(S.route.parent,w),function sd(_,I){return null!==_&&I&&I(new pa(_)),(0,ye.of)(!0)}(S.route,w),function Jo(_,I,m){const w=I[I.length-1],k=I.slice(0,I.length-1).reverse().map(G=>function ed(_){const I=_.routeConfig?_.routeConfig.canActivateChild:null;return I&&0!==I.length?{node:_,guards:I}:null}(G)).filter(G=>null!==G).map(G=>et(()=>{const ge=G.guards.map(fe=>{const at=ui(G.node)??m,$t=_a(fe,at);return Dr(function Zo(_){return _&&Po(_.canActivateChild)}($t)?$t.canActivateChild(w,_):at.runInContext(()=>$t(w,_))).pipe(Kn())});return(0,ye.of)(ge).pipe(Ls())}));return(0,ye.of)(k).pipe(Ls())}(_,S.path,m),function vr(_,I,m){const w=I.routeConfig?I.routeConfig.canActivate:null;if(!w||0===w.length)return(0,ye.of)(!0);const S=w.map(k=>et(()=>{const G=ui(I)??m,ge=_a(k,G);return Dr(function Iu(_){return _&&Po(_.canActivate)}(ge)?ge.canActivate(I,_):G.runInContext(()=>ge(I,_))).pipe(Kn())}));return(0,ye.of)(S).pipe(Ls())}(_,S.route,m))),Kn(S=>!0!==S,!0))}(w,k,_,I):(0,ye.of)(ge)),(0,Qe.U)(ge=>({...m,guardsResult:ge})))})}(this.environmentInjector,fe=>this.events.next(fe)),(0,Cn.b)(fe=>{if(k.guardsResult=fe.guardsResult,Sn(fe.guardsResult))throw Yi(0,fe.guardsResult);const at=new ql(fe.id,this.urlSerializer.serialize(fe.extractedUrl),this.urlSerializer.serialize(fe.urlAfterRedirects),fe.targetSnapshot,!!fe.guardsResult);this.events.next(at)}),ze(fe=>!!fe.guardsResult||(this.cancelNavigationTransition(fe,"",3),!1)),Ei(fe=>{if(fe.guards.canActivateChecks.length)return(0,ye.of)(fe).pipe((0,Cn.b)(at=>{const $t=new Kl(at.id,this.urlSerializer.serialize(at.extractedUrl),this.urlSerializer.serialize(at.urlAfterRedirects),at.targetSnapshot);this.events.next($t)}),(0,Ce.w)(at=>{let $t=!1;return(0,ye.of)(at).pipe(function Pn(_,I){return(0,Ct.z)(m=>{const{targetSnapshot:w,guards:{canActivateChecks:S}}=m;if(!S.length)return(0,ye.of)(m);let k=0;return(0,W.D)(S).pipe(vn(G=>function Ar(_,I,m,w){const S=_.routeConfig,k=_._resolve;return void 0!==S?.title&&!Zr(S)&&(k[Jn]=S.title),function Mo(_,I,m,w){const S=function Ni(_){return[...Object.keys(_),...Object.getOwnPropertySymbols(_)]}(_);if(0===S.length)return(0,ye.of)({});const k={};return(0,W.D)(S).pipe((0,Ct.z)(G=>function Io(_,I,m,w){const S=ui(I)??w,k=_a(_,S);return Dr(k.resolve?k.resolve(I,m):S.runInContext(()=>k(I,m)))}(_[G],I,m,w).pipe(Kn(),(0,Cn.b)(ge=>{k[G]=ge}))),pi(1),function fn(_){return(0,Qe.U)(()=>_)}(k),bn(G=>Cc(G)?Ft.E:vt(G)))}(k,_,I,w).pipe((0,Qe.U)(G=>(_._resolvedData=G,_.data=_i(_,m).resolve,S&&Zr(S)&&(_.data[Jn]=S.title),null)))}(G.route,w,_,I)),(0,Cn.b)(()=>k++),pi(1),(0,Ct.z)(G=>k===S.length?(0,ye.of)(m):Ft.E))})}(m.paramsInheritanceStrategy,this.environmentInjector),(0,Cn.b)({next:()=>$t=!0,complete:()=>{$t||this.cancelNavigationTransition(at,"",2)}}))}),(0,Cn.b)(at=>{const $t=new wc(at.id,this.urlSerializer.serialize(at.extractedUrl),this.urlSerializer.serialize(at.urlAfterRedirects),at.targetSnapshot);this.events.next($t)}))}),Ei(fe=>{const at=$t=>{const Jt=[];$t.routeConfig?.loadComponent&&!$t.routeConfig._loadedComponent&&Jt.push(this.configLoader.loadComponent($t.routeConfig).pipe((0,Cn.b)(on=>{$t.component=on}),(0,Qe.U)(()=>{})));for(const on of $t.children)Jt.push(...at(on));return Jt};return Oe(at(fe.targetSnapshot.root)).pipe(yn(),Je(1))}),Ei(()=>this.afterPreactivation()),(0,Qe.U)(fe=>{const at=function So(_,I,m){const w=Qr(_,I._root,m?m._root:void 0);return new zn(w,I)}(m.routeReuseStrategy,fe.targetSnapshot,fe.currentRouterState);return this.currentTransition=k={...fe,targetRouterState:at},k}),(0,Cn.b)(()=>{this.events.next(new an)}),((_,I,m,w)=>(0,Qe.U)(S=>(new Xl(I,S.targetRouterState,S.currentRouterState,m,w).activate(_),S)))(this.rootContexts,m.routeReuseStrategy,fe=>this.events.next(fe),this.inputBindingEnabled),Je(1),(0,Cn.b)({next:fe=>{G=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new po(fe.id,this.urlSerializer.serialize(fe.extractedUrl),this.urlSerializer.serialize(fe.urlAfterRedirects))),m.titleStrategy?.updateTitle(fe.targetRouterState.snapshot),fe.resolve(!0)},complete:()=>{G=!0}}),function qt(_){return(0,me.e)((I,m)=>{(0,$e.Xf)(_).subscribe((0,Se.x)(m,()=>m.complete(),Wt.Z)),!m.closed&&I.subscribe(m)})}(this.transitionAbortSubject.pipe((0,Cn.b)(fe=>{throw fe}))),wr(()=>{G||ge||this.cancelNavigationTransition(k,"",1),this.currentNavigation?.id===k.id&&(this.currentNavigation=null)}),bn(fe=>{if(ge=!0,Os(fe))this.events.next(new Ms(k.id,this.urlSerializer.serialize(k.extractedUrl),fe.message,fe.cancellationCode)),function Ro(_){return Os(_)&&Sn(_.url)}(fe)?this.events.next(new er(fe.url)):k.resolve(!1);else{this.events.next(new Go(k.id,this.urlSerializer.serialize(k.extractedUrl),fe,k.targetSnapshot??void 0));try{k.resolve(m.errorHandler(fe))}catch(at){k.reject(at)}}return Ft.E}))}))}cancelNavigationTransition(m,w,S){const k=new Ms(m.id,this.urlSerializer.serialize(m.extractedUrl),w,S);this.events.next(k),m.resolve(!1)}static#e=this.\u0275fac=function(w){return new(w||_)};static#t=this.\u0275prov=A.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();function Qh(_){return _!==bo}let Yh=(()=>{class _{buildTitle(m){let w,S=m.root;for(;void 0!==S;)w=this.getResolvedTitleForRoute(S)??w,S=S.children.find(k=>k.outlet===bt);return w}getResolvedTitleForRoute(m){return m.data[Jn]}static#e=this.\u0275fac=function(w){return new(w||_)};static#t=this.\u0275prov=A.Yz7({token:_,factory:function(){return(0,A.f3M)(wv)},providedIn:"root"})}return _})(),wv=(()=>{class _ extends Yh{constructor(m){super(),this.title=m}updateTitle(m){const w=this.buildTitle(m);void 0!==w&&this.title.setTitle(w)}static#e=this.\u0275fac=function(w){return new(w||_)(A.LFG(Br.Dx))};static#t=this.\u0275prov=A.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})(),Au=(()=>{class _{static#e=this.\u0275fac=function(w){return new(w||_)};static#t=this.\u0275prov=A.Yz7({token:_,factory:function(){return(0,A.f3M)(To)},providedIn:"root"})}return _})();class Qg{shouldDetach(I){return!1}store(I,m){}shouldAttach(I){return!1}retrieve(I){return null}shouldReuseRoute(I,m){return I.routeConfig===m.routeConfig}}let To=(()=>{class _ extends Qg{static#e=this.\u0275fac=function(){let m;return function(S){return(m||(m=A.n5z(_)))(S||_)}}();static#t=this.\u0275prov=A.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();const Pc=new A.OlP("",{providedIn:"root",factory:()=>({})});let Yg=(()=>{class _{static#e=this.\u0275fac=function(w){return new(w||_)};static#t=this.\u0275prov=A.Yz7({token:_,factory:function(){return(0,A.f3M)(Wn)},providedIn:"root"})}return _})(),Wn=(()=>{class _{shouldProcessUrl(m){return!0}extract(m){return m}merge(m,w){return m}static#e=this.\u0275fac=function(w){return new(w||_)};static#t=this.\u0275prov=A.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();var Ia=function(_){return _[_.COMPLETE=0]="COMPLETE",_[_.FAILED=1]="FAILED",_[_.REDIRECTING=2]="REDIRECTING",_}(Ia||{});function Mc(_,I){_.events.pipe(ze(m=>m instanceof po||m instanceof Ms||m instanceof Go||m instanceof Ho),(0,Qe.U)(m=>m instanceof po||m instanceof Ho?Ia.COMPLETE:m instanceof Ms&&(0===m.code||1===m.code)?Ia.REDIRECTING:Ia.FAILED),ze(m=>m!==Ia.REDIRECTING),Je(1)).subscribe(()=>{I()})}function Ti(_){throw _}function ld(_,I,m){return I.parse("/")}const es={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ts={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let rr=(()=>{class _{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,A.f3M)(A.c2e),this.isNgZoneEnabled=!1,this._events=new le.x,this.options=(0,A.f3M)(Pc,{optional:!0})||{},this.pendingTasks=(0,A.f3M)(A.HDt),this.errorHandler=this.options.errorHandler||Ti,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||ld,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,A.f3M)(Yg),this.routeReuseStrategy=(0,A.f3M)(Au),this.titleStrategy=(0,A.f3M)(Yh),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,A.f3M)(Oi,{optional:!0})?.flat()??[],this.navigationTransitions=(0,A.f3M)(cd),this.urlSerializer=(0,A.f3M)(se),this.location=(0,A.f3M)(ie.Ye),this.componentInputBindingEnabled=!!(0,A.f3M)(vi,{optional:!0}),this.eventsSubscription=new Ee.w0,this.isNgZoneEnabled=(0,A.f3M)(A.R0b)instanceof A.R0b&&A.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ii,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=st(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(m=>{this.lastSuccessfulId=m.id,this.currentPageId=this.browserPageId},m=>{this.console.warn(`Unhandled Navigation Error: ${m}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const m=this.navigationTransitions.events.subscribe(w=>{try{const{currentTransition:S}=this.navigationTransitions;if(null===S)return void(Zh(w)&&this._events.next(w));if(w instanceof $o)Qh(S.source)&&(this.browserUrlTree=S.extractedUrl);else if(w instanceof Ho)this.rawUrlTree=S.rawUrl;else if(w instanceof Ec){if("eager"===this.urlUpdateStrategy){if(!S.extras.skipLocationChange){const k=this.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl);this.setBrowserUrl(k,S)}this.browserUrlTree=S.urlAfterRedirects}}else if(w instanceof an)this.currentUrlTree=S.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl),this.routerState=S.targetRouterState,"deferred"===this.urlUpdateStrategy&&(S.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,S),this.browserUrlTree=S.urlAfterRedirects);else if(w instanceof Ms)0!==w.code&&1!==w.code&&(this.navigated=!0),(3===w.code||2===w.code)&&this.restoreHistory(S);else if(w instanceof er){const k=this.urlHandlingStrategy.merge(w.url,S.currentRawUrl),G={skipLocationChange:S.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Qh(S.source)};this.scheduleNavigation(k,bo,null,G,{resolve:S.resolve,reject:S.reject,promise:S.promise})}w instanceof Go&&this.restoreHistory(S,!0),w instanceof po&&(this.navigated=!0),Zh(w)&&this._events.next(w)}catch(S){this.navigationTransitions.transitionAbortSubject.next(S)}});this.eventsSubscription.add(m)}resetRootComponentType(m){this.routerState.root.component=m,this.navigationTransitions.rootComponentType=m}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const m=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),bo,m)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(m=>{const w="popstate"===m.type?"popstate":"hashchange";"popstate"===w&&setTimeout(()=>{this.navigateToSyncWithBrowser(m.url,w,m.state)},0)}))}navigateToSyncWithBrowser(m,w,S){const k={replaceUrl:!0},G=S?.navigationId?S:null;if(S){const fe={...S};delete fe.navigationId,delete fe.\u0275routerPageId,0!==Object.keys(fe).length&&(k.state=fe)}const ge=this.parseUrl(m);this.scheduleNavigation(ge,w,G,k)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(m){this.config=m.map(yr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(m,w={}){const{relativeTo:S,queryParams:k,fragment:G,queryParamsHandling:ge,preserveFragment:fe}=w,at=fe?this.currentUrlTree.fragment:G;let Jt,$t=null;switch(ge){case"merge":$t={...this.currentUrlTree.queryParams,...k};break;case"preserve":$t=this.currentUrlTree.queryParams;break;default:$t=k||null}null!==$t&&($t=this.removeEmptyProps($t));try{Jt=Pi(S?S.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof m[0]||!m[0].startsWith("/"))&&(m=[]),Jt=this.currentUrlTree.root}return Ss(Jt,m,$t,at??null)}navigateByUrl(m,w={skipLocationChange:!1}){const S=Sn(m)?m:this.parseUrl(m),k=this.urlHandlingStrategy.merge(S,this.rawUrlTree);return this.scheduleNavigation(k,bo,null,w)}navigate(m,w={skipLocationChange:!1}){return function Zg(_){for(let I=0;I<_.length;I++)if(null==_[I])throw new A.vHH(4008,!1)}(m),this.navigateByUrl(this.createUrlTree(m,w),w)}serializeUrl(m){return this.urlSerializer.serialize(m)}parseUrl(m){let w;try{w=this.urlSerializer.parse(m)}catch(S){w=this.malformedUriErrorHandler(S,this.urlSerializer,m)}return w}isActive(m,w){let S;if(S=!0===w?{...es}:!1===w?{...ts}:w,Sn(m))return Or(this.currentUrlTree,m,S);const k=this.parseUrl(m);return Or(this.currentUrlTree,k,S)}removeEmptyProps(m){return Object.keys(m).reduce((w,S)=>{const k=m[S];return null!=k&&(w[S]=k),w},{})}scheduleNavigation(m,w,S,k,G){if(this.disposed)return Promise.resolve(!1);let ge,fe,at;G?(ge=G.resolve,fe=G.reject,at=G.promise):at=new Promise((Jt,on)=>{ge=Jt,fe=on});const $t=this.pendingTasks.add();return Mc(this,()=>{queueMicrotask(()=>this.pendingTasks.remove($t))}),this.navigationTransitions.handleNavigationRequest({source:w,restoredState:S,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:m,extras:k,resolve:ge,reject:fe,promise:at,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),at.catch(Jt=>Promise.reject(Jt))}setBrowserUrl(m,w){const S=this.urlSerializer.serialize(m);if(this.location.isCurrentPathEqualTo(S)||w.extras.replaceUrl){const G={...w.extras.state,...this.generateNgRouterState(w.id,this.browserPageId)};this.location.replaceState(S,"",G)}else{const k={...w.extras.state,...this.generateNgRouterState(w.id,this.browserPageId+1)};this.location.go(S,"",k)}}restoreHistory(m,w=!1){if("computed"===this.canceledNavigationResolution){const k=this.currentPageId-this.browserPageId;0!==k?this.location.historyGo(k):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===k&&(this.resetState(m),this.browserUrlTree=m.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(w&&this.resetState(m),this.resetUrlToCurrentUrlTree())}resetState(m){this.routerState=m.currentRouterState,this.currentUrlTree=m.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,m.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(m,w){return"computed"===this.canceledNavigationResolution?{navigationId:m,\u0275routerPageId:w}:{navigationId:m}}static#e=this.\u0275fac=function(w){return new(w||_)};static#t=this.\u0275prov=A.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();function Zh(_){return!(_ instanceof an||_ instanceof er)}class xc{}let hd=(()=>{class _{constructor(m,w,S,k,G){this.router=m,this.injector=S,this.preloadingStrategy=k,this.loader=G}setUpPreloading(){this.subscription=this.router.events.pipe(ze(m=>m instanceof po),vn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(m,w){const S=[];for(const k of w){k.providers&&!k._injector&&(k._injector=(0,A.MMx)(k.providers,m,`Route: ${k.path}`));const G=k._injector??m,ge=k._loadedInjector??G;(k.loadChildren&&!k._loadedRoutes&&void 0===k.canLoad||k.loadComponent&&!k._loadedComponent)&&S.push(this.preloadConfig(G,k)),(k.children||k._loadedRoutes)&&S.push(this.processRoutes(ge,k.children??k._loadedRoutes))}return(0,W.D)(S).pipe((0,wt.J)())}preloadConfig(m,w){return this.preloadingStrategy.preload(w,()=>{let S;S=w.loadChildren&&void 0===w.canLoad?this.loader.loadChildren(m,w):(0,ye.of)(null);const k=S.pipe((0,Ct.z)(G=>null===G?(0,ye.of)(void 0):(w._loadedRoutes=G.routes,w._loadedInjector=G.injector,this.processRoutes(G.injector??m,G.routes))));if(w.loadComponent&&!w._loadedComponent){const G=this.loader.loadComponent(w);return(0,W.D)([k,G]).pipe((0,wt.J)())}return k})}static#e=this.\u0275fac=function(w){return new(w||_)(A.LFG(rr),A.LFG(A.Sil),A.LFG(A.lqb),A.LFG(xc),A.LFG(Eo))};static#t=this.\u0275prov=A.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();const ef=new A.OlP("");let Vt=(()=>{class _{constructor(m,w,S,k,G={}){this.urlSerializer=m,this.transitions=w,this.viewportScroller=S,this.zone=k,this.options=G,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},G.scrollPositionRestoration=G.scrollPositionRestoration||"disabled",G.anchorScrolling=G.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof $o?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=m.navigationTrigger,this.restoredId=m.restoredState?m.restoredState.navigationId:0):m instanceof po?(this.lastId=m.id,this.scheduleScrollEvent(m,this.urlSerializer.parse(m.urlAfterRedirects).fragment)):m instanceof Ho&&0===m.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(m,this.urlSerializer.parse(m.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof Ns&&(m.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(m.position):m.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(m.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(m,w){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ns(m,"popstate"===this.lastSource?this.store[this.restoredId]:null,w))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(w){A.$Z()};static#t=this.\u0275prov=A.Yz7({token:_,factory:_.\u0275fac})}return _})();function rs(_,I){return{\u0275kind:_,\u0275providers:I}}function Xg(){const _=(0,A.f3M)(A.zs3);return I=>{const m=_.get(A.z2F);if(I!==m.components[0])return;const w=_.get(rr),S=_.get(Oc);1===_.get(nf)&&w.initialNavigation(),_.get(_n,null,A.XFs.Optional)?.setUpPreloading(),_.get(ef,null,A.XFs.Optional)?.init(),w.resetRootComponentType(m.componentTypes[0]),S.closed||(S.next(),S.complete(),S.unsubscribe())}}const Oc=new A.OlP("",{factory:()=>new le.x}),nf=new A.OlP("",{providedIn:"root",factory:()=>1}),_n=new A.OlP("");function kc(_){return rs(0,[{provide:_n,useExisting:hd},{provide:xc,useExisting:_}])}const bu=new A.OlP("ROUTER_FORROOT_GUARD"),Ea=[ie.Ye,{provide:se,useClass:Le},rr,Pr,{provide:Dn,useFactory:function Cv(_){return _.routerState.root},deps:[rr]},Eo,[]];function fd(){return new A.PXZ("Router",rr)}let Sv=(()=>{class _{constructor(m){}static forRoot(m,w){return{ngModule:_,providers:[Ea,[],{provide:Oi,multi:!0,useValue:m},{provide:bu,useFactory:tm,deps:[[rr,new A.FiY,new A.tp0]]},{provide:Pc,useValue:w||{}},w?.useHash?{provide:ie.S$,useClass:ie.Do}:{provide:ie.S$,useClass:ie.b0},{provide:ef,useFactory:()=>{const _=(0,A.f3M)(ie.EM),I=(0,A.f3M)(A.R0b),m=(0,A.f3M)(Pc),w=(0,A.f3M)(cd),S=(0,A.f3M)(se);return m.scrollOffset&&_.setOffset(m.scrollOffset),new Vt(S,w,_,I,m)}},w?.preloadingStrategy?kc(w.preloadingStrategy).\u0275providers:[],{provide:A.PXZ,multi:!0,useFactory:fd},w?.initialNavigation?is(w):[],w?.bindToComponentInputs?rs(8,[Zn,{provide:vi,useExisting:Zn}]).\u0275providers:[],[{provide:xo,useFactory:Xg},{provide:A.tb,multi:!0,useExisting:xo}]]}}static forChild(m){return{ngModule:_,providers:[{provide:Oi,multi:!0,useValue:m}]}}static#e=this.\u0275fac=function(w){return new(w||_)(A.LFG(bu,8))};static#t=this.\u0275mod=A.oAB({type:_});static#n=this.\u0275inj=A.cJS({})}return _})();function tm(_){return"guarded"}function is(_){return["disabled"===_.initialNavigation?rs(3,[{provide:A.ip1,multi:!0,useFactory:()=>{const I=(0,A.f3M)(rr);return()=>{I.setUpLocationChangeListener()}}},{provide:nf,useValue:2}]).\u0275providers:[],"enabledBlocking"===_.initialNavigation?rs(2,[{provide:nf,useValue:0},{provide:A.ip1,multi:!0,deps:[A.zs3],useFactory:I=>{const m=I.get(ie.V_,Promise.resolve());return()=>m.then(()=>new Promise(w=>{const S=I.get(rr),k=I.get(Oc);Mc(S,()=>{w(!0)}),I.get(cd).afterPreactivation=()=>(w(!0),k.closed?(0,ye.of)(void 0):k),S.initialNavigation()}))}}]).\u0275providers:[]]}const xo=new A.OlP("")},534:(xt,Ge,H)=>{H.d(Ge,{Jn:()=>co,qX:()=>pn,rh:()=>Ri,Xd:()=>ti,Mq:()=>ri,C6:()=>jr,ZF:()=>Wi,KN:()=>F});var A=H(5861),te=H(4537),Re=H(7879),we=H(9058);const W=(Ie,ae)=>ae.some(Me=>Ie instanceof Me);let ye,be;const Q=new WeakMap,X=new WeakMap,ve=new WeakMap,Xe=new WeakMap,Be=new WeakMap;let Ot={get(Ie,ae,Me){if(Ie instanceof IDBTransaction){if("done"===ae)return X.get(Ie);if("objectStoreNames"===ae)return Ie.objectStoreNames||ve.get(Ie);if("store"===ae)return Me.objectStoreNames[1]?void 0:Me.objectStore(Me.objectStoreNames[0])}return Se(Ie[ae])},set:(Ie,ae,Me)=>(Ie[ae]=Me,!0),has:(Ie,ae)=>Ie instanceof IDBTransaction&&("done"===ae||"store"===ae)||ae in Ie};function kn(Ie){return"function"==typeof Ie?function dn(Ie){return Ie!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function je(){return be||(be=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ie)?function(...ae){return Ie.apply(Ke(this),ae),Se(Q.get(this))}:function(...ae){return Se(Ie.apply(Ke(this),ae))}:function(ae,...Me){const ht=Ie.call(Ke(this),ae,...Me);return ve.set(ht,ae.sort?ae.sort():[ae]),Se(ht)}}(Ie):(Ie instanceof IDBTransaction&&function en(Ie){if(X.has(Ie))return;const ae=new Promise((Me,ht)=>{const Ut=()=>{Ie.removeEventListener("complete",Bt),Ie.removeEventListener("error",kt),Ie.removeEventListener("abort",kt)},Bt=()=>{Me(),Ut()},kt=()=>{ht(Ie.error||new DOMException("AbortError","AbortError")),Ut()};Ie.addEventListener("complete",Bt),Ie.addEventListener("error",kt),Ie.addEventListener("abort",kt)});X.set(Ie,ae)}(Ie),W(Ie,function tt(){return ye||(ye=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ie,Ot):Ie)}function Se(Ie){if(Ie instanceof IDBRequest)return function Qe(Ie){const ae=new Promise((Me,ht)=>{const Ut=()=>{Ie.removeEventListener("success",Bt),Ie.removeEventListener("error",kt)},Bt=()=>{Me(Se(Ie.result)),Ut()},kt=()=>{ht(Ie.error),Ut()};Ie.addEventListener("success",Bt),Ie.addEventListener("error",kt)});return ae.then(Me=>{Me instanceof IDBCursor&&Q.set(Me,Ie)}).catch(()=>{}),Be.set(ae,Ie),ae}(Ie);if(Xe.has(Ie))return Xe.get(Ie);const ae=kn(Ie);return ae!==Ie&&(Xe.set(Ie,ae),Be.set(ae,Ie)),ae}const Ke=Ie=>Be.get(Ie),ft=["get","getKey","getAll","getAllKeys","count"],nt=["put","add","delete","clear"],Ze=new Map;function wt(Ie,ae){if(!(Ie instanceof IDBDatabase)||ae in Ie||"string"!=typeof ae)return;if(Ze.get(ae))return Ze.get(ae);const Me=ae.replace(/FromIndex$/,""),ht=ae!==Me,Ut=nt.includes(Me);if(!(Me in(ht?IDBIndex:IDBObjectStore).prototype)||!Ut&&!ft.includes(Me))return;const Bt=function(){var kt=(0,A.Z)(function*(Nn,...mn){const Sn=this.transaction(Nn,Ut?"readwrite":"readonly");let nn=Sn.store;return ht&&(nn=nn.index(mn.shift())),(yield Promise.all([nn[Me](...mn),Ut&&Sn.done]))[0]});return function(mn){return kt.apply(this,arguments)}}();return Ze.set(ae,Bt),Bt}!function Nt(Ie){Ot=Ie(Ot)}(Ie=>({...Ie,get:(ae,Me,ht)=>wt(ae,Me)||Ie.get(ae,Me,ht),has:(ae,Me)=>!!wt(ae,Me)||Ie.has(ae,Me)}));class pr{constructor(ae){this.container=ae}getPlatformInfoString(){return this.container.getProviders().map(Me=>{if(function xr(Ie){const ae=Ie.getComponent();return"VERSION"===ae?.type}(Me)){const ht=Me.getImmediate();return`${ht.library}/${ht.version}`}return null}).filter(Me=>Me).join(" ")}}const $e="@firebase/app",hn=new Re.Yd("@firebase/app"),Wt="[DEFAULT]",qt={[$e]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},Br=new Map,bt=new Map,Jn=new Map;function Nr(Ie,ae){try{Ie.container.addComponent(ae)}catch(Me){hn.debug(`Component ${ae.name} failed to register with FirebaseApp ${Ie.name}`,Me)}}function ti(Ie){const ae=Ie.name;if(Jn.has(ae))return hn.debug(`There were multiple attempts to register component ${ae}.`),!1;Jn.set(ae,Ie);for(const Me of Br.values())Nr(Me,Ie);for(const Me of bt.values())Nr(Me,Ie);return!0}function pn(Ie,ae){const Me=Ie.container.getProvider("heartbeat").getImmediate({optional:!0});return Me&&Me.triggerHeartbeat(),Ie.container.getProvider(ae)}function Ri(Ie){return void 0!==Ie.settings}const Qn=new we.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Or{constructor(ae,Me,ht){this._isDeleted=!1,this._options=Object.assign({},ae),this._config=Object.assign({},Me),this._name=Me.name,this._automaticDataCollectionEnabled=Me.automaticDataCollectionEnabled,this._container=ht,this.container.addComponent(new te.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ae){this.checkDestroyed(),this._automaticDataCollectionEnabled=ae}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ae){this._isDeleted=ae}checkDestroyed(){if(this.isDeleted)throw Qn.create("app-deleted",{appName:this._name})}}const co="10.12.1";function Wi(Ie,ae={}){let Me=Ie;"object"!=typeof ae&&(ae={name:ae});const ht=Object.assign({name:Wt,automaticDataCollectionEnabled:!1},ae),Ut=ht.name;if("string"!=typeof Ut||!Ut)throw Qn.create("bad-app-name",{appName:String(Ut)});if(Me||(Me=(0,we.aH)()),!Me)throw Qn.create("no-options");const Bt=Br.get(Ut);if(Bt){if((0,we.vZ)(Me,Bt.options)&&(0,we.vZ)(ht,Bt.config))return Bt;throw Qn.create("duplicate-app",{appName:Ut})}const kt=new te.H0(Ut);for(const mn of Jn.values())kt.addComponent(mn);const Nn=new Or(Me,ht,kt);return Br.set(Ut,Nn),Nn}function ri(Ie=Wt){const ae=Br.get(Ie);if(!ae&&Ie===Wt&&(0,we.aH)())return Wi();if(!ae)throw Qn.create("no-app",{appName:Ie});return ae}function jr(){return Array.from(Br.values())}function F(Ie,ae,Me){var ht;let Ut=null!==(ht=qt[Ie])&&void 0!==ht?ht:Ie;Me&&(Ut+=`-${Me}`);const Bt=Ut.match(/\s|\//),kt=ae.match(/\s|\//);if(Bt||kt){const Nn=[`Unable to register library "${Ut}" with version "${ae}":`];return Bt&&Nn.push(`library name "${Ut}" contains illegal characters (whitespace or "/")`),Bt&&kt&&Nn.push("and"),kt&&Nn.push(`version name "${ae}" contains illegal characters (whitespace or "/")`),void hn.warn(Nn.join(" "))}ti(new te.wA(`${Ut}-version`,()=>({library:Ut,version:ae}),"VERSION"))}const U="firebase-heartbeat-database",se=1,Le="firebase-heartbeat-store";let rt=null;function Rt(){return rt||(rt=function Oe(Ie,ae,{blocked:Me,upgrade:ht,blocking:Ut,terminated:Bt}={}){const kt=indexedDB.open(Ie,ae),Nn=Se(kt);return ht&&kt.addEventListener("upgradeneeded",mn=>{ht(Se(kt.result),mn.oldVersion,mn.newVersion,Se(kt.transaction),mn)}),Me&&kt.addEventListener("blocked",mn=>Me(mn.oldVersion,mn.newVersion,mn)),Nn.then(mn=>{Bt&&mn.addEventListener("close",()=>Bt()),Ut&&mn.addEventListener("versionchange",Sn=>Ut(Sn.oldVersion,Sn.newVersion,Sn))}).catch(()=>{}),Nn}(U,se,{upgrade:(Ie,ae)=>{if(0===ae)try{Ie.createObjectStore(Le)}catch(Me){console.warn(Me)}}}).catch(Ie=>{throw Qn.create("idb-open",{originalErrorMessage:Ie.message})})),rt}function sn(){return(sn=(0,A.Z)(function*(Ie){try{const Me=(yield Rt()).transaction(Le),ht=yield Me.objectStore(Le).get($r(Ie));return yield Me.done,ht}catch(ae){if(ae instanceof we.ZR)hn.warn(ae.message);else{const Me=Qn.create("idb-get",{originalErrorMessage:ae?.message});hn.warn(Me.message)}}})).apply(this,arguments)}function Mt(Ie,ae){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,A.Z)(function*(Ie,ae){try{const ht=(yield Rt()).transaction(Le,"readwrite");yield ht.objectStore(Le).put(ae,$r(Ie)),yield ht.done}catch(Me){if(Me instanceof we.ZR)hn.warn(Me.message);else{const ht=Qn.create("idb-set",{originalErrorMessage:Me?.message});hn.warn(ht.message)}}})).apply(this,arguments)}function $r(Ie){return`${Ie.name}!${Ie.options.appId}`}class Cs{constructor(ae){this.container=ae,this._heartbeatsCache=null;const Me=this.container.getProvider("app").getImmediate();this._storage=new gr(Me),this._heartbeatsCachePromise=this._storage.read().then(ht=>(this._heartbeatsCache=ht,ht))}triggerHeartbeat(){var ae=this;return(0,A.Z)(function*(){var Me,ht;const Bt=ae.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),kt=Gr();if((null!=(null===(Me=ae._heartbeatsCache)||void 0===Me?void 0:Me.heartbeats)||(ae._heartbeatsCache=yield ae._heartbeatsCachePromise,null!=(null===(ht=ae._heartbeatsCache)||void 0===ht?void 0:ht.heartbeats)))&&ae._heartbeatsCache.lastSentHeartbeatDate!==kt&&!ae._heartbeatsCache.heartbeats.some(Nn=>Nn.date===kt))return ae._heartbeatsCache.heartbeats.push({date:kt,agent:Bt}),ae._heartbeatsCache.heartbeats=ae._heartbeatsCache.heartbeats.filter(Nn=>{const mn=new Date(Nn.date).valueOf();return Date.now()-mn<=2592e6}),ae._storage.overwrite(ae._heartbeatsCache)})()}getHeartbeatsHeader(){var ae=this;return(0,A.Z)(function*(){var Me;if(null===ae._heartbeatsCache&&(yield ae._heartbeatsCachePromise),null==(null===(Me=ae._heartbeatsCache)||void 0===Me?void 0:Me.heartbeats)||0===ae._heartbeatsCache.heartbeats.length)return"";const ht=Gr(),{heartbeatsToSend:Ut,unsentEntries:Bt}=function bs(Ie,ae=1024){const Me=[];let ht=Ie.slice();for(const Ut of Ie){const Bt=Me.find(kt=>kt.agent===Ut.agent);if(Bt){if(Bt.dates.push(Ut.date),lo(Me)>ae){Bt.dates.pop();break}}else if(Me.push({agent:Ut.agent,dates:[Ut.date]}),lo(Me)>ae){Me.pop();break}ht=ht.slice(1)}return{heartbeatsToSend:Me,unsentEntries:ht}}(ae._heartbeatsCache.heartbeats),kt=(0,we.L)(JSON.stringify({version:2,heartbeats:Ut}));return ae._heartbeatsCache.lastSentHeartbeatDate=ht,Bt.length>0?(ae._heartbeatsCache.heartbeats=Bt,yield ae._storage.overwrite(ae._heartbeatsCache)):(ae._heartbeatsCache.heartbeats=[],ae._storage.overwrite(ae._heartbeatsCache)),kt})()}}function Gr(){return(new Date).toISOString().substring(0,10)}class gr{constructor(ae){this.app=ae,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,A.Z)(function*(){return!!(0,we.hl)()&&(0,we.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ae=this;return(0,A.Z)(function*(){if(yield ae._canUseIndexedDBPromise){const ht=yield function Dt(Ie){return sn.apply(this,arguments)}(ae.app);return ht?.heartbeats?ht:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(ae){var Me=this;return(0,A.Z)(function*(){var ht;if(yield Me._canUseIndexedDBPromise){const Bt=yield Me.read();return Mt(Me.app,{lastSentHeartbeatDate:null!==(ht=ae.lastSentHeartbeatDate)&&void 0!==ht?ht:Bt.lastSentHeartbeatDate,heartbeats:ae.heartbeats})}})()}add(ae){var Me=this;return(0,A.Z)(function*(){var ht;if(yield Me._canUseIndexedDBPromise){const Bt=yield Me.read();return Mt(Me.app,{lastSentHeartbeatDate:null!==(ht=ae.lastSentHeartbeatDate)&&void 0!==ht?ht:Bt.lastSentHeartbeatDate,heartbeats:[...Bt.heartbeats,...ae.heartbeats]})}})()}}function lo(Ie){return(0,we.L)(JSON.stringify({version:2,heartbeats:Ie})).length}!function gn(Ie){ti(new te.wA("platform-logger",ae=>new pr(ae),"PRIVATE")),ti(new te.wA("heartbeat",ae=>new Cs(ae),"PRIVATE")),F($e,"0.10.4",Ie),F($e,"0.10.4","esm2017"),F("fire-js","")}("")},4537:(xt,Ge,H)=>{H.d(Ge,{H0:()=>tt,wA:()=>Re});var A=H(5861),te=H(9058);class Re{constructor(Q,X,ve){this.name=Q,this.instanceFactory=X,this.type=ve,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Q){return this.instantiationMode=Q,this}setMultipleInstances(Q){return this.multipleInstances=Q,this}setServiceProps(Q){return this.serviceProps=Q,this}setInstanceCreatedCallback(Q){return this.onInstanceCreated=Q,this}}const we="[DEFAULT]";class W{constructor(Q,X){this.name=Q,this.container=X,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Q){const X=this.normalizeInstanceIdentifier(Q);if(!this.instancesDeferred.has(X)){const ve=new te.BH;if(this.instancesDeferred.set(X,ve),this.isInitialized(X)||this.shouldAutoInitialize())try{const Xe=this.getOrInitializeService({instanceIdentifier:X});Xe&&ve.resolve(Xe)}catch{}}return this.instancesDeferred.get(X).promise}getImmediate(Q){var X;const ve=this.normalizeInstanceIdentifier(Q?.identifier),Xe=null!==(X=Q?.optional)&&void 0!==X&&X;if(!this.isInitialized(ve)&&!this.shouldAutoInitialize()){if(Xe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ve})}catch(Be){if(Xe)return null;throw Be}}getComponent(){return this.component}setComponent(Q){if(Q.name!==this.name)throw Error(`Mismatching Component ${Q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Q,this.shouldAutoInitialize()){if(function be(je){return"EAGER"===je.instantiationMode}(Q))try{this.getOrInitializeService({instanceIdentifier:we})}catch{}for(const[X,ve]of this.instancesDeferred.entries()){const Xe=this.normalizeInstanceIdentifier(X);try{const Be=this.getOrInitializeService({instanceIdentifier:Xe});ve.resolve(Be)}catch{}}}}clearInstance(Q=we){this.instancesDeferred.delete(Q),this.instancesOptions.delete(Q),this.instances.delete(Q)}delete(){var Q=this;return(0,A.Z)(function*(){const X=Array.from(Q.instances.values());yield Promise.all([...X.filter(ve=>"INTERNAL"in ve).map(ve=>ve.INTERNAL.delete()),...X.filter(ve=>"_delete"in ve).map(ve=>ve._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Q=we){return this.instances.has(Q)}getOptions(Q=we){return this.instancesOptions.get(Q)||{}}initialize(Q={}){const{options:X={}}=Q,ve=this.normalizeInstanceIdentifier(Q.instanceIdentifier);if(this.isInitialized(ve))throw Error(`${this.name}(${ve}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Xe=this.getOrInitializeService({instanceIdentifier:ve,options:X});for(const[Be,Qe]of this.instancesDeferred.entries())ve===this.normalizeInstanceIdentifier(Be)&&Qe.resolve(Xe);return Xe}onInit(Q,X){var ve;const Xe=this.normalizeInstanceIdentifier(X),Be=null!==(ve=this.onInitCallbacks.get(Xe))&&void 0!==ve?ve:new Set;Be.add(Q),this.onInitCallbacks.set(Xe,Be);const Qe=this.instances.get(Xe);return Qe&&Q(Qe,Xe),()=>{Be.delete(Q)}}invokeOnInitCallbacks(Q,X){const ve=this.onInitCallbacks.get(X);if(ve)for(const Xe of ve)try{Xe(Q,X)}catch{}}getOrInitializeService({instanceIdentifier:Q,options:X={}}){let ve=this.instances.get(Q);if(!ve&&this.component&&(ve=this.component.instanceFactory(this.container,{instanceIdentifier:(je=Q,je===we?void 0:je),options:X}),this.instances.set(Q,ve),this.instancesOptions.set(Q,X),this.invokeOnInitCallbacks(ve,Q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Q,ve)}catch{}var je;return ve||null}normalizeInstanceIdentifier(Q=we){return this.component?this.component.multipleInstances?Q:we:Q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class tt{constructor(Q){this.name=Q,this.providers=new Map}addComponent(Q){const X=this.getProvider(Q.name);if(X.isComponentSet())throw new Error(`Component ${Q.name} has already been registered with ${this.name}`);X.setComponent(Q)}addOrOverwriteComponent(Q){this.getProvider(Q.name).isComponentSet()&&this.providers.delete(Q.name),this.addComponent(Q)}getProvider(Q){if(this.providers.has(Q))return this.providers.get(Q);const X=new W(Q,this);return this.providers.set(Q,X),X}getProviders(){return Array.from(this.providers.values())}}},7879:(xt,Ge,H)=>{H.d(Ge,{Yd:()=>be,in:()=>te});const A=[];var te=function(Q){return Q[Q.DEBUG=0]="DEBUG",Q[Q.VERBOSE=1]="VERBOSE",Q[Q.INFO=2]="INFO",Q[Q.WARN=3]="WARN",Q[Q.ERROR=4]="ERROR",Q[Q.SILENT=5]="SILENT",Q}(te||{});const Re={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},we=te.INFO,W={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},ye=(Q,X,...ve)=>{if(X<Q.logLevel)return;const Xe=(new Date).toISOString(),Be=W[X];if(!Be)throw new Error(`Attempted to log a message with an invalid logType (value: ${X})`);console[Be](`[${Xe}]  ${Q.name}:`,...ve)};class be{constructor(X){this.name=X,this._logLevel=we,this._logHandler=ye,this._userLogHandler=null,A.push(this)}get logLevel(){return this._logLevel}set logLevel(X){if(!(X in te))throw new TypeError(`Invalid value "${X}" assigned to \`logLevel\``);this._logLevel=X}setLogLevel(X){this._logLevel="string"==typeof X?Re[X]:X}get logHandler(){return this._logHandler}set logHandler(X){if("function"!=typeof X)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=X}get userLogHandler(){return this._userLogHandler}set userLogHandler(X){this._userLogHandler=X}debug(...X){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...X),this._logHandler(this,te.DEBUG,...X)}log(...X){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...X),this._logHandler(this,te.VERBOSE,...X)}info(...X){this._userLogHandler&&this._userLogHandler(this,te.INFO,...X),this._logHandler(this,te.INFO,...X)}warn(...X){this._userLogHandler&&this._userLogHandler(this,te.WARN,...X),this._logHandler(this,te.WARN,...X)}error(...X){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...X),this._logHandler(this,te.ERROR,...X)}}},3182:(xt,Ge,H)=>{H.d(Ge,{C6:()=>A.C6,KN:()=>A.KN,Mq:()=>A.Mq,ZF:()=>A.ZF});var A=H(534);(0,A.KN)("firebase","10.12.1","app")},5861:(xt,Ge,H)=>{function A(Re,we,W,ye,be,tt,je){try{var Q=Re[tt](je),X=Q.value}catch(ve){return void W(ve)}Q.done?we(X):Promise.resolve(X).then(ye,be)}function te(Re){return function(){var we=this,W=arguments;return new Promise(function(ye,be){var tt=Re.apply(we,W);function je(X){A(tt,ye,be,je,Q,"next",X)}function Q(X){A(tt,ye,be,je,Q,"throw",X)}je(void 0)})}}H.d(Ge,{Z:()=>te})},7582:(xt,Ge,H)=>{function we(Ee,me){var Pe={};for(var De in Ee)Object.prototype.hasOwnProperty.call(Ee,De)&&me.indexOf(De)<0&&(Pe[De]=Ee[De]);if(null!=Ee&&"function"==typeof Object.getOwnPropertySymbols){var le=0;for(De=Object.getOwnPropertySymbols(Ee);le<De.length;le++)me.indexOf(De[le])<0&&Object.prototype.propertyIsEnumerable.call(Ee,De[le])&&(Pe[De[le]]=Ee[De[le]])}return Pe}function ve(Ee,me,Pe,De){return new(Pe||(Pe=Promise))(function(ie,Ce){function Je(Ct){try{ze(De.next(Ct))}catch(yn){Ce(yn)}}function dt(Ct){try{ze(De.throw(Ct))}catch(yn){Ce(yn)}}function ze(Ct){Ct.done?ie(Ct.value):function le(ie){return ie instanceof Pe?ie:new Pe(function(Ce){Ce(ie)})}(Ct.value).then(Je,dt)}ze((De=De.apply(Ee,me||[])).next())})}function Se(Ee){return this instanceof Se?(this.v=Ee,this):new Se(Ee)}function Ke(Ee,me,Pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var le,De=Pe.apply(Ee,me||[]),ie=[];return le={},Ce("next"),Ce("throw"),Ce("return"),le[Symbol.asyncIterator]=function(){return this},le;function Ce(Rn){De[Rn]&&(le[Rn]=function(Fn){return new Promise(function(Kn,vn){ie.push([Rn,Fn,Kn,vn])>1||Je(Rn,Fn)})})}function Je(Rn,Fn){try{!function dt(Rn){Rn.value instanceof Se?Promise.resolve(Rn.value.v).then(ze,Ct):yn(ie[0][2],Rn)}(De[Rn](Fn))}catch(Kn){yn(ie[0][3],Kn)}}function ze(Rn){Je("next",Rn)}function Ct(Rn){Je("throw",Rn)}function yn(Rn,Fn){Rn(Fn),ie.shift(),ie.length&&Je(ie[0][0],ie[0][1])}}function lt(Ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Pe,me=Ee[Symbol.asyncIterator];return me?me.call(Ee):(Ee=function en(Ee){var me="function"==typeof Symbol&&Symbol.iterator,Pe=me&&Ee[me],De=0;if(Pe)return Pe.call(Ee);if(Ee&&"number"==typeof Ee.length)return{next:function(){return Ee&&De>=Ee.length&&(Ee=void 0),{value:Ee&&Ee[De++],done:!Ee}}};throw new TypeError(me?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ee),Pe={},De("next"),De("throw"),De("return"),Pe[Symbol.asyncIterator]=function(){return this},Pe);function De(ie){Pe[ie]=Ee[ie]&&function(Ce){return new Promise(function(Je,dt){!function le(ie,Ce,Je,dt){Promise.resolve(dt).then(function(ze){ie({value:ze,done:Je})},Ce)}(Je,dt,(Ce=Ee[ie](Ce)).done,Ce.value)})}}}H.d(Ge,{FC:()=>Ke,KL:()=>lt,_T:()=>we,mG:()=>ve,qq:()=>Se}),"function"==typeof SuppressedError&&SuppressedError}},xt=>{xt(xt.s=7035)}]);